"use strict";(self.webpackChunkpatient=self.webpackChunkpatient||[]).push([[821],{71767:(Vn,jt,pe)=>{pe.d(jt,{T_:()=>cr,nH:()=>ge,oI:()=>U});var Ae=(()=>{return(W=Ae||(Ae={})).Success="Success",W.Fail="Fail",W.Unknown="Unknown",Ae;var W})(),H=pe(26177);class ae{constructor(){this.allowExecution=!0,this._validationContext=new H._t,this.actionResult=Ae.Unknown}get validationContext(){return this._validationContext}execute(){this.processActionPipeline()}processActionPipeline(){this.startAction(),this.allowExecution&&this.processAction(),this.finishAction()}startAction(){this.start(),this.audit(),this.preValidateAction(),this.evaluateRules(),this.postValidateAction(),this.preExecuteAction()}finishAction(){this.postExecuteAction(),this.validateActionResult(),this.finish()}processAction(){this.performAction()}evaluateRules(){this.validateAction().isValid?(this.allowExecution=!0,this.validationContext.state=H.kk.Success):(this.allowExecution=!1,this.validationContext.state=H.kk.Failure)}validateAction(){return this.validationContext}}class Oe{constructor(){this.isSuccess=!1,this.message="",this.messages=new Array,this.timestamp=new Date}}var V=pe(56869),ke=pe(39646),at=pe(62843);class bt{constructor(){this.Errors=new Array}}class At extends bt{constructor(){super(),this.IsSuccess=!1}}var Se=(()=>{return(W=Se||(Se={}))[W.Information=1]="Information",W[W.Warning=2]="Warning",W[W.Error=3]="Error",Se;var W})(),te=pe(94650);let U=(()=>{class W{constructor(){this.Messages=new Array}addMessage(T){this.Messages.push(T)}hasErrors(){return!!(this.Messages&&this.Messages.length>0&&this.Messages.filter(M=>M.MessageType===Se.Error).length>0)}isGood(){return!(this.Messages&&this.Messages.length>0&&this.Messages.filter(M=>M.MessageType===Se.Error).length>0)}}return W.\u0275fac=function(T){return new(T||W)},W.\u0275prov=te.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();class Wt{constructor(m,T,M,Z,Le=!1){this.MessageType=Se.Information,this.Source="",this.DisplayToUser=!1,this.Name=m,this.Message=T,T&&(this.MessageType=M),Z&&(this.Source=Z),this.DisplayToUser=Le}WithName(m){return this.Name=m,this}WithMessage(m){return this.Message=m,this}WithMessageType(m){return this.MessageType=m,this}WithSource(m){return this.Source=m,this}WithDisplayToUser(m){return this.DisplayToUser=m,this}toString(){return`Name: ${this.Name}; Message: ${this.Message}; MessageType: ${this.MessageType.toString()}; Source: ${this.Source}; DisplayToUser: ${this.DisplayToUser}`}}class cr extends ae{constructor(m){super(),this.serviceContext=new U,this.response=this.createUnknownResponse(),this.actionName=m??""}start(){this.serviceContext.Messages=[]}audit(){var m;null===(m=this.loggingService)||void 0===m||m.log(this.actionName,V.zb.Information,"Preparing to [audit] action.")}createUnknownResponse(){const m=new Oe;return(0,ke.of)(m)}preExecuteAction(){var m;null===(m=this.loggingService)||void 0===m||m.log(this.actionName,V.zb.Information,"Preparing to [preExecuteAction] action.")}performAction(){var m;null===(m=this.loggingService)||void 0===m||m.log(this.actionName,V.zb.Information,`Preparing to perform [${this.actionName}].`)}preValidateAction(){var m;null===(m=this.loggingService)||void 0===m||m.log(this.actionName,V.zb.Information,`Preparing to preValidateAction [${this.actionName}].`)}finish(){var m;null===(m=this.loggingService)||void 0===m||m.log(this.actionName,V.zb.Information,"Preparing to [finish] action.")}validateAction(){return this.validationContext.renderRules()}postValidateAction(){var m,T;null===(m=this.loggingService)||void 0===m||m.log(this.actionName,V.zb.Information,`Preparing to determine if the action contains validation errors in ${this.actionName}`),this.validationContext.hasRuleViolations()&&(null===(T=this.loggingService)||void 0===T||T.log(this.actionName,V.zb.Information,`The target contains validation errors in ${this.actionName}`),this.validationContext.results.forEach(M=>{M.isValid||(this.publishRuleResult(M),this.retrieveRuleDetails(M))}),this.response=this.createFailResponse())}createFailResponse(m=null){const T=new At;T.IsSuccess=!1,T.Message=m??"Request failed.";const M={};this.serviceContext.Messages.forEach(Z=>{Z.MessageType===Se.Error&&(M[Z.Name]=Z.Message)}),T.Data=M,this.response=(0,at._)(T)}postExecuteAction(){this.actionResult===Ae.Fail&&this.serviceContext.Messages.forEach(m=>{var T;m.MessageType===Se.Error&&(null===(T=this.loggingService)||void 0===T||T.log(this.actionName,V.zb.Error,m.toString()))})}validateActionResult(){var m,T,M,Z;if(null===(m=this.loggingService)||void 0===m||m.log(this.actionName,V.zb.Information,`Running [validateActionResult] for ${this.actionName}.`),this.validationContext.hasRuleViolations()){null===(T=this.loggingService)||void 0===T||T.log(this.actionName,V.zb.Error,`The ${this.actionName} contains rule violations.`),this.actionResult=Ae.Fail;const Le=new At;Le.IsSuccess=!1,Le.Message=null!==(Z=null===(M=this.serviceContext.Messages[0])||void 0===M?void 0:M.Message)&&void 0!==Z?Z:"Validation errors exist";const St={};this.serviceContext.Messages.forEach(Zt=>{Zt.MessageType===Se.Error&&(St[Zt.Name]=Zt.Message)}),Le.Data=St,this.response=(0,at._)(Le)}return this.actionResult=this.serviceContext.isGood()?Ae.Success:Ae.Fail,this.actionResult}retrieveRuleDetails(m){if(m.rulePolicy instanceof H.ul){const T=m.rulePolicy;T&&T.hasErrors&&T.results.filter(Z=>!Z.isValid&&Z.rulePolicy&&Z.rulePolicy.isDisplayable).forEach(Z=>{this.publishRuleResult(Z),Z.rulePolicy instanceof H.ul&&this.retrieveRuleDetails(Z)})}}publishRuleResult(m){var T;const M=new Wt(m.rulePolicy.name,m.rulePolicy.message,Se.Error);M.DisplayToUser=m.rulePolicy.isDisplayable,M.Source=this.actionName,this.serviceContext.Messages.push(M),null===(T=this.loggingService)||void 0===T||T.log(this.actionName,V.zb.Error,`${M.toString()}`)}}var Be=pe(70655),lr=pe(30144),ot=pe(53098),nn=pe(50727);let st=(()=>{class W{}return W.Information="alert-info",W.Warning="alert-warning",W.Danger="alert-danger",W.Success="alert-success",W})();class N{constructor(m,T,M,Z){this.type=st.Information,this.messages=new Array,this.showAlert=!1,Z&&(this.type=Z),this.header=m,this.title=T,M&&(this.messages=M),this.header&&this.title&&(this.showAlert=!0)}}let xe=class{constructor(m,T,M){this.loggingService=T,this.router=M,this.navSubscription=new nn.w0,this.id=ot.i.create(),this.subscriptions=[],this.componentName=m,this.alertNotification=new N("",""),this.loggingService.log(this.componentName,V.zb.Information,`Preparing to load [${this.componentName}] component.`,[`ComponentId:${this.id}`])}subscribe(m){this.subscriptions.push(m)}ngOnDestroy(){this.subscriptions.forEach(m=>{m&&"function"==typeof m.unsubscribe&&m.unsubscribe()})}updateUrls(m){m.urlAfterRedirects&&(this.previousUrl=this.currentUrl,this.currentUrl=m.urlAfterRedirects)}googleAnalyticsSendEvent(m,T,M,Z){window.gtag("event",T,{event_category:m,event_label:M,value:Z})}createErrorResponse(m){this.loggingService.log(this.componentName,V.zb.Information,"Preparing to create error response for component.");const T=new At;return T.Message=m,T}handleServiceErrors(m,T){if(this.loggingService.log(this.componentName,V.zb.Information,"Preparing to handle service errors for component."),T&&T.hasErrors()){this.loggingService.log(this.componentName,V.zb.Information,"Retrieving error messages from the ServiceContext/ValidationContext;");const M=this.retrieveServiceContextErrorMessages(T);this.alertNotification=new N("Errors",m.Message,M,st.Warning)}else if(m&&m.Message){this.loggingService.log(this.componentName,V.zb.Information,"Retrieving error messages from the [ErrorResponse].");const M=this.retrieveResponseErrorMessages(m);this.alertNotification=new N("Error",m.Message,M,st.Warning),this.loggingService.log(this.componentName,V.zb.Error,`Error: ${m.Message}`)}}markFormAsTouched(m){m.markAsTouched({onlySelf:!1}),Object.values(m.controls).forEach(T=>{T.markAsTouched()})}logError(m,T){m instanceof Error?this.loggingService.log(this.componentName,V.zb.Error,T,[`${m.stack}`]):this.loggingService.log(this.componentName,V.zb.Error,T)}retrieveServiceContextErrorMessages(m){const T=Array();return m.Messages.forEach(M=>{M.MessageType===Se.Error&&M.DisplayToUser&&T.push(M.Message)}),T}retrieveResponseErrorMessages(m){const T=new Array;return m&&m.Errors&&m.Errors.forEach(M=>{M.DisplayToUser&&T.push(M.Message)}),T}resetAlertNotifications(){this.alertNotification=new N("","")}routeTo(m){try{this.router.navigate([m])}catch(T){this.loggingService.log(this.componentName,V.zb.Error,`Error while attempting to navigate to [${m}] route from ${this.componentName}. Error: ${T.message.toString()}`)}}showResponseErrors(m){this.handleServiceErrors(m,void 0)}finishRequest(m){this.loggingService.log(this.componentName,V.zb.Information,`${this.componentName}: ${m}`)}showAlertMessage(m){alert(m)}};xe=(0,Be.gn)([(0,te.tBr)({}),(0,Be.w6)("design:paramtypes",[String,V.ed,lr.F0])],xe);let ge=class{constructor(m,T,M){this.serviceName=m,this.loggingService=T,this.serviceContext=M,this.accessToken="",this.id=ot.i.create().toString(),this.subscriptions=[],this.loggingService.log(this.serviceName,V.zb.Information,`Initializing ${this.serviceName} at ${Date.now()} with id: ${this.id}`)}extractData(m){return m.json()||{}}handleUnexpectedError(m){const T=new Wt(m.name,m.message).WithDisplayToUser(!1).WithMessageType(Se.Error).WithSource(this.serviceName),M=[`${this.serviceName}`],Z=`${T.toString()}; ${m.stack}`;this.loggingService.log(this.serviceName,V.zb.Error,Z,M),this.serviceContext.addMessage(T)}handleError(m){const T=new Wt(m.name,m.message).WithDisplayToUser(!1).WithMessageType(Se.Error).WithSource(this.serviceName),M=[`${this.serviceName}`];this.loggingService.log(this.serviceName,V.zb.Error,T.toString(),M),this.serviceContext.addMessage(T)}createErrorResponse(m){const T=new At;return T.Message=m,T}createAPIResponse(m,T,M=!0){const Z={id:ot.i.create().toString(),isSuccess:M,data:T,message:m,messages:[],timestamp:new Date};return(0,ke.of)(Z)}finishRequest(m){this.loggingService.log(this.serviceName,V.zb.Information,`Request for [${m}] by ${this.serviceName} is complete.`),this.serviceContext.hasErrors()&&(this.loggingService.log(this.serviceName,V.zb.Information,"Preparing to write any messages."),this.serviceContext.Messages.filter(T=>T.MessageType===Se.Error&&T.DisplayToUser).forEach(T=>this.loggingService.log(this.serviceName,V.zb.Error,T.toString())))}logError(m,T){this.loggingService.log(this.serviceName,V.zb.Error,`${T}; Error: ${m.message}`)}ngOnDestroy(){this.unsubscribeAllSubscriptions()}resetServiceContext(){this.loggingService.log(this.serviceName,V.zb.Information,"Preparing to reset the Messages of the current [ServiceContext]."),this.serviceContext&&this.serviceContext.Messages?this.serviceContext.Messages.length>0?(this.loggingService.log(this.serviceName,V.zb.Information,"Resetting the Messages of the current [ServiceContext]."),this.serviceContext.Messages=new Array):this.loggingService.log(this.serviceName,V.zb.Information,"The current [ServiceContext] does not contain any [Messages]."):this.loggingService.log(this.serviceName,V.zb.Warning,"The current [ServiceContext] is not valid."),this.loggingService.log(this.serviceName,V.zb.Information,"Finished  processing request to [reset] the Messages of the current [ServiceContext].")}subscribe(m){this.subscriptions.push(m)}unsubscribeAllSubscriptions(){this.subscriptions.forEach(m=>{m&&"function"==typeof m.unsubscribe&&m.unsubscribe()})}writeMessages(){this.serviceContext&&this.serviceContext.Messages&&this.serviceContext.Messages.forEach(m=>{m.MessageType===Se.Error&&m.DisplayToUser&&this.loggingService.log(this.serviceName,V.zb.Error,m.toString())})}};ge=(0,Be.gn)([(0,te.tBr)({}),(0,Be.fM)(1,(0,te.tBr)(V.ed)),(0,Be.w6)("design:paramtypes",[String,Object,U])],ge)},56869:(Vn,jt,pe)=>{pe.d(jt,{ed:()=>At,zb:()=>ke}),pe(26177);var ae=pe(53098),Oe=pe(4707);class V{constructor(t,r,n,a,o){this.application=t,this.source=r,this.severity=n,this.message=a,this.timestamp=new Date(Date.now()),this.tags=o}}var ke=(()=>{return(e=ke||(ke={})).Information="Information",e.Warning="Warning",e.Error="Error",e.Critical="Critical",e.Debug="Debug",ke;var e})(),at=pe(94650);let bt=(()=>{class e{constructor(){this.isProduction=!1}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=at.Yz7({token:e,factory:e.\u0275fac}),e})(),At=(()=>{class e{constructor(r){this.loggingConfig=r,this.serviceName="LoggingService",this.timestamp=new Date,this.id=ae.i.create(),this.logEntriesSubject=new Oe.t(1),this.logEntries$=this.logEntriesSubject.asObservable(),this.log(this.serviceName,ke.Information,`Starting logging service [${this.id.toString()}] at: ${this.timestamp}`),this.initializeService(r)}initializeService(r){r&&(this.isProduction=this.loggingConfig.isProduction,this.applicationName=this.loggingConfig.applicationName?this.loggingConfig.applicationName:"Angular")}handleSettings(r){if(!r)throw new Error("The logging service configuration is not valid. Cannot initialize - you can do better, really.")}log(r,n,a,o){this.source=this.applicationName!==r?`${this.applicationName}.${r}`:this.applicationName,this.severity=n,this.message=a,this.timestamp=new Date,o?o.push(`LoggerId:${this.id.toString()}`):o=[`LoggerId:${this.id.toString()}`];const s=new V(this.applicationName,this.source,this.severity,this.message,o);this.logEntriesSubject.next(s)}}return e.\u0275fac=function(r){return new(r||e)(at.LFG(bt,8))},e.\u0275prov=at.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var te={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},U=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];Object.prototype.hasOwnProperty.call(te,e)||(e=te.log),U[e].apply(U,t)};function Wt(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{return e.apply(void 0,r)}catch(a){U.error(t,a)}}}U.debug=console.debug.bind(console),U.log=console.log.bind(console),U.info=console.info.bind(console),U.warn=console.warn.bind(console),U.error=console.error.bind(console);var yt,cr=function(e,t,r){if(r||2===arguments.length)for(var o,n=0,a=t.length;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))},Be=!1;function ot(e){Be=e}function st(e,t,r){var n=r.value;r.value=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return(yt?N(n):n).apply(this,a)}}function N(e){return function(){return xe(e,this,arguments)}}function xe(e,t,r){try{return e.apply(t,r)}catch(n){if(ge(te.error,n),yt)try{yt(n)}catch(a){ge(te.error,a)}}}function ge(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];Be&&U.apply(void 0,cr([e,"[MONITOR]"],t,!1))}function oe(e,t){return-1!==e.indexOf(t)}function W(e){if(Array.from)return Array.from(e);var t=[];if(e instanceof Set)e.forEach(function(n){return t.push(n)});else for(var r=0;r<e.length;r++)t.push(e[r]);return t}function m(e,t){for(var r=0;r<e.length;r+=1){var n=e[r];if(t(n,r))return n}}function Z(e){return Object.keys(e).map(function(t){return e[t]})}function Le(e){return Object.keys(e).map(function(t){return[t,e[t]]})}function St(e,t){return e.slice(0,t.length)===t}function Rr(e){return window.CSS&&window.CSS.escape?window.CSS.escape(e):e.replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(t,r){return r?"\0"===t?"\ufffd":"".concat(t.slice(0,-1),"\\").concat(t.charCodeAt(t.length-1).toString(16)," "):"\\".concat(t)})}function Y(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.forEach(function(n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}),e}function an(e){var t=Y({version:"4.39.0",onReady:function(r){r()}},e);return Object.defineProperty(t,"_setDebug",{get:function(){return ot},enumerable:!1}),t}function xt(e,t,r){var n=e[t];e[t]=r,n&&n.q&&n.q.forEach(function(a){return Wt(a,"onReady callback threw an error:")()})}function Et(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&(e="object"==typeof self?self:"object"==typeof window?window:{}),e}var re=(()=>{return(e=re||(re={})).PAGEHIDE="pagehide",e.FEATURE_FLAGS="feature_flags",e.RESOURCE_PAGE_STATES="resource_page_states",e.CLICKMAP="clickmap",e.COLLECT_FLUSH_REASON="collect_flush_reason",e.SANITIZE_INPUTS="sanitize_inputs",re;var e})(),fr=new Set;function le(e){return fr.has(e)}var b=1024,O=1024*b,P=/[^\u0000-\u007F]/;function j(e){return P.test(e)?void 0!==window.TextEncoder?(new TextEncoder).encode(e).length:new Blob([e]).size:e.length}function K(e,t){var n,r=Et();return r.Zone&&"function"==typeof r.Zone.__symbol__&&(n=e[r.Zone.__symbol__(t)]),n||(n=e[t]),n}function se(e,t){return K(Et(),"setTimeout")(N(e),t)}function be(e){K(Et(),"clearTimeout")(e)}function ze(e,t){return K(window,"setInterval")(N(e),t)}function dr(e){K(window,"clearInterval")(e)}function ut(e,t,r){var s,u,n=!r||void 0===r.leading||r.leading,a=!r||void 0===r.trailing||r.trailing,o=!1;return{throttled:function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];o?s=l:(n?e.apply(void 0,l):s=l,o=!0,u=se(function(){a&&s&&e.apply(void 0,s),o=!1,s=void 0},t))},cancel:function(){be(u),o=!1,s=void 0}}}function de(){}function Nt(e){return null===e?"null":Array.isArray(e)?"array":typeof e}function vr(e,t,r){if(void 0===r&&(r=function on(){if(typeof WeakSet<"u"){var e=new WeakSet;return{hasAlreadyBeenSeen:function(r){var n=e.has(r);return n||e.add(r),n}}}var t=[];return{hasAlreadyBeenSeen:function(r){var n=t.indexOf(r)>=0;return n||t.push(r),n}}}()),void 0===t)return e;if("object"!=typeof t||null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){var n=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,n)}if(!r.hasAlreadyBeenSeen(t)){if(Array.isArray(t)){for(var a=Array.isArray(e)?e:[],o=0;o<t.length;++o)a[o]=vr(a[o],t[o],r);return a}var s="object"===Nt(e)?e:{};for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(s[u]=vr(s[u],t[u],r));return s}}function Ze(e){return vr(void 0,e)}function Me(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r,n=0,a=e;n<a.length;n++){var o=a[n];null!=o&&(r=vr(r,o))}return r}function wt(e,t,r){if("object"!=typeof e||null===e)return JSON.stringify(e);var n=Ot(Object.prototype),a=Ot(Array.prototype),o=Ot(Object.getPrototypeOf(e)),s=Ot(e);try{return JSON.stringify(e,t,r)}catch{return"<error: unable to serialize object>"}finally{n(),a(),o(),s()}}function Ot(e){var t=e,r=t.toJSON;return r?(delete t.toJSON,function(){t.toJSON=r}):de}var z=220*b,ve="$",hr=3;function Re(e,t){var r;void 0===t&&(t=z);var n=Ot(Object.prototype),a=Ot(Array.prototype),o=[],s=new WeakMap,u=Gn(e,ve,void 0,o,s),l=(null===(r=JSON.stringify(u))||void 0===r?void 0:r.length)||0;if(!(l>t)){for(;o.length>0&&l<t;){var d=o.shift(),h=0;if(Array.isArray(d.source))for(var g=0;g<d.source.length;g++){if(l+=void 0!==(_=Gn(d.source[g],d.path,g,o,s))?JSON.stringify(_).length:4,l+=h,h=1,l>t){jn(t,"truncated",e);break}d.target[g]=_}else for(var g in d.source)if(Object.prototype.hasOwnProperty.call(d.source,g)){var _;if(void 0!==(_=Gn(d.source[g],d.path,g,o,s))&&(l+=JSON.stringify(_).length+h+g.length+hr,h=1),l>t){jn(t,"truncated",e);break}d.target[g]=_}}return n(),a(),u}jn(t,"discarded",e)}function Gn(e,t,r,n,a){var o=function tu(e){var t=e;if(t&&"function"==typeof t.toJSON)try{return t.toJSON()}catch{}return e}(e);if(!o||"object"!=typeof o)return function Qs(e){return"bigint"==typeof e?"[BigInt] ".concat(e.toString()):"function"==typeof e?"[Function] ".concat(e.name||"unknown"):"symbol"==typeof e?"[Symbol] ".concat(e.description||e.toString()):e}(o);var s=function eu(e){try{if(e instanceof Event)return{isTrusted:e.isTrusted};var r=Object.prototype.toString.call(e).match(/\[object (.*)\]/);if(r&&r[1])return"[".concat(r[1],"]")}catch{}return"[Unserializable]"}(o);if("[Object]"!==s&&"[Array]"!==s)return s;var u=e;if(a.has(u))return"[Reference seen at ".concat(a.get(u),"]");var l=void 0!==r?"".concat(t,".").concat(r):t,d=Array.isArray(o)?[]:{};return a.set(u,l),n.push({source:o,target:d,path:l}),d}function jn(e,t,r){U.warn("The data provided has been ".concat(t," as it is over the limit of ").concat(e," characters:"),r)}var ta=3*b;function ra(e,t){return e>ta&&(U.warn("The ".concat(t," data is over ").concat(ta/b,"KiB. On low connectivity, the SDK has the potential to exhaust the user's upload bandwidth.")),!0)}var ru=200;function Ir(e,t){void 0===t&&(t=j);var n,r={},a=!1,o=ut(function(s){n=t(wt(s)),a||(a=ra(n,e))},ru).throttled;return{getBytesCount:function(){return n},get:function(){return r},add:function(s,u){r[s]=u,o(r)},remove:function(s){delete r[s],o(r)},set:function(s){o(r=s)},getContext:function(){return Ze(r)},setContext:function(s){r=le(re.SANITIZE_INPUTS)?Re(s):Ze(s),o(r)},setContextProperty:function(s,u){r[s]=le(re.SANITIZE_INPUTS)?Re(u):Ze(u),o(r)},removeContextProperty:function(s){delete r[s],o(r)},clearContext:function(){r={},n=0}}}var Wn=function(){function e(){this.buffer=[]}return e.prototype.add=function(t){this.buffer.push(t)>500&&this.buffer.splice(0,1)},e.prototype.drain=function(){this.buffer.forEach(function(t){return t()}),this.buffer.length=0},e}();function Yt(e){return 0!==e&&100*Math.random()<=e}function na(e,t){return+e.toFixed(t)}function pr(e){return gr(e)&&e>=0&&e<=100}function gr(e){return"number"==typeof e}var sn,Ye=1e3,$e=60*Ye,ia=60*$e,au=24*ia*365;function Zn(e){return{relative:e,timeStamp:ou(e)}}function ou(e){var t=ct()-performance.now();return t>Ar()?Math.round($t(t,e)):function uu(e){return Math.round($t(Ar(),e))}(e)}function me(e){return gr(e)?na(1e6*e,0):e}function ct(){return(new Date).getTime()}function he(){return ct()}function Xe(){return performance.now()}function De(){return{relative:Xe(),timeStamp:he()}}function aa(){return{relative:0,timeStamp:Ar()}}function Ve(e,t){return t-e}function $t(e,t){return e+t}function Yn(e){return e-Ar()}function Ar(){return void 0===sn&&(sn=performance.timing.navigationStart),sn}function xr(){var e=function lu(){return Et().DatadogEventBridge}();if(e)return{getAllowedWebViewHosts:function(){return JSON.parse(e.getAllowedWebViewHosts())},send:function(t,r){e.send(JSON.stringify({eventType:t,event:r}))}}}function lt(e){var t;void 0===e&&(e=null===(t=Et().location)||void 0===t?void 0:t.hostname);var r=xr();return!!r&&r.getAllowedWebViewHosts().some(function(n){return e===n||function Zt(e,t){return e.slice(-t.length)===t}(e,".".concat(n))})}function un(e){var t=Y({},e);return["id","name","email"].forEach(function(n){n in t&&(t[n]=String(t[n]))}),t}function oa(e){var t="object"===Nt(e);return t||U.error("Unsupported user:",e),t}function He(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,He)}function $n(e,t){var n=new RegExp("(?:^|;)\\s*".concat(t,"\\s*=\\s*([^;]+)")).exec(e);return n?n[1]:void 0}function sa(e,t,r){void 0===r&&(r="");var n=e.charCodeAt(t-1),o=n>=55296&&n<=56319?t+1:t;return e.length<=o?e:"".concat(e.slice(0,o)).concat(r)}var qn,ua=Ye;function cn(e,t,r,n){var a=new Date;a.setTime(a.getTime()+r);var o="expires=".concat(a.toUTCString()),s=n&&n.crossSite?"none":"strict",u=n&&n.domain?";domain=".concat(n.domain):"",l=n&&n.secure?";secure":"";document.cookie="".concat(e,"=").concat(t,";").concat(o,";path=/;samesite=").concat(s).concat(u).concat(l)}function ft(e){return $n(document.cookie,e)}function Kn(e,t){cn(e,"",0,t)}function ca(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var t="dd_cookie_test_".concat(He()),r="test";cn(t,r,$e,e);var n=ft(t)===r;return Kn(t,e),n}catch(a){return U.error(a),!1}}function Nr(e){return Y({},e)}function la(e,t){return Object.keys(e).some(function(r){return e[r]===t})}function dt(e){return 0===Object.keys(e).length}function ln(e){return Kt(e,function gu(){return da(window.location)}()).href}function fn(e){return da(Kt(e))}function Kt(e,t){var r=function pu(){if(void 0===dn)try{var e=new fa("http://test/path");dn="http://test/path"===e.href}catch{dn=!1}return dn?fa:void 0}();if(r)try{return void 0!==t?new r(e,t):new r(e)}catch(s){throw new Error("Failed to construct URL: ".concat(String(s)," ").concat(wt({url:e,base:t})))}if(void 0===t&&!/:/.test(e))throw new Error("Invalid URL: '".concat(e,"'"));var n=document,a=n.createElement("a");if(void 0!==t){var o=(n=document.implementation.createHTMLDocument("")).createElement("base");o.href=t,n.head.appendChild(o),n.body.appendChild(a)}return a.href=e,a}var dn,fa=URL;function da(e){if(e.origin)return e.origin;var t=e.host.replace(/(:80|:443)$/,"");return"".concat(e.protocol,"//").concat(t)}var va="datad0g.com",mr="datadoghq.com",mu="datadoghq.eu",_u="ap1.datadoghq.com",yu={logs:"logs",rum:"rum",sessionReplay:"session-replay"},Su={logs:"logs",rum:"rum",sessionReplay:"replay"};function Or(e,t,r){var n=function Eu(e,t){var r="/api/v2/".concat(Su[t]),n=e.proxy,a=e.proxyUrl;if(n){var o=ln(n);return function(l){return"".concat(o,"?ddforward=").concat(encodeURIComponent("".concat(r,"?").concat(l)))}}var s=function wu(e,t){var r=e.site,n=void 0===r?mr:r,a=e.internalAnalyticsSubdomain;if(a&&n===mr)return"".concat(a,".").concat(mr);var o=n.split("."),s=o.pop(),u=n!==_u?"".concat(yu[t],"."):"";return"".concat(u,"browser-intake-").concat(o.join("-"),".").concat(s)}(e,t);if(void 0===n&&a){var u=ln(a);return function(l){return"".concat(u,"?ddforward=").concat(encodeURIComponent("https://".concat(s).concat(r,"?").concat(l)))}}return function(l){return"https://".concat(s).concat(r,"?").concat(l)}}(e,t);return{build:function(a,o,s){var u=function Tu(e,t,r,n,a,o){var s=e.clientToken,u=e.internalAnalyticsSubdomain,l=["sdk_version:".concat("4.39.0"),"api:".concat(n)].concat(r);a&&le(re.COLLECT_FLUSH_REASON)&&l.push("flush_reason:".concat(a)),o&&l.push("retry_count:".concat(o.count),"retry_after:".concat(o.lastFailureStatus));var d=["ddsource=browser","ddtags=".concat(encodeURIComponent(l.join(","))),"dd-api-key=".concat(s),"dd-evp-origin-version=".concat(encodeURIComponent("4.39.0")),"dd-evp-origin=browser","dd-request-id=".concat(He())];return"rum"===t&&d.push("batch_time=".concat(he())),u&&d.reverse(),d.join("&")}(e,t,r,a,o,s);return n(u)},urlPrefix:n(""),endpointType:t}}var Cu=200,Iu=/[^a-z0-9_:./-]/;function vn(e,t){(t.length>Cu-e.length-1||Iu.test(t))&&U.warn("".concat(e," value doesn't meet tag requirements and will be sanitized"));var n=t.replace(/,/g,"_");return"".concat(e,":").concat(n)}var kr={ALLOW:"allow",MASK:"mask",MASK_USER_INPUT:"mask-user-input"};function ha(e){var t,r,n;if(e&&e.clientToken){var a=null!==(t=e.sessionSampleRate)&&void 0!==t?t:e.sampleRate;if(void 0===a||pr(a))if(void 0===e.telemetrySampleRate||pr(e.telemetrySampleRate)){if(void 0===e.telemetryConfigurationSampleRate||pr(e.telemetryConfigurationSampleRate))return Array.isArray(e.enableExperimentalFeatures)&&function Hn(e){e.forEach(function(t){fr.add(t)})}(e.enableExperimentalFeatures.filter(function(o){return la(re,o)})),Y({beforeSend:e.beforeSend&&Wt(e.beforeSend,"beforeSend threw an error:"),cookieOptions:pa(e),sessionSampleRate:a??100,telemetrySampleRate:null!==(r=e.telemetrySampleRate)&&void 0!==r?r:20,telemetryConfigurationSampleRate:null!==(n=e.telemetryConfigurationSampleRate)&&void 0!==n?n:5,service:e.service,silentMultipleInit:!!e.silentMultipleInit,batchBytesLimit:16*b,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:30*Ye,batchMessagesLimit:50,messageBytesLimit:256*b},function Au(e){var t=function Ru(e){var t=e.env,r=e.service,n=e.version,a=e.datacenter,o=[];return t&&o.push(vn("env",t)),r&&o.push(vn("service",r)),n&&o.push(vn("version",n)),a&&o.push(vn("datacenter",a)),o}(e),r=function xu(e,t){return{logsEndpointBuilder:Or(e,"logs",t),rumEndpointBuilder:Or(e,"rum",t),sessionReplayEndpointBuilder:Or(e,"sessionReplay",t)}}(e,t),n=Z(r).map(function(o){return o.urlPrefix}),a=function Nu(e,t,r){if(e.replica){var n=Y({},e,{site:mr,clientToken:e.replica.clientToken}),a={logsEndpointBuilder:Or(n,"logs",r),rumEndpointBuilder:Or(n,"rum",r)};return t.push.apply(t,Z(a).map(function(o){return o.urlPrefix})),Y({applicationId:e.replica.applicationId},a)}}(e,n,t);return Y({isIntakeUrl:function(o){return n.some(function(s){return 0===o.indexOf(s)})},replica:a,site:e.site||mr},r)}(e));U.error("Telemetry Configuration Sample Rate should be a number between 0 and 100")}else U.error("Telemetry Sample Rate should be a number between 0 and 100");else U.error("Session Sample Rate should be a number between 0 and 100")}else U.error("Client Token is not configured, we will not send any data.")}function pa(e){var t={};return t.secure=function Ou(e){return!!e.useSecureSessionCookie||!!e.useCrossSiteSessionCookie}(e),t.crossSite=!!e.useCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=function fu(){if(void 0===qn){for(var e="dd_site_test_".concat(He()),r=window.location.hostname.split("."),n=r.pop();r.length&&!ft(e);)n="".concat(r.pop(),".").concat(n),cn(e,"test",Ye,{domain:n});Kn(e,{domain:n}),qn=n}return qn}()),t}function ga(e){var t,r,n=null!==(t=e.proxy)&&void 0!==t?t:e.proxyUrl;return{session_sample_rate:null!==(r=e.sessionSampleRate)&&void 0!==r?r:e.sampleRate,telemetry_sample_rate:e.telemetrySampleRate,telemetry_configuration_sample_rate:e.telemetryConfigurationSampleRate,use_before_send:!!e.beforeSend,use_cross_site_session_cookie:e.useCrossSiteSessionCookie,use_secure_session_cookie:e.useSecureSessionCookie,use_proxy:void 0!==n?!!n:void 0,silent_multiple_init:e.silentMultipleInit,track_session_across_subdomains:e.trackSessionAcrossSubdomains,track_resources:e.trackResources,track_long_task:e.trackLongTasks}}var Lr="?";function vt(e){var t=[],r=Xn(e,"stack"),n=String(e);return r&&St(r,n)&&(r=r.slice(n.length)),r&&r.split("\n").forEach(function(a){var o=function Mu(e){var t=ku.exec(e);if(t){var r=t[2]&&0===t[2].indexOf("native"),n=t[2]&&0===t[2].indexOf("eval"),a=Lu.exec(t[2]);return n&&a&&(t[2]=a[1],t[3]=a[2],t[4]=a[3]),{args:r?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||Lr,line:t[3]?+t[3]:void 0,url:r?void 0:t[2]}}}(a)||function Uu(e){var t=Du.exec(e);if(t)return{args:[],column:t[3]?+t[3]:void 0,func:Lr,line:t[2]?+t[2]:void 0,url:t[1]}}(a)||function Fu(e){var t=Pu.exec(e);if(t)return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||Lr,line:+t[3],url:t[2]}}(a)||function Vu(e){var t=Bu.exec(e);if(t){var r=t[3]&&t[3].indexOf(" > eval")>-1,n=zu.exec(t[3]);return r&&n&&(t[3]=n[1],t[4]=n[2],t[5]=void 0),{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||Lr,line:t[4]?+t[4]:void 0,url:t[3]}}}(a);o&&(!o.func&&o.line&&(o.func=Lr),t.push(o))}),{message:Xn(e,"message"),name:Xn(e,"name"),stack:t}}var ma="((?:file|https?|blob|chrome-extension|native|eval|webpack|snippet|<anonymous>|\\w+\\.|\\/).*?)",_r="(?::(\\d+))",ku=new RegExp("^\\s*at (.*?) ?\\(".concat(ma).concat(_r,"?").concat(_r,"?\\)?\\s*$"),"i"),Lu=new RegExp("\\((\\S*)".concat(_r).concat(_r,"\\)")),Du=new RegExp("^\\s*at ?".concat(ma).concat(_r,"?").concat(_r,"??\\s*$"),"i"),Pu=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Bu=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,zu=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function Xn(e,t){if("object"==typeof e&&e&&t in e){var r=e[t];return"string"==typeof r?r:void 0}}var _a="Provided",_e={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"};function Jn(e){var t=e.stackTrace,r=e.originalError,n=e.handlingStack,a=e.startClocks,o=e.nonErrorPrefix,s=e.source,u=e.handling;if(!t||void 0===t.message&&!(r instanceof Error)){var l=le(re.SANITIZE_INPUTS)?Re(r):r;return{startClocks:a,source:s,handling:u,originalError:l,message:"".concat(o," ").concat(wt(l)),stack:"No stack, consider using an instance of Error",handlingStack:n,type:t&&t.name}}return{startClocks:a,source:s,handling:u,originalError:r,message:t.message||"Empty message",stack:qt(t),handlingStack:n,type:t.name,causes:Gu(r,s)}}function qt(e){var t=ba(e);return e.stack.forEach(function(r){var n="?"===r.func?"<anonymous>":r.func,a=r.args&&r.args.length>0?"(".concat(r.args.join(", "),")"):"",o=r.line?":".concat(r.line):"",s=r.line&&r.column?":".concat(r.column):"";t+="\n  at ".concat(n).concat(a," @ ").concat(r.url).concat(o).concat(s)}),t}function ba(e){return"".concat(e.name||"Error",": ").concat(e.message)}function ya(){var r,t=new Error;if(!t.stack)try{throw t}catch{}return xe(function(){var n=vt(t);n.stack=n.stack.slice(2),r=qt(n)}),r}function Gu(e,t){for(var r=e,n=[];r?.cause instanceof Error&&n.length<10;){var a=vt(r.cause);n.push({message:r.cause.message,source:t,type:a?.name,stack:a&&qt(a)}),r=r.cause}return n.length?n:void 0}var Ee=function(){function e(t){this.onFirstSubscribe=t,this.observers=[]}return e.prototype.subscribe=function(t){var r=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe()||void 0),this.observers.push(t),{unsubscribe:function(){r.observers=r.observers.filter(function(n){return t!==n}),!r.observers.length&&r.onLastUnsubscribe&&r.onLastUnsubscribe()}}},e.prototype.notify=function(t){this.observers.forEach(function(r){return r(t)})},e}();function Sa(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=new Ee(function(){var n=e.map(function(a){return a.subscribe(function(o){return r.notify(o)})});return function(){return n.forEach(function(a){return a.unsubscribe()})}});return r}function ye(e,t,r,n){return Ue(e,[t],r,n)}function Ue(e,t,r,n){var a=void 0===n?{}:n,s=a.capture,u=a.passive,l=N(a.once?function(_){g(),r(_)}:r),d=u?{capture:s,passive:u}:s,h=K(e,"addEventListener");function g(){var _=K(e,"removeEventListener");t.forEach(function(y){return _.call(e,y,l,d)})}return t.forEach(function(_){return h.call(e,_,l,d)}),{stop:g}}var ht={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function Ea(e){var t=[];oe(e,ht.cspViolation)&&t.push(function Wu(){var e=new Ee(function(){var t=ye(document,"securitypolicyviolation",function(r){e.notify(function Yu(e){var t=ht.cspViolation,r="'".concat(e.blockedURI,"' blocked by '").concat(e.effectiveDirective,"' directive");return{type:ht.cspViolation,subtype:e.effectiveDirective,message:"".concat(t,": ").concat(r),stack:wa(e.effectiveDirective,e.originalPolicy?"".concat(r,' of the policy "').concat(sa(e.originalPolicy,100,"..."),'"'):"no policy",e.sourceFile,e.lineNumber,e.columnNumber)}}(r))}).stop;return t});return e}());var r=e.filter(function(n){return n!==ht.cspViolation});return r.length&&t.push(function ju(e){var t=new Ee(function(){if(window.ReportingObserver){var r=N(function(a){return a.forEach(function(o){t.notify(function Zu(e){var t=e.type,r=e.body;return{type:t,subtype:r.id,message:"".concat(t,": ").concat(r.message),stack:wa(r.id,r.message,r.sourceFile,r.lineNumber,r.columnNumber)}}(o))})}),n=new window.ReportingObserver(r,{types:e,buffered:!0});return n.observe(),function(){n.disconnect()}}});return t}(r)),Sa.apply(void 0,t)}function wa(e,t,r,n,a){return r&&qt({name:e,message:t,stack:[{func:"?",url:r,line:n,column:a}]})}var Ku=32*b;function Ta(e,t,r){return void 0===e?[]:"all"===e||Array.isArray(e)&&e.every(function(n){return oe(t,n)})?"all"===e?t:function $u(e){var t=new Set;return e.forEach(function(r){return t.add(r)}),W(t)}(e):void U.error("".concat(r,' should be "all" or an array with allowed values "').concat(t.join('", "'),'"'))}var fe={debug:"debug",error:"error",info:"info",warn:"warn"},Qn={console:"console",http:"http",silent:"silent"},Qu=Object.keys(fe),Ca=function(){function e(t,r,n,a,o){void 0===n&&(n=Qn.http),void 0===a&&(a=fe.debug),void 0===o&&(o={}),this.handleLogStrategy=t,this.handlerType=n,this.level=a,this.contextManager=Ir("logger context"),this.contextManager.set(Y({},o,r?{logger:{name:r}}:void 0))}return e.prototype.log=function(t,r,n,a){var o;if(void 0===n&&(n=fe.info),n===fe.error&&(o={origin:_e.LOGGER}),null!=a){var u=Jn({stackTrace:a instanceof Error?vt(a):void 0,originalError:a,nonErrorPrefix:_a,source:_e.LOGGER,handling:"handled",startClocks:De()});o={origin:_e.LOGGER,stack:u.stack,kind:u.type,message:u.message}}var l=le(re.SANITIZE_INPUTS)?Re(r):Ze(r),d=o?Me({error:o},l):l;this.handleLogStrategy({message:le(re.SANITIZE_INPUTS)?Re(t):t,context:d,status:n},this)},e.prototype.debug=function(t,r,n){this.log(t,r,fe.debug,n)},e.prototype.info=function(t,r,n){this.log(t,r,fe.info,n)},e.prototype.warn=function(t,r,n){this.log(t,r,fe.warn,n)},e.prototype.error=function(t,r,n){this.log(t,r,fe.error,n)},e.prototype.setContext=function(t){this.contextManager.set(t)},e.prototype.getContext=function(){return this.contextManager.get()},e.prototype.addContext=function(t,r){this.contextManager.add(t,r)},e.prototype.removeContext=function(t){this.contextManager.remove(t)},e.prototype.setHandler=function(t){this.handlerType=t},e.prototype.getHandler=function(){return this.handlerType},e.prototype.setLevel=function(t){this.level=t},e.prototype.getLevel=function(){return this.level},function(e,t,r,n){var s,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(s=e[u])&&(o=(a<3?s(o):a>3?s(t,r,o):s(t,r))||o);a>3&&o&&Object.defineProperty(t,r,o)}([st],e.prototype,"log",null),e}();function Mr(e,t){var r=window.__ddBrowserSdkExtensionCallback;r&&r({type:e,payload:t})}var Xt={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function Ra(){var e=new Ee(function(){var t=le(re.PAGEHIDE),r=Ue(window,["visibilitychange","freeze","pagehide"],function(a){"pagehide"===a.type&&t?e.notify({reason:Xt.PAGEHIDE}):"visibilitychange"===a.type&&"hidden"===document.visibilityState?e.notify({reason:Xt.HIDDEN}):"freeze"===a.type&&e.notify({reason:Xt.FROZEN})},{capture:!0}).stop,n=de;return t||(n=ye(window,"beforeunload",function(){e.notify({reason:Xt.UNLOADING})}).stop),function(){r(),n()}});return e}function Ia(e){return oe(Z(Xt),e)}var tc="datadog-synthetics-public-id",rc="datadog-synthetics-result-id",nc="datadog-synthetics-injects-rum";function hn(){return Boolean(window._DATADOG_SYNTHETICS_INJECTS_RUM||ft(nc))}function Aa(){var e=window._DATADOG_SYNTHETICS_PUBLIC_ID||ft(tc);return"string"==typeof e?e:void 0}function xa(){var e=window._DATADOG_SYNTHETICS_RESULT_ID||ft(rc);return"string"==typeof e?e:void 0}var Dr,ei={log:"log",configuration:"configuration"},ic=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","http://localhost","<anonymous>"],ac=["ddog-gov.com"],Je={maxEventsPerPage:0,sentEventCount:0,telemetryEnabled:!1,telemetryConfigurationEnabled:!1};function Na(e,t){var r,n=new Ee;return Je.telemetryEnabled=!oe(ac,t.site)&&Yt(t.telemetrySampleRate),Je.telemetryConfigurationEnabled=Je.telemetryEnabled&&Yt(t.telemetryConfigurationSampleRate),Dr=function(o){if(Je.telemetryEnabled){var s=function a(o,s){return Me({type:"telemetry",date:he(),service:o,version:"4.39.0",source:"browser",_dd:{format_version:2},telemetry:s,experimental_features:W(fr)},void 0!==r?r():{})}(e,o);n.notify(s),Mr("telemetry",s)}},function lr(e){yt=e}(pn),Y(Je,{maxEventsPerPage:t.maxTelemetryEventsPerPage,sentEventCount:0}),{setContextProvider:function(o){r=o},observable:n,enabled:Je.telemetryEnabled}}function Oa(e){return e.site===va}function Ur(e,t){ge(te.debug,e,t),ti(Y({type:ei.log,message:e,status:"debug"},t))}function pn(e){ti(Y({type:ei.log,status:"error"},function oc(e){if(e instanceof Error){var t=vt(e);return{error:{kind:t.name,stack:qt(sc(t))},message:t.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught ".concat(wt(e))}}(e)))}function ka(e){Je.telemetryConfigurationEnabled&&ti({type:ei.configuration,configuration:e})}function ti(e){Dr&&Je.sentEventCount<Je.maxEventsPerPage&&(Je.sentEventCount+=1,Dr(e))}function sc(e){return e.stack=e.stack.filter(function(t){return!t.url||ic.some(function(r){return St(t.url,r)})}),e}var La=function(){function e(t,r,n){var a=this;this.request=t,this.flushController=r,this.messageBytesLimit=n,this.pushOnlyBuffer=[],this.upsertBuffer={},this.flushController.flushObservable.subscribe(function(o){return a.flush(o)})}return e.prototype.add=function(t){this.addOrUpdate(t)},e.prototype.upsert=function(t,r){this.addOrUpdate(t,r)},e.prototype.flush=function(t){var r=this.pushOnlyBuffer.concat(Z(this.upsertBuffer));this.pushOnlyBuffer=[],this.upsertBuffer={};var n={data:r.join("\n"),bytesCount:t.bytesCount,flushReason:t.reason};Ia(t.reason)?this.request.sendOnExit(n):this.request.send(n)},e.prototype.addOrUpdate=function(t,r){var n=this.process(t),a=n.processedMessage,o=n.messageBytesCount;o>=this.messageBytesLimit?U.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(this.messageBytesLimit,"KB.")):(this.hasMessageFor(r)&&this.remove(r),this.push(a,o,r))},e.prototype.process=function(t){var r=wt(t);return{processedMessage:r,messageBytesCount:j(r)}},e.prototype.push=function(t,r,n){this.flushController.notifyBeforeAddMessage(r+(this.flushController.messagesCount>0?1:0)),void 0!==n?this.upsertBuffer[n]=t:this.pushOnlyBuffer.push(t),this.flushController.notifyAfterAddMessage()},e.prototype.remove=function(t){var r=this.upsertBuffer[t];delete this.upsertBuffer[t];var n=j(r);this.flushController.notifyAfterRemoveMessage(n+(this.flushController.messagesCount>1?1:0))},e.prototype.hasMessageFor=function(t){return void 0!==t&&void 0!==this.upsertBuffer[t]},e}();function Ma(e){return e>=500}function Da(e){try{return e.clone()}catch{return}}var uc=80*b,cc=32,Ua=3*O,lc=$e,Pa=Ye;function Fa(e,t,r,n,a){0===t.transportStatus&&0===t.queuedPayloads.size()&&t.bandwidthMonitor.canHandle(e)?za(e,t,r,{onSuccess:function(){return Va(0,t,r,n,a)},onFailure:function(){t.queuedPayloads.enqueue(e),Ba(t,r,n,a)}}):t.queuedPayloads.enqueue(e)}function Ba(e,t,r,n){2===e.transportStatus&&se(function(){za(e.queuedPayloads.first(),e,t,{onSuccess:function(){e.queuedPayloads.dequeue(),e.currentBackoffTime=Pa,Va(1,e,t,r,n)},onFailure:function(){e.currentBackoffTime=Math.min(lc,2*e.currentBackoffTime),Ba(e,t,r,n)}})},e.currentBackoffTime)}function za(e,t,r,n){var a=n.onSuccess,o=n.onFailure;t.bandwidthMonitor.add(e),r(e,function(s){t.bandwidthMonitor.remove(e),function fc(e){return"opaque"!==e.type&&(0===e.status&&!navigator.onLine||408===e.status||429===e.status||Ma(e.status))}(s)?(t.transportStatus=t.bandwidthMonitor.ongoingRequestCount>0?1:2,e.retry={count:e.retry?e.retry.count+1:1,lastFailureStatus:s.status},o()):(t.transportStatus=0,a())})}function Va(e,t,r,n,a){0===e&&t.queuedPayloads.isFull()&&!t.queueFullReported&&(a({message:"Reached max ".concat(n," events size queued for upload: ").concat(Ua/O,"MiB"),source:_e.AGENT,startClocks:De()}),t.queueFullReported=!0);var o=t.queuedPayloads;for(t.queuedPayloads=Ha();o.size()>0;)Fa(o.dequeue(),t,r,n,a)}function Ha(){var e=[];return{bytesCount:0,enqueue:function(t){this.isFull()||(e.push(t),this.bytesCount+=t.bytesCount)},first:function(){return e[0]},dequeue:function(){var t=e.shift();return t&&(this.bytesCount-=t.bytesCount),t},size:function(){return e.length},isFull:function(){return this.bytesCount>=Ua}}}function ri(e,t,r){var n=function dc(){return{transportStatus:0,currentBackoffTime:Pa,bandwidthMonitor:{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(e){return 0===this.ongoingRequestCount||this.ongoingByteCount+e.bytesCount<=uc&&this.ongoingRequestCount<cc},add:function(e){this.ongoingRequestCount+=1,this.ongoingByteCount+=e.bytesCount},remove:function(e){this.ongoingRequestCount-=1,this.ongoingByteCount-=e.bytesCount}},queuedPayloads:Ha(),queueFullReported:!1}}(),a=function(o,s){return function gc(e,t,r,n){var a=r.data,o=r.bytesCount,s=r.flushReason,u=r.retry;if(function mc(){try{return window.Request&&"keepalive"in new Request("http://a")}catch{return!1}}()&&o<t){var d=e.build("fetch",s,u);fetch(d,{method:"POST",body:a,keepalive:!0,mode:"cors"}).then(N(function(g){return n?.({status:g.status,type:g.type})}),N(function(){ni(e.build("xhr",s,u),a,n)}))}else ni(e.build("xhr",s,u),a,n)}(e,t,o,s)};return{send:function(o){Fa(o,n,a,e.endpointType,r)},sendOnExit:function(o){!function hc(e,t,r){var n=r.data,o=r.flushReason;if(!!navigator.sendBeacon&&r.bytesCount<t)try{var u=e.build("beacon",o);if(navigator.sendBeacon(u,n))return}catch(h){!function pc(e){Ga||(Ga=!0,pn(e))}(h)}ni(e.build("xhr",o),n)}(e,t,o)}}}var Ga=!1;function ni(e,t,r){var n=new XMLHttpRequest;n.open("POST",e,!0),ye(n,"loadend",function(){r?.({status:n.status})},{once:!0}),n.send(t)}function ja(e){var t=e.messagesLimit,r=e.bytesLimit,n=e.durationLimit,a=e.pageExitObservable,o=new Ee;a.subscribe(function(_){return l(_.reason)});var d,s=0,u=0;function l(_){if(0!==u){var y=u,S=s;u=0,s=0,g(),o.notify({reason:_,messagesCount:y,bytesCount:S})}}function g(){be(d),d=void 0}return{flushObservable:o,get messagesCount(){return u},notifyBeforeAddMessage:function(_){s+_>=r&&l("bytes_limit"),u+=1,s+=_,function h(){void 0===d&&(d=se(function(){l("duration_limit")},n))}()},notifyAfterAddMessage:function(){u>=t?l("messages_limit"):s>=r&&l("bytes_limit")},notifyAfterRemoveMessage:function(_){s-=_,0==(u-=1)&&g()}}}function Wa(e,t,r,n,a){var s,o=u(t);function u(l){return new La(ri(l,e.batchBytesLimit,r),ja({messagesLimit:e.batchMessagesLimit,bytesLimit:e.batchBytesLimit,durationLimit:e.flushTimeout,pageExitObservable:n}),e.messageBytesLimit)}return a&&(s=u(a)),{add:function(l,d){void 0===d&&(d=!0),o.add(l),s&&d&&s.add(l)}}}var _n,gn=1/0,_c=$e,Pr=function(){function e(t){var r=this;this.expireDelay=t,this.entries=[],this.clearOldValuesInterval=ze(function(){return r.clearOldValues()},_c)}return e.prototype.add=function(t,r){var n=this,a={value:t,startTime:r,endTime:gn,remove:function(){var o=n.entries.indexOf(a);o>=0&&n.entries.splice(o,1)},close:function(o){a.endTime=o}};return this.entries.unshift(a),a},e.prototype.find=function(t){void 0===t&&(t=gn);for(var r=0,n=this.entries;r<n.length;r++){var a=n[r];if(a.startTime<=t){if(t<=a.endTime)return a.value;break}}},e.prototype.closeActive=function(t){var r=this.entries[0];r&&r.endTime===gn&&r.close(t)},e.prototype.findAll=function(t){return void 0===t&&(t=gn),this.entries.filter(function(r){return r.startTime<=t&&t<=r.endTime}).map(function(r){return r.value})},e.prototype.reset=function(){this.entries=[]},e.prototype.stop=function(){dr(this.clearOldValuesInterval)},e.prototype.clearOldValues=function(){for(var t=Xe()-this.expireDelay;this.entries.length>0&&this.entries[this.entries.length-1].endTime<t;)this.entries.pop()},e}(),Fr=4*ia,Za=15*$e,Ya=/^([a-z]+)=([a-z0-9-]+)$/,ii="&",mn="_dd_s",Sc=10,Ec=100,$a=[];function Br(e,t){var r;if(void 0===t&&(t=0),_n||(_n=e),e===_n)if(t>=Ec)Ka();else{var n,a=zr();if(ai()){if(a.lock)return void bn(e,t);if(n=He(),a.lock=n,oi(a,e.options),(a=zr()).lock!==n)return void bn(e,t)}var o=e.process(a);if(ai()&&(a=zr()).lock!==n)bn(e,t);else{if(o&&qa(o,e.options),ai()&&(!o||!Ja(o))){if((a=zr()).lock!==n)return void bn(e,t);delete a.lock,oi(a,e.options),o=a}null===(r=e.after)||void 0===r||r.call(e,o||a),Ka()}}else $a.push(e)}function ai(){return function yc(){return!!window.chrome||/HeadlessChrome/.test(window.navigator.userAgent)}()}function bn(e,t){se(function(){Br(e,t+1)},Sc)}function Ka(){_n=void 0;var e=$a.shift();e&&Br(e)}function qa(e,t){Ja(e)?Xa(t):(e.expire=String(ct()+Za),oi(e,t))}function oi(e,t){cn(mn,function wc(e){return Le(e).map(function(t){var n=t[1];return"".concat(t[0],"=").concat(n)}).join(ii)}(e),Za,t)}function zr(){var e=ft(mn),t={};return function Tc(e){return void 0!==e&&(-1!==e.indexOf(ii)||Ya.test(e))}(e)&&e.split(ii).forEach(function(r){var n=Ya.exec(r);null!==n&&(t[n[1]]=n[2])}),t}function Xa(e){Kn(mn,e)}function Ja(e){return dt(e)}var Cc="_dd",Rc="_dd_r",Ic="_dd_l",Ac="rum",xc="logs";var kc=$e,Lc=Fr,Jt=[];function Qa(e,t,r){!function Nc(e){var t=ft(mn),r=ft(Cc),n=ft(Rc),a=ft(Ic);if(!t){var o={};r&&(o.id=r),a&&/^[01]$/.test(a)&&(o[xc]=a),n&&/^[012]$/.test(n)&&(o[Ac]=n),qa(o,e)}}(e);var n=function Oc(e,t,r){var n=new Ee,a=new Ee,o=ze(function d(){Br({options:e,process:function(C){return F(C)?void 0:{}},after:h})},ua),s=function D(){var C=zr();return F(C)?C:{}}();function h(C){return F(C)||(C={}),_()&&(function y(C){return s.id!==C.id||s[t]!==C[t]}(C)?function S(){s={},a.notify()}():s=C),C}function _(){return void 0!==s[t]}function F(C){return(void 0===C.created||ct()-Number(C.created)<Fr)&&(void 0===C.expire||ct()<Number(C.expire))}return{expandOrRenewSession:ut(function u(){var C;Br({options:e,process:function(G){var ne=h(G);return C=function g(C){var G=r(C[t]),X=G.isTracked;return C[t]=G.trackingType,X&&!C.id&&(C.id=He(),C.created=String(ct())),X}(ne),ne},after:function(G){C&&!_()&&function x(C){s=C,n.notify()}(G),s=G}})},ua).throttled,expandSession:function l(){Br({options:e,process:function(C){return _()?h(C):void 0}})},getSession:function(){return s},renewObservable:n,expireObservable:a,expire:function(){Xa(e),h({})},stop:function(){dr(o)}}}(e,t,r);Jt.push(function(){return n.stop()});var a=new Pr(Lc);function o(){return{id:n.getSession().id,trackingType:n.getSession()[t]}}return Jt.push(function(){return a.stop()}),n.renewObservable.subscribe(function(){a.add(o(),Xe())}),n.expireObservable.subscribe(function(){a.closeActive(Xe())}),n.expandOrRenewSession(),a.add(o(),aa().relative),function Mc(e){var t=Ue(window,["click","touchstart","keydown","scroll"],e,{capture:!0,passive:!0}).stop;Jt.push(t)}(function(){return n.expandOrRenewSession()}),function Dc(e){var t=function(){"visible"===document.visibilityState&&e()},r=ye(document,"visibilitychange",t).stop;Jt.push(r);var n=ze(t,kc);Jt.push(function(){dr(n)})}(function(){return n.expandSession()}),{findActiveSession:function(s){return a.find(s)},renewObservable:n.renewObservable,expireObservable:n.expireObservable,expire:n.expire}}var Uc="logs";function eo(e){return Yt(e.sessionSampleRate)?"1":"0"}function si(e,t,r){var n=0,a=!1;return{isLimitReached:function(){if(0===n&&se(function(){n=0},$e),(n+=1)<=t||a)return a=!1,!1;if(n===t+1){a=!0;try{r({message:"Reached max number of ".concat(e,"s by minute: ").concat(t),source:_e.AGENT,startClocks:De()})}finally{a=!1}}return!0}}}var br,to=((br={})[fe.debug]=0,br[fe.info]=1,br[fe.warn]=2,br[fe.error]=3,br);function ro(e,t,r){var n=r.getHandler(),a=Array.isArray(n)?n:[n];return to[e]>=to[r.getLevel()]&&oe(a,t)}var ui=!1;function yn(e){var t=window;if(hn()){var r=n(t.DD_RUM_SYNTHETICS);return!r&&!ui&&(ui=!0,Ur("Logs sent before RUM is injected by the synthetics worker",{testId:Aa(),resultId:xa()})),r}return n(t.DD_RUM);function n(a){if(a&&a.getInternalContext)return a.getInternalContext(e)}}var ci={};function no(e){var t=e.map(function(r){return ci[r]||(ci[r]=function Gc(e){var t=new Ee(function(){var r=console[e];return console[e]=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];r.apply(console,n);var o=ya();xe(function(){t.notify(function jc(e,t,r){var a,n=e.map(function(s){return function Wc(e){return"string"==typeof e?le(re.SANITIZE_INPUTS)?Re(e):e:e instanceof Error?ba(vt(e)):wt(le(re.SANITIZE_INPUTS)?Re(e):e,void 0,2)}(s)}).join(" ");if(t===te.error){var o=m(e,function(s){return s instanceof Error});a=o?qt(vt(o)):void 0,n="console error: ".concat(n)}return{api:t,message:n,stack:a,handlingStack:r}}(n,e,o))})},function(){console[e]=r}});return t}(r)),ci[r]});return Sa.apply(void 0,t)}var Qt,Vr,Zc=((Qt={})[te.log]=fe.info,Qt[te.debug]=fe.debug,Qt[te.info]=fe.info,Qt[te.warn]=fe.warn,Qt[te.error]=fe.error,Qt),$c=((Vr={})[ht.cspViolation]=fe.error,Vr[ht.intervention]=fe.error,Vr[ht.deprecation]=fe.warn,Vr);function io(e,t,r){var n=e[t],a=r(n),o=function(){if("function"==typeof a)return a.apply(this,arguments)};return e[t]=o,{stop:function(){e[t]===o?e[t]=n:a=n}}}function Ge(e,t,r){var n=r.before,a=r.after;return io(e,t,function(o){return function(){var u,s=arguments;return n&&xe(n,this,s),"function"==typeof o&&(u=o.apply(this,s)),a&&xe(a,this,s),u}})}function Hr(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(!n||!n.set||!n.configurable)return{stop:de};var a=function(s,u){se(function(){r(s,u)},0)},o=function(s){n.set.call(this,s),a(this,s)};return Object.defineProperty(e,t,{set:o}),{stop:function(){var s;(null===(s=Object.getOwnPropertyDescriptor(e,t))||void 0===s?void 0:s.set)===o?Object.defineProperty(e,t,n):a=de}}}var li,di,fi=new WeakMap;function ao(){return li||(li=function qc(){var e=new Ee(function(){var t=Ge(XMLHttpRequest.prototype,"open",{before:Xc}).stop,r=Ge(XMLHttpRequest.prototype,"send",{before:function(){Jc.call(this,e)}}).stop,n=Ge(XMLHttpRequest.prototype,"abort",{before:Qc}).stop;return function(){t(),r(),n()}});return e}()),li}function Xc(e,t){fi.set(this,{state:"open",method:e,url:ln(String(t))})}function Jc(e){var t=this,r=fi.get(this);if(r){var n=r;n.state="start",n.startTime=Xe(),n.startClocks=De(),n.isAborted=!1,n.xhr=this;var a=!1,o=Ge(this,"onreadystatechange",{before:function(){this.readyState===XMLHttpRequest.DONE&&s()}}).stop,s=function(){if(u(),o(),!a){a=!0;var l=r;l.state="complete",l.duration=Ve(n.startClocks.timeStamp,he()),l.status=t.status,e.notify(Nr(l))}},u=ye(this,"loadend",s).stop;e.notify(n)}}function Qc(){var e=fi.get(this);e&&(e.isAborted=!0)}function oo(){return di||(di=function el(){var e=new Ee(function(){if(window.fetch)return io(window,"fetch",function(r){return function(n,a){var o,s=xe(tl,null,[e,n,a]);return s?(o=r.call(this,s.input,s.init),xe(rl,null,[e,o,s])):o=r.call(this,n,a),o}}).stop});return e}()),di}function tl(e,t,r){var n=r&&r.method||t instanceof Request&&t.method||"GET",a=t instanceof Request?t.url:ln(String(t)),s={state:"start",init:r,input:t,method:n,startClocks:De(),url:a};return e.notify(s),s}function rl(e,t,r){var n=function(a){var o=r;o.state="resolve","stack"in a||a instanceof Error?(o.status=0,o.isAborted=a instanceof DOMException&&a.code===DOMException.ABORT_ERR,o.error=a):"status"in a&&(o.response=a,o.responseType=a.type,o.status=a.status,o.isAborted=!1),e.notify(o)};t.then(N(n),N(n))}function so(e,t,r){var n=e.getReader(),a=[],o=0;function u(){var l,d;if(n.cancel().catch(de),r.collectStreamBody){var h;if(1===a.length)h=a[0];else{h=new Uint8Array(o);var g=0;a.forEach(function(_){h.set(_,g),g+=_.length})}l=h.slice(0,r.bytesLimit),d=h.length>r.bytesLimit}t(void 0,l,d)}!function s(){n.read().then(N(function(l){l.done?u():(r.collectStreamBody&&a.push(l.value),(o+=l.value.length)>r.bytesLimit?u():s())}),N(function(l){return t(l)}))}()}function vi(e,t){return e.length>t.requestErrorResponseLengthLimit?"".concat(e.substring(0,t.requestErrorResponseLengthLimit),"..."):e}function ul(e){return"xhr"===e?"XHR":"Fetch"}var ll=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function uo(e){return function fl(e){var t=function dl(e){return Ge(window,"onerror",{before:function(t,r,n,a,o){var s;if(o)s=vt(o),e(s,o);else{var l,u={url:r,column:a,line:n},d=t;if("[object String]"==={}.toString.call(t)){var h=ll.exec(d);h&&(l=h[1],d=h[2])}e(s={name:l,message:"string"==typeof d?d:void 0,stack:[u]},t)}}})}(e).stop,r=function vl(e){return Ge(window,"onunhandledrejection",{before:function(t){var r=t.reason||"Empty reason",n=vt(r);e(n,r)}})}(e).stop;return{stop:function(){t(),r()}}}(function(t,r){e.notify(Jn({stackTrace:t,originalError:r,startClocks:De(),nonErrorPrefix:"Uncaught",source:_e.SOURCE,handling:"unhandled"}))})}var pl=function(){function e(){this.callbacks={}}return e.prototype.notify=function(t,r){var n=this.callbacks[t];n&&n.forEach(function(a){return a(r)})},e.prototype.subscribe=function(t,r){var n=this;return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(r),{unsubscribe:function(){n.callbacks[t]=n.callbacks[t].filter(function(a){return r!==a})}}},e}(),Sl=function ec(e){var t=!1,r=Ir("global context"),n=Ir("user"),a={},o=function(){},s=new Wn,u=function(y,S,x,D){void 0===x&&(x=Ze(h())),void 0===D&&(D=he()),s.add(function(){return u(y,S,x,D)})},l=function(){},d=new Ca(function(){for(var y=[],S=0;S<arguments.length;S++)y[S]=arguments[S];return u.apply(void 0,y)});function h(){return{view:{referrer:document.referrer,url:window.location.href},context:r.getContext(),user:n.getContext()}}return an({logger:d,init:N(function(y){var S;if(l=function(){return Ze(y)},lt()&&(y=function g(y){return Y({},y,{clientToken:"empty"})}(y)),function _(y){return!t||(y.silentMultipleInit||U.error("DD_LOGS is already initialized."),!1)}(y)){var x=function qu(e){var t=ha(e),r=Ta(e.forwardConsoleLogs,Z(te),"Forward Console Logs"),n=Ta(e.forwardReports,Z(ht),"Forward Reports");if(t&&r&&n)return e.forwardErrorsToLogs&&!oe(r,te.error)&&r.push(te.error),Y({forwardErrorsToLogs:!1!==e.forwardErrorsToLogs,forwardConsoleLogs:r,forwardReports:n,requestErrorResponseLengthLimit:Ku},t)}(y);x&&(S=e(y,x,h,d),u=S.handleLog,o=S.getInternalContext,s.drain(),t=!0)}}),getLoggerGlobalContext:N(r.get),getGlobalContext:N(r.getContext),setLoggerGlobalContext:N(r.set),setGlobalContext:N(r.setContext),addLoggerGlobalContext:N(r.add),setGlobalContextProperty:N(r.setContextProperty),removeLoggerGlobalContext:N(r.remove),removeGlobalContextProperty:N(r.removeContextProperty),clearGlobalContext:N(r.clearContext),createLogger:N(function(y,S){return void 0===S&&(S={}),a[y]=new Ca(function(){for(var x=[],D=0;D<arguments.length;D++)x[D]=arguments[D];return u.apply(void 0,x)},le(re.SANITIZE_INPUTS)?Re(y):y,S.handler,S.level,le(re.SANITIZE_INPUTS)?Re(S.context):S.context),a[y]}),getLogger:N(function(y){return a[y]}),getInitConfiguration:N(function(){return l()}),getInternalContext:N(function(y){return o(y)}),setUser:N(function(y){oa(y)&&n.setContext(un(y))}),getUser:N(n.getContext),setUserProperty:N(function(y,S){var x,D=un((x={},x[y]=S,x))[y];n.setContextProperty(y,D)}),removeUserProperty:N(n.removeContextProperty),clearUser:N(n.clearContext)})}(function bl(e,t,r,n){var a=new pl;a.subscribe(1,function(g){return Mr("logs",g)});var o=function(g){return a.notify(0,{rawLogsEvent:{message:g.message,date:g.startClocks.timeStamp,error:{origin:_e.AGENT},origin:_e.AGENT,status:fe.error}})},s=Ra();(function yl(e,t,r){var n,a=Na("browser-logs-sdk",e);if(lt()){var o=xr();a.observable.subscribe(function(u){return o.send("internal_telemetry",u)})}else{var s=Wa(e,e.rumEndpointBuilder,t,r,null===(n=e.replica)||void 0===n?void 0:n.rumEndpointBuilder);a.observable.subscribe(function(u){return s.add(u,Oa(e))})}return a})(t,o,s).setContextProvider(function(){var g,_,y,S,x,D;return{application:{id:null===(g=yn())||void 0===g?void 0:g.application_id},session:{id:null===(_=d.findTrackedSession())||void 0===_?void 0:_.id},view:{id:null===(S=null===(y=yn())||void 0===y?void 0:y.view)||void 0===S?void 0:S.id},action:{id:null===(D=null===(x=yn())||void 0===x?void 0:x.user_action)||void 0===D?void 0:D.id}}}),function nl(e,t){if(!e.forwardErrorsToLogs)return{stop:de};var r=ao().subscribe(function(o){"complete"===o.state&&a("xhr",o)}),n=oo().subscribe(function(o){"resolve"===o.state&&a("fetch",o)});function a(o,s){function u(l){t.notify(0,{rawLogsEvent:{message:"".concat(ul(o)," error ").concat(s.method," ").concat(s.url),date:s.startClocks.timeStamp,error:{origin:_e.NETWORK,stack:l||"Failed to load"},http:{method:s.method,status_code:s.status,url:s.url},status:fe.error,origin:_e.NETWORK}})}!e.isIntakeUrl(s.url)&&(function sl(e){return 0===e.status&&"opaque"!==e.responseType}(s)||Ma(s.status))&&("xhr"in s?function il(e,t,r){r("string"==typeof e.response?vi(e.response,t):e.response)}(s.xhr,e,u):s.response?function ol(e,t,r){var n=Da(e);n&&n.body?window.TextDecoder?function cl(e,t,r){so(e,function(n,a,o){if(n)r(n);else{var s=(new TextDecoder).decode(a);o&&(s+="..."),r(void 0,s)}},{bytesLimit:t,collectStreamBody:!0})}(n.body,t.requestErrorResponseLengthLimit,function(a,o){r(a?"Unable to retrieve response: ".concat(a):o)}):n.text().then(N(function(a){return r(vi(a,t))}),N(function(a){return r("Unable to retrieve response: ".concat(a))})):r()}(s.response,e,u):s.error&&function al(e,t,r){r(vi(qt(vt(e)),t))}(s.error,e,u))}return{stop:function(){r.unsubscribe(),n.unsubscribe()}}}(t,a),function hl(e,t){if(!e.forwardErrorsToLogs)return{stop:de};var r=new Ee,n=uo(r).stop,a=r.subscribe(function(o){t.notify(0,{rawLogsEvent:{message:o.message,date:o.startClocks.timeStamp,error:{kind:o.type,origin:_e.SOURCE,stack:o.stack},origin:_e.SOURCE,status:fe.error}})})}(t,a),function Yc(e,t){var r=no(e.forwardConsoleLogs).subscribe(function(n){t.notify(0,{rawLogsEvent:{date:he(),message:n.message,origin:_e.CONSOLE,error:n.api===te.error?{origin:_e.CONSOLE,stack:n.stack}:void 0,status:Zc[n.api]}})})}(t,a),function Kc(e,t){var r=Ea(e.forwardReports).subscribe(function(n){var s,a=n.message,o=$c[n.type];o===fe.error?s={kind:n.subtype,origin:_e.REPORT,stack:n.stack}:n.stack&&(a+=" Found in ".concat(function Hu(e){var t;return null===(t=/@ (.+)/.exec(e))||void 0===t?void 0:t[1]}(n.stack))),t.notify(0,{rawLogsEvent:{date:he(),message:a,origin:_e.REPORT,error:s,status:o}})})}(t,a);var l=function Vc(e){return{handleLog:function t(r,n,a,o){var s=r.context;ro(r.status,Qn.console,n)&&U(r.status,r.message,Me(n.getContext(),s)),e.notify(0,{rawLogsEvent:{date:o||he(),message:r.message,status:r.status,origin:_e.LOGGER},messageContext:s,savedCommonContext:a,logger:n})}}}(a).handleLog,d=!ca(t.cookieOptions)||lt()||hn()?function Fc(e){var r="1"===eo(e)?{}:void 0;return{findTrackedSession:function(){return r}}}(t):function Pc(e){var t=Qa(e.cookieOptions,Uc,function(r){return function Bc(e,t){var r=function zc(e){return"0"===e||"1"===e}(t)?t:eo(e);return{trackingType:r,isTracked:"1"===r}}(e,r)});return{findTrackedSession:function(r){var n=t.findActiveSession(r);return n&&"1"===n.trackingType?{id:n.id}:void 0}}}(t);(function Hc(e,t,r,n,a,o){var s=Qu.concat(["custom"]),u={};s.forEach(function(l){u[l]=si(l,t.eventRateLimiterThreshold,o)}),r.subscribe(0,function(l){var d,h,g,_=l.rawLogsEvent,y=l.messageContext,S=void 0===y?void 0:y,x=l.savedCommonContext,D=void 0===x?void 0:x,F=l.logger,C=void 0===F?a:F,G=Yn(_.date),ne=e.findTrackedSession(G);if(ne){var X=D||n(),Q=Me({service:t.service,session_id:ne.id,usr:dt(X.user)?void 0:X.user,view:X.view},X.context,yn(G),_,C.getContext(),S);!ro(_.status,Qn.http,C)||!1===(null===(d=t.beforeSend)||void 0===d?void 0:d.call(t,Q))||(null===(h=Q.error)||void 0===h?void 0:h.origin)!==_e.AGENT&&(null!==(g=u[Q.status])&&void 0!==g?g:u.custom).isLimitReached()||r.notify(1,Q)}})})(d,t,a,r,n,o),lt()?function ml(e){var t=xr();e.subscribe(1,function(r){t.send("log",r)})}(a):function gl(e,t,r,n){var a,o=Wa(e,e.logsEndpointBuilder,r,n,null===(a=e.replica)||void 0===a?void 0:a.logsEndpointBuilder);t.subscribe(1,function(s){o.add(s)})}(t,a,o,s),ka(function Xu(e){var t=ga(e);return Y({forward_errors_to_logs:e.forwardErrorsToLogs,forward_console_logs:e.forwardConsoleLogs,forward_reports:e.forwardReports},t)}(e));var h=function _l(e){return{get:function(t){var r=e.findTrackedSession(t);if(r)return{session_id:r.id}}}}(d);return{handleLog:l,getInternalContext:h.get}});function hi(e){var t=Nt(e);return"string"===t||"function"===t||e instanceof RegExp}function co(e,t,r){return void 0===r&&(r=!1),e.some(function(n){try{if("function"==typeof n)return n(t);if(n instanceof RegExp)return n.test(t);if("string"==typeof n)return r?St(t,n):n===t}catch(a){U.error(a)}return!1})}function wl(e){0===e.status&&!e.isAborted&&(e.traceId=void 0,e.spanId=void 0,e.traceSampled=void 0)}function lo(e,t,r,n){if(function Cl(){return void 0!==fo()}()&&r.findTrackedSession()){var a=m(e.allowedTracingUrls,function(o){return co([o.match],t.url,!0)});a&&(t.traceId=new vo,t.spanId=new vo,t.traceSampled=!gr(e.traceSampleRate)||Yt(e.traceSampleRate),n(function Rl(e,t,r,n){var a={};return n.forEach(function(o){switch(o){case"datadog":Y(a,{"x-datadog-origin":"rum","x-datadog-parent-id":t.toDecimalString(),"x-datadog-sampling-priority":r?"1":"0","x-datadog-trace-id":e.toDecimalString()});break;case"tracecontext":Y(a,{traceparent:"00-0000000000000000".concat(e.toPaddedHexadecimalString(),"-").concat(t.toPaddedHexadecimalString(),"-0").concat(r?"1":"0")});break;case"b3":Y(a,{b3:"".concat(e.toPaddedHexadecimalString(),"-").concat(t.toPaddedHexadecimalString(),"-").concat(r?"1":"0")});break;case"b3multi":Y(a,{"X-B3-TraceId":e.toPaddedHexadecimalString(),"X-B3-SpanId":t.toPaddedHexadecimalString(),"X-B3-Sampled":r?"1":"0"})}}),a}(t.traceId,t.spanId,t.traceSampled,a.propagatorTypes)))}}function fo(){return window.crypto||window.msCrypto}xt(Et(),"DD_LOGS",Sl);var vo=function(){function e(){this.buffer=new Uint8Array(8),fo().getRandomValues(this.buffer),this.buffer[0]=127&this.buffer[0]}return e.prototype.toString=function(t){var r=this.readInt32(0),n=this.readInt32(4),a="";do{var o=r%t*4294967296+n;r=Math.floor(r/t),n=Math.floor(o/t),a=(o%t).toString(t)+a}while(r||n);return a},e.prototype.toDecimalString=function(){return this.toString(10)},e.prototype.toPaddedHexadecimalString=function(){var t=this.toString(16);return Array(17-t.length).join("0")+t},e.prototype.readInt32=function(t){return 16777216*this.buffer[t]+(this.buffer[t+1]<<16)+(this.buffer[t+2]<<8)+this.buffer[t+3]},e}();function Nl(e){var t=new Set;return Array.isArray(e.allowedTracingUrls)&&e.allowedTracingUrls.length>0&&e.allowedTracingUrls.forEach(function(r){hi(r)?t.add("datadog"):r.propagatorTypes.forEach(function(n){return t.add(n)})}),Array.isArray(e.allowedTracingOrigins)&&e.allowedTracingOrigins.length>0&&t.add("datadog"),W(t)}function pi(e,t,r){return{context:e.getContext(),user:t.getContext(),hasReplay:!!r.isRecording()||void 0}}function ho(){var e,t=window;if(t.Zone&&(e=K(t,"MutationObserver"),t.MutationObserver&&e===t.MutationObserver)){var n=K(new t.MutationObserver(de),"originalInstance");e=n&&n.constructor}return e||(e=t.MutationObserver),e}function gi(e,t){document.readyState===e||"complete"===document.readyState?t():ye(window,"complete"===e?"load":"DOMContentLoaded",t,{once:!0})}var po="initial_document",Ml=[["document",function(e){return po===e}],["xhr",function(e){return"xmlhttprequest"===e}],["fetch",function(e){return"fetch"===e}],["beacon",function(e){return"beacon"===e}],["css",function(e,t){return/\.css$/i.test(t)}],["js",function(e,t){return/\.js$/i.test(t)}],["image",function(e,t){return oe(["image","img","icon"],e)||null!==/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(t)}],["font",function(e,t){return null!==/\.(woff|eot|woff2|ttf)$/i.exec(t)}],["media",function(e,t){return oe(["audio","video"],e)||null!==/\.(mp3|mp4)$/i.exec(t)}]];function mi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=1;r<e.length;r+=1)if(e[r-1]>e[r])return!1;return!0}function Ul(e){return"xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType}function Pl(e){var t=e.duration,r=e.startTime,n=e.responseEnd;return me(0===t&&r<n?Ve(r,n):t)}function Fl(e){var t=go(e);if(t){var r=t.startTime,n=t.fetchStart,a=t.redirectStart,o=t.redirectEnd,s=t.domainLookupStart,u=t.domainLookupEnd,l=t.connectStart,d=t.secureConnectionStart,h=t.connectEnd,g=t.requestStart,_=t.responseStart,S={download:yr(r,_,t.responseEnd),first_byte:yr(r,g,_)};return h!==n&&(S.connect=yr(r,l,h),mi(l,d,h)&&(S.ssl=yr(r,d,h))),u!==n&&(S.dns=yr(r,s,u)),mo(e)&&(S.redirect=yr(r,a,o)),S}}function go(e){if(mi(e.startTime,e.fetchStart,e.domainLookupStart,e.domainLookupEnd,e.connectStart,e.connectEnd,e.requestStart,e.responseStart,e.responseEnd)){if(!mo(e))return e;var t=e.redirectStart,r=e.redirectEnd;if(t<e.startTime&&(t=e.startTime),r<e.startTime&&(r=e.fetchStart),mi(e.startTime,t,r,e.fetchStart))return Y({},e,{redirectEnd:r,redirectStart:t})}}function mo(e){return e.fetchStart!==e.startTime}function yr(e,t,r){return{duration:me(Ve(t,r)),start:me(Ve(e,t))}}function Bl(e){if(e.startTime<e.responseStart)return e.decodedBodySize}function _i(e,t){return t&&!e.isIntakeUrl(t)}function _o(e){return e.nodeType===Node.TEXT_NODE}function bi(e){return e.nodeType===Node.ELEMENT_NODE}function Sn(e){return bi(e)&&Boolean(e.shadowRoot)}function yi(e){return!!e.host&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&bi(e.host)}function En(e){return yi(e)?e.host:e.parentNode}var Si,jr,Hl=2*$e;function Gl(e){var t=function jl(e){var t=e.querySelector("meta[name=dd-trace-id]"),r=e.querySelector("meta[name=dd-trace-time]");return bo(t&&t.content,r&&r.content)}(e)||function Wl(e){var t=function Zl(e){for(var t=0;t<e.childNodes.length;t+=1)if(r=yo(e.childNodes[t]))return r;if(e.body)for(t=e.body.childNodes.length-1;t>=0;t-=1){var r,n=e.body.childNodes[t];if(r=yo(n))return r;if(!_o(n))break}}(e);if(t)return bo($n(t,"trace-id"),$n(t,"trace-time"))}(e);if(t&&!(t.traceTime<=ct()-Hl))return t.traceId}function bo(e,t){var r=t&&Number(t);if(e&&r)return{traceId:e,traceTime:r}}function yo(e){if(e&&function zl(e){return e.nodeType===Node.COMMENT_NODE}(e)){var t=/^\s*DATADOG;(.*?)\s*$/.exec(e.data);if(t)return t[1]}}function So(){return void 0!==window.performance&&"getEntries"in performance}function wn(e){return window.PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes(e)}function Yl(e,t){if(function $l(e){gi("interactive",function(){var t,r={entryType:"resource",initiatorType:po,traceId:Gl(document)};if(wn("navigation")&&performance.getEntriesByType("navigation").length>0)t=Y(performance.getEntriesByType("navigation")[0].toJSON(),r);else{var a=Eo();t=Y(a,{decodedBodySize:0,duration:a.responseEnd,name:window.location.href,startTime:0},r)}e(t)})}(function(u){Gr(e,t,[u])}),So()){var r=performance.getEntries();se(function(){return Gr(e,t,r)})}if(window.PerformanceObserver){var n=N(function(u){return Gr(e,t,u.getEntries())}),a=["resource","navigation","longtask","paint"],o=["largest-contentful-paint","first-input","layout-shift"];try{o.forEach(function(u){new PerformanceObserver(n).observe({type:u,buffered:!0})})}catch{a.push.apply(a,o)}new PerformanceObserver(n).observe({entryTypes:a}),So()&&"addEventListener"in performance&&ye(performance,"resourcetimingbufferfull",function(){performance.clearResourceTimings()})}wn("navigation")||function Kl(e){function t(){e(Y(Eo(),{entryType:"navigation"}))}gi("complete",function(){se(t)})}(function(u){Gr(e,t,[u])}),wn("first-input")||function ql(e){var t=ct(),r=!1,n=Ue(window,["click","mousedown","keydown","touchstart","pointerdown"],function(s){if(s.cancelable){var u={entryType:"first-input",processingStart:Xe(),startTime:s.timeStamp};"pointerdown"===s.type?function a(s){Ue(window,["pointerup","pointercancel"],function(u){"pointerup"===u.type&&o(s)},{once:!0})}(u):o(u)}},{passive:!0,capture:!0}).stop;function o(s){if(!r){r=!0,n();var u=s.processingStart-s.startTime;u>=0&&u<ct()-t&&e(s)}}}(function(u){Gr(e,t,[u])})}function Eo(){var e={},t=performance.timing;for(var r in t)if(gr(t[r])){var a=t[r];e[r]=0===a?0:Yn(a)}return e}function Gr(e,t,r){var a=r.filter(function(o){return"resource"===o.entryType||"navigation"===o.entryType||"paint"===o.entryType||"longtask"===o.entryType||"largest-contentful-paint"===o.entryType||"first-input"===o.entryType||"layout-shift"===o.entryType}).filter(function(o){return!function Xl(e){return"navigation"===e.entryType&&e.loadEventEnd<=0}(o)&&!function Jl(e,t){return"resource"===t.entryType&&!_i(e,t.name)}(t,o)});a.length&&e.notify(0,a)}function wo(){return Si||(Si=function tf(){var e=new Ee(function(){var t=ut(function(){e.notify(Ei())},200).throttled;return ye(window,"resize",t,{capture:!0,passive:!0}).stop});return e}()),Si}function Ei(){var e=window.visualViewport;return e?{width:Number(e.width*e.scale),height:Number(e.height*e.scale)}:{width:Number(window.innerWidth||0),height:Number(window.innerHeight||0)}}function rf(){if(le(re.CLICKMAP))return jr||(jr=Ei(),wo().subscribe(function(e){jr=e})),{viewport:jr}}function To(e,t){for(var r=e,n=0,a=t.split(".");n<a.length;n++){var o=a[n];if(!Ro(r,o))return;r=r[o]}return r}function Co(e,t,r){for(var n=e,a=t.split("."),o=0;o<a.length;o+=1){var s=a[o];if(!Ro(n,s))return;o!==a.length-1?n=n[s]:n[s]=r}}function Ro(e,t){return"object"==typeof e&&null!==e&&Object.prototype.hasOwnProperty.call(e,t)}var Io=["view.url","view.referrer","action.target.name","error.message","error.stack","error.resource.url","resource.url"],af=Io.concat(["context"]);function uf(e){return-1!==["error","resource","long_task"].indexOf(e.type)}var cf=500,lf=2500,je=[];function Ao(){if(!(je.length>lf)){var e=je[je.length-1],t=Xe();void 0!==e&&void 0===e.end||je.push({start:t})}}function df(){if(0!==je.length){var e=je[je.length-1],t=Xe();void 0===e.end&&(e.end=t)}}function pf(e){for(var t=je.length-1;t>=0;t--){var r=je[t];if(void 0!==r.end&&e>r.end)break;if(e>r.start&&(void 0===r.end||e<r.end))return!0}return!1}function gf(e,t){for(var r=$t(e,t),n=[],a=Math.max(0,je.length-cf),o=je.length-1;o>=a;o--){var s=je[o];if(void 0!==s.end&&e>s.end)break;if(!(r<s.start)){var u=e>s.start?e:s.start,l=Ve(e,u),h=Ve(u,void 0===s.end||r<s.end?r:s.end);n.unshift({start:me(l),duration:me(h)})}}return n}var _f=function(){function e(){this.callbacks={}}return e.prototype.notify=function(t,r){var n=this.callbacks[t];n&&n.forEach(function(a){return a(r)})},e.prototype.subscribe=function(t,r){var n=this;return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(r),{unsubscribe:function(){n.callbacks[t]=n.callbacks[t].filter(function(a){return r!==a})}}},e}(),bf=Fr,xo=1;function No(){var e=xo;return xo+=1,e}function Oo(e){var r=e.isChildEvent,n=e.onChange,a=void 0===n?de:n,o={errorCount:0,longTaskCount:0,resourceCount:0,actionCount:0,frustrationCount:0},s=e.lifeCycle.subscribe(11,function(u){if("view"!==u.type&&r(u))switch(u.type){case"error":o.errorCount+=1,a();break;case"action":o.actionCount+=1,u.action.frustration&&(o.frustrationCount+=u.action.frustration.type.length),a();break;case"long_task":o.longTaskCount+=1,a();break;case"resource":o.resourceCount+=1,a()}});return{stop:function(){s.unsubscribe()},eventCounts:o}}var ko=100,Cf=100;function Ti(e,t,r,n,a){var o=function If(e,t,r){var n=new Ee(function(){var o,a=[],s=0;a.push(t.subscribe(l),e.subscribe(0,function(d){d.some(function(h){return"resource"===h.entryType&&!Ci(r,h.name)})&&l()}),e.subscribe(5,function(d){Ci(r,d.url)||(void 0===o&&(o=d.requestIndex),s+=1,l())}),e.subscribe(6,function(d){Ci(r,d.url)||void 0===o||d.requestIndex<o||(s-=1,l())}));var u=function Af(e){return Ge(window,"open",{before:e})}(l).stop;return function(){u(),a.forEach(function(d){return d.unsubscribe()})};function l(){n.notify({isBusy:s>0})}});return n}(e,t,r);return function Rf(e,t,r){var n,a=!1,o=se(N(function(){return d({hadActivity:!1})}),ko),s=r&&se(N(function(){return d({hadActivity:!0,end:he()})}),r),u=e.subscribe(function(h){var g=h.isBusy;be(o),be(n);var _=he();g||(n=se(N(function(){return d({hadActivity:!0,end:_})}),Cf))}),l=function(){a=!0,be(o),be(n),be(s),u.unsubscribe()};function d(h){a||(l(),t(h))}return{stop:l}}(o,n,a)}function Ci(e,t){return co(e.excludedActivityUrls,t)}var Lo=Ye,xf=100;var Ri="data-dd-action-name";function Lf(e,t){return Mo(e,Ri)||t&&Mo(e,t)||Do(e,t,Mf)||Do(e,t,Df)||""}function Mo(e,t){var r;if(function zf(){return void 0===Ai&&(Ai="closest"in HTMLElement.prototype),Ai}())r=e.closest("[".concat(t,"]"));else for(var n=e;n;){if(n.hasAttribute(t)){r=n;break}n=n.parentElement}if(r)return Po(Uo(r.getAttribute(t).trim()))}var Ii,Ai,Mf=[function(e,t){if(function Bf(){return void 0===Ii&&(Ii="labels"in HTMLInputElement.prototype),Ii}()){if("labels"in e&&e.labels&&e.labels.length>0)return Sr(e.labels[0],t)}else if(e.id){var r=e.ownerDocument&&m(e.ownerDocument.querySelectorAll("label"),function(n){return n.htmlFor===e.id});return r&&Sr(r,t)}},function(e){if("INPUT"===e.nodeName){var t=e,r=t.getAttribute("type");if("button"===r||"submit"===r||"reset"===r)return t.value}},function(e,t){if("BUTTON"===e.nodeName||"LABEL"===e.nodeName||"button"===e.getAttribute("role"))return Sr(e,t)},function(e){return e.getAttribute("aria-label")},function(e,t){var r=e.getAttribute("aria-labelledby");if(r)return r.split(/\s+/).map(function(n){return function Pf(e,t){return e.ownerDocument?e.ownerDocument.getElementById(t):null}(e,n)}).filter(function(n){return Boolean(n)}).map(function(n){return Sr(n,t)}).join(" ")},function(e){return e.getAttribute("alt")},function(e){return e.getAttribute("name")},function(e){return e.getAttribute("title")},function(e){return e.getAttribute("placeholder")},function(e,t){if("options"in e&&e.options.length>0)return Sr(e.options[0],t)}],Df=[function(e,t){return Sr(e,t)}],Uf=10;function Do(e,t,r){for(var n=e,a=0;a<=Uf&&n&&"BODY"!==n.nodeName&&"HTML"!==n.nodeName&&"HEAD"!==n.nodeName;){for(var o=0,s=r;o<s.length;o++){var l=(0,s[o])(n,t);if("string"==typeof l){var d=l.trim();if(d)return Po(Uo(d))}}if("FORM"===n.nodeName)break;n=n.parentElement,a+=1}}function Uo(e){return e.replace(/\s+/g," ")}function Po(e){return e.length>100?"".concat(sa(e,100)," [...]"):e}function Sr(e,t){if(!e.isContentEditable){if("innerText"in e){var r=e.innerText,n=function(a){for(var o=e.querySelectorAll(a),s=0;s<o.length;s+=1){var u=o[s];if("innerText"in u){var l=u.innerText;l&&l.trim().length>0&&(r=r.replace(l,""))}}};return function Ff(){return!function bc(){return Boolean(document.documentMode)}()}()||n("script, style"),n("[".concat(Ri,"]")),t&&n("[".concat(t,"]")),r}return e.textContent}}var Tn,Fo=[Ri,"data-testid","data-test","data-qa","data-cy","data-test-id","data-qa-id","data-testing","data-component","data-element","data-source-file"],Vf=[zo,function jf(e){if(e.id&&!Bo(e.id))return"#".concat(Rr(e.id))}],Hf=[zo,function Wf(e){if("BODY"!==e.tagName&&e.classList.length>0)for(var t=0;t<e.classList.length;t+=1){var r=e.classList[t];if(!Bo(r))return"".concat(e.tagName,".").concat(Rr(r))}},function Zf(e){return e.tagName}];function Gf(e,t){for(var r="",n=e;n&&"HTML"!==n.nodeName;){var a=Vo(n,Vf,$f,t,r);if(a)return a;r=Vo(n,Hf,Kf,t,r)||xi(Yf(n),r),n=n.parentElement}return r}function Bo(e){return/[0-9]/.test(e)}function zo(e,t){if(t&&(r=s(t)))return r;for(var n=0,a=Fo;n<a.length;n++){var r;if(r=s(a[n]))return r}function s(u){if(e.hasAttribute(u))return"".concat(e.tagName,"[").concat(u,'="').concat(Rr(e.getAttribute(u)),'"]')}}function Yf(e){for(var t=e.parentElement.firstElementChild,r=1;t&&t!==e;)t.tagName===e.tagName&&(r+=1),t=t.nextElementSibling;return"".concat(e.tagName,":nth-of-type(").concat(r,")")}function Vo(e,t,r,n,a){for(var o=0,s=t;o<s.length;o++){var l=(0,s[o])(e,n);if(l){var d=xi(l,a);if(r(e,d))return d}}}function $f(e,t){return 1===e.ownerDocument.querySelectorAll(t).length}function Kf(e,t){return 1===e.parentElement.querySelectorAll(function qf(){if(void 0===Tn)try{document.querySelector(":scope"),Tn=!0}catch{Tn=!1}return Tn}()?xi(":scope",t):t).length}function xi(e,t){return t?"".concat(e,">").concat(t):e}function Ho(){var e=window.getSelection();return!e||e.isCollapsed}function Go(e){return e.target instanceof Element&&!1!==e.isPrimary}var jo=3;var ed='input:not([type="checkbox"]):not([type="radio"]):not([type="button"]):not([type="submit"]):not([type="reset"]):not([type="range"]),textarea,select,[contenteditable],[contenteditable] *,canvas,a[href],a[href] *';function Wo(e){return!e.hasPageActivity&&!e.getUserActivity().input&&!function Qi(e,t){return e.matches?e.matches(t):!!e.msMatchesSelector&&e.msMatchesSelector(t)}(e.event.target,ed)}var Er,Cn,td=10*Ye,rd=5*$e;function nd(e,t,r){var o,n=new Pr(rd),a=new Ee;e.subscribe(8,function(){n.reset()}),e.subscribe(4,d);var s=function Xf(e){var n,o,t=e.onPointerDown,r=e.onPointerUp,a={selection:!1,input:!1},s=[ye(window,"pointerdown",function(u){Go(u)&&(n=Ho(),a={selection:!1,input:!1},o=t(u))},{capture:!0}),ye(window,"selectionchange",function(){(!n||!Ho())&&(a.selection=!0)},{capture:!0}),ye(window,"pointerup",function(u){if(Go(u)&&o){var l=a;r(o,u,function(){return l}),o=void 0}},{capture:!0}),ye(window,"input",function(){a.input=!0},{capture:!0})];return{stop:function(){s.forEach(function(u){return u.stop()})}}}({onPointerDown:function(h){return function id(e,t,r,n,a){if(e.trackFrustrations||!n.find()){var o=function od(e,t){var r,n;if(le(re.CLICKMAP)){var a=e.target.getBoundingClientRect();r={width:Math.round(a.width),height:Math.round(a.height),selector:Gf(e.target,t)},n={x:Math.round(e.clientX-a.left),y:Math.round(e.clientY-a.top)}}return{type:"click",target:r,position:n,name:Lf(e.target,t)}}(a,e.actionNameAttribute);if(e.trackFrustrations||o.name){var s=!1;return Ti(t,r,e,function(u){s=u.hadActivity},ko),{clickActionBase:o,hadActivityOnPointerDown:function(){return s}}}}}(r,e,t,n,h)},onPointerUp:function(h,g,_){return function ad(e,t,r,n,a,o,s,u,l,d){var h=Zo(t,n,l,s,u);e.trackFrustrations&&o(h);var g=Ti(t,r,e,function(S){S.hadActivity&&S.end<h.startClocks.timeStamp?h.discard():(S.hadActivity?h.stop(S.end):d()?h.stop(h.startClocks.timeStamp):h.stop(),e.trackFrustrations||(S.hadActivity?h.validate():h.discard()))},td).stop,_=t.subscribe(4,function(S){h.stop(S.endClocks.timeStamp)}),y=a.subscribe(function(){h.stop()});h.stopObservable.subscribe(function(){_.unsubscribe(),g(),y.unsubscribe()})}(r,e,t,n,a,l,h.clickActionBase,g,_,h.hadActivityOnPointerDown)}}).stop;return{stop:function(){d(),a.notify(),s()},actionContexts:{findActionId:function(h){return r.trackFrustrations?n.findAll(h):n.find(h)}}};function l(h){if(!o||!o.tryAppend(h)){var g=h.clone();o=function Nf(e,t){var a,r=[],n=0;function o(l){l.stopObservable.subscribe(s),r.push(l),be(a),a=se(u,Lo)}function s(){1===n&&r.every(function(l){return l.isStopped()})&&(n=2,t(r))}function u(){be(a),0===n&&(n=1,s())}return o(e),{tryAppend:function(l){return 0===n&&(r.length>0&&!function Of(e,t){return e.target===t.target&&function kf(e,t){return Math.sqrt(Math.pow(e.clientX-t.clientX,2)+Math.pow(e.clientY-t.clientY,2))}(e,t)<=xf&&e.timeStamp-t.timeStamp<=Lo}(r[r.length-1].event,l.event)?(u(),!1):(o(l),!0))},stop:function(){u()}}}(h,function(_){!function sd(e,t){var r=function Jf(e,t){if(function Qf(e){if(e.some(function(r){return r.getUserActivity().selection}))return!1;for(var t=0;t<e.length-(jo-1);t+=1)if(e[t+jo-1].event.timeStamp-e[t].event.timeStamp<=Ye)return!0;return!1}(e))return t.addFrustration("rage_click"),e.some(Wo)&&t.addFrustration("dead_click"),t.hasError&&t.addFrustration("error_click"),{isRage:!0};var r=e.some(function(n){return n.getUserActivity().selection});return e.forEach(function(n){n.hasError&&n.addFrustration("error_click"),Wo(n)&&!r&&n.addFrustration("dead_click")}),{isRage:!1}}(e,t).isRage;r?(e.forEach(function(n){return n.discard()}),t.stop(he()),t.validate(e.map(function(n){return n.event}))):(t.discard(),e.forEach(function(n){return n.validate()}))}(_,g)})}}function d(){o&&o.stop()}}function Zo(e,t,r,n,a){var h,o=He(),s=De(),u=t.add(o,s.relative),l=Oo({lifeCycle:e,isChildEvent:function(S){return void 0!==S.action&&(Array.isArray(S.action.id)?oe(S.action.id,o):S.action.id===o)}}),d=0,g=[],_=new Ee;function y(S){0===d&&(d=1,(h=S)?u.close(Yn(h)):u.remove(),l.stop(),_.notify())}return{event:a,stop:y,stopObservable:_,get hasError(){return l.eventCounts.errorCount>0},get hasPageActivity(){return void 0!==h},getUserActivity:r,addFrustration:function(S){g.push(S)},startClocks:s,isStopped:function(){return 1===d||2===d},clone:function(){return Zo(e,t,r,n,a)},validate:function(S){if(y(),1===d){var x=l.eventCounts,D=x.resourceCount,F=x.errorCount,C=x.longTaskCount,G=Y({type:"click",duration:h&&Ve(s.timeStamp,h),startClocks:s,id:o,frustrationTypes:g,counts:{resourceCount:D,errorCount:F,longTaskCount:C},events:S??[a],event:a},n);e.notify(1,G),d=2}},discard:function(){y(),d=2}}}function Yo(e,t){var r=Ni(e)?{action:{id:e.id,loading_time:me(e.duration),frustration:{type:e.frustrationTypes},error:{count:e.counts.errorCount},long_task:{count:e.counts.longTaskCount},resource:{count:e.counts.resourceCount}},_dd:{action:{target:e.target,position:e.position}}}:void 0,n=Ni(e)?void 0:e.context,a=Me({action:{id:He(),target:{name:e.name},type:e.type},date:e.startClocks.timeStamp,type:"action"},r),o=t.isInForegroundAt(e.startClocks.relative);return void 0!==o&&(a.view={in_foreground:o}),{customerContext:n,rawRumEvent:a,startTime:e.startClocks.relative,domainContext:Ni(e)?{event:e.event,events:e.events}:{}}}function Ni(e){return"custom"!==e.type}function $o(e){return $t(e.startTime,e.duration)}function md(e,t,r,n){e.subscribe(6,function(a){e.notify(10,function _d(e,t,r,n){var a,o="xhr"===e.type?"xhr":"fetch",s=function pd(e){if(performance&&"getEntriesByName"in performance){var t=performance.getEntriesByName(e.url,"resource");if(t.length&&"toJSON"in t[0]){var r=t.map(function(n){return n.toJSON()}).filter(go).filter(function(n){return function gd(e,t,r){return e.startTime>=t-1&&$o(e)<=$t(r,1)}(n,e.startClocks.relative,$o({startTime:e.startClocks.relative,duration:e.duration}))});if(1===r.length)return r[0]}}}(e),u=s?Zn(s.startTime):e.startClocks,l=s?Ko(s):void 0,d=function yd(e,t){if(e.traceSampled&&e.traceId&&e.spanId)return{_dd:{span_id:e.spanId.toDecimalString(),trace_id:e.traceId.toDecimalString(),rule_psr:qo(t)}}}(e,t),h=Xo(r,u),g=me(e.duration),_=Jo(n,u,null!==(a=s?.duration)&&void 0!==a?a:e.duration),y=Me({date:u.timeStamp,resource:{id:He(),type:o,duration:g,method:e.method,status_code:e.status,url:e.url},type:"resource"},d,l,h,_);return{startTime:u.relative,rawRumEvent:y,domainContext:{performanceEntry:s&&s,xhr:e.xhr,response:e.response,requestInput:e.input,requestInit:e.init,error:e.error}}}(a,t,r,n))}),e.subscribe(0,function(a){for(var o=0,s=a;o<s.length;o++){var u=s[o];"resource"===u.entryType&&!Ul(u)&&e.notify(10,bd(u,t,r,n))}})}function bd(e,t,r,n){var a=function Dl(e){var t=e.name;if(!function vu(e){try{return!!Kt(e)}catch{return!1}}(t))return Ur('Failed to construct URL for "'.concat(e.name,'"')),"other";for(var r=function hu(e){var t=Kt(e).pathname;return"/"===t[0]?t:"/".concat(t)}(t),n=0,a=Ml;n<a.length;n++){var o=a[n],s=o[0];if((0,o[1])(e.initiatorType,r))return s}return"other"}(e),o=Ko(e),s=Zn(e.startTime),u=function Sd(e,t){if(e.traceId)return{_dd:{trace_id:e.traceId,rule_psr:qo(t)}}}(e,t),l=Xo(r,s),d=Jo(n,s,e.duration),h=Me({date:s.timeStamp,resource:{id:He(),type:a,url:e.name},type:"resource"},u,o,l,d);return{startTime:s.relative,rawRumEvent:h,domainContext:{performanceEntry:e}}}function Ko(e){return{resource:Y({duration:Pl(e),size:Bl(e)},Fl(e))}}function qo(e){return gr(e.traceSampleRate)?e.traceSampleRate/100:void 0}function Xo(e,t){var r=e.findTrackedSession(t.relative);return{_dd:{discarded:!r||!r.resourceAllowed}}}function Jo(e,t,r){if(le(re.RESOURCE_PAGE_STATES))return{_dd:{page_states:e.findAll(t.relative,r),page_was_discarded:String(document.wasDiscarded)}}}function Oi(e){return void 0===e&&(e=window),Er||("hidden"===document.visibilityState?Er={timeStamp:0}:(Er={timeStamp:1/0},Cn=Ue(e,["pagehide","visibilitychange"],function(t){("pagehide"===t.type||"hidden"===document.visibilityState)&&(Er.timeStamp=t.timeStamp,Cn())},{capture:!0}).stop)),Er}var Qo=10*$e;var kd=5*$e,Md=3e3,Dd=5*$e;function Ud(e,t,r,n,a,o,s){var _,u=function y(F){var C=es(t,r,n,e,"initial_load",aa(),F),G=function Ed(e,t){var r={};function n(l){Y(r,l),t(r)}var a=function wd(e,t){var r=e.subscribe(0,function(n){for(var a=0,o=n;a<o.length;a++){var s=o[a];"navigation"===s.entryType&&t({domComplete:s.domComplete,domContentLoaded:s.domContentLoadedEventEnd,domInteractive:s.domInteractive,loadEvent:s.loadEventEnd,firstByte:s.responseStart>=0&&s.responseStart<=Xe()?s.responseStart:void 0})}}).unsubscribe;return{stop:r}}(e,n).stop,o=function Td(e,t){var r=Oi(),n=e.subscribe(0,function(a){var o=m(a,function(s){return"paint"===s.entryType&&"first-contentful-paint"===s.name&&s.startTime<r.timeStamp&&s.startTime<Qo});o&&t(o.startTime)}).unsubscribe;return{stop:n}}(e,function(l){return n({firstContentfulPaint:l})}).stop,s=function Cd(e,t,r){var n=Oi(),a=1/0,o=Ue(t,["pointerdown","keydown"],function(u){a=u.timeStamp},{capture:!0,once:!0}).stop,s=e.subscribe(0,function(u){var l=function T(e,t){for(var r=e.length-1;r>=0;r-=1){var n=e[r];if(t(n,r,e))return n}}(u,function(d){return"largest-contentful-paint"===d.entryType&&d.startTime<a&&d.startTime<n.timeStamp&&d.startTime<Qo});l&&r(l.startTime)}).unsubscribe;return{stop:function(){o(),s()}}}(e,window,function(l){n({largestContentfulPaint:l})}).stop,u=function Rd(e,t){var r=Oi(),n=e.subscribe(0,function(a){var o=m(a,function(u){return"first-input"===u.entryType&&u.startTime<r.timeStamp});if(o){var s=Ve(o.startTime,o.processingStart);t({firstInputDelay:s>=0?s:0,firstInputTime:o.startTime})}}).unsubscribe;return{stop:n}}(e,function(l){n({firstInputDelay:l.firstInputDelay,firstInputTime:l.firstInputTime})}).stop;return{stop:function(){a(),o(),s(),u()}}}(t,function(ne){C.updateTimings(ne),C.scheduleUpdate()}).stop;return{initialView:C,stop:G}}(s),l=u.stop,h=u.initialView,g=function x(){t.subscribe(8,function(){h.end(),h=S(void 0,{name:h.name,service:h.service,version:h.version})}),t.subscribe(9,function(C){(C.reason===Xt.UNLOADING||C.reason===Xt.PAGEHIDE)&&(h.end(),h.triggerUpdate())});var F=ze(function(){h.triggerUpdate()},Dd);return{stop:function(){dr(F)}}}().stop;function S(F,C){return es(t,r,n,e,"route_change",F,C)}return o&&(_=function D(F){return F.subscribe(function(C){if(function Fd(e,t){return e.pathname!==t.pathname||!function Bd(e){var t=e.substr(1);return!!document.getElementById(t)}(t.hash)&&ts(t.hash)!==ts(e.hash)}(C.oldLocation,C.newLocation))return h.end(),h.triggerUpdate(),void(h=S())})}(a)),{addTiming:function(F,C){void 0===C&&(C=he()),h.addTiming(F,C),h.scheduleUpdate()},startView:function(F,C){h.end(C),h.triggerUpdate(),h=S(C,F)},stop:function(){_?.unsubscribe(),l(),g(),h.end()}}}function es(e,t,r,n,a,o,s){void 0===o&&(o=De());var g,y,S,x,u=He(),l={},d={},h=0,_=Nr(n);s&&(y=s.name,S=s.service,x=s.version),e.notify(2,{id:u,name:y,startClocks:o,service:S,version:x});var D=ut(Ke,Md,{leading:!1}),F=D.throttled,C=D.cancel,G=function Id(e,t,r,n,a,o){var h,s={},u=function Ad(e,t,r,n,a,o){var s="initial_load"===n,u=!0,l=[];function d(){!u&&!s&&l.length>0&&o(Math.max.apply(Math,l))}return{stop:Ti(e,t,r,function(g){u&&(u=!1,g.hadActivity&&l.push(Ve(a.timeStamp,g.end)),d())}).stop,setLoadEvent:function(g){s&&(s=!1,l.push(g),d())}}}(e,t,r,a,o,function(g){s.loadingTime=g,n()}),l=u.stop,d=u.setLoadEvent;return function Od(){return wn("layout-shift")}()?(s.cumulativeLayoutShift=0,h=function xd(e,t){var r=0,n=function Nd(){var t,r,e=0;return{update:function(n){void 0===t||n.startTime-r>=Ye||n.startTime-t>=5*Ye?(t=r=n.startTime,e=n.value):(e+=n.value,r=n.startTime)},value:function(){return e}}}(),a=e.subscribe(0,function(o){for(var s=0,u=o;s<u.length;s++){var l=u[s];"layout-shift"===l.entryType&&!l.hadRecentInput&&(n.update(l),n.value()>r&&(r=n.value(),t(na(r,4))))}}).unsubscribe;return{stop:a}}(e,function(g){s.cumulativeLayoutShift=g,n()}).stop):h=de,{stop:function(){l(),h()},setLoadEvent:d,viewMetrics:s}}(e,t,r,F,a,o),ne=G.setLoadEvent,X=G.stop,Q=G.viewMetrics,nt=function Ld(e,t,r){var n=Oo({lifeCycle:e,isChildEvent:function(s){return s.view.id===t},onChange:r}),a=n.stop;return{scheduleStop:function(){se(a,kd)},eventCounts:n.eventCounts}}(e,u,F),Te=nt.scheduleStop,It=nt.eventCounts;function Ke(){h+=1;var k=void 0===g?he():g.timeStamp;e.notify(3,Y({customTimings:d,documentVersion:h,id:u,name:y,service:S,version:x,loadingType:a,location:_,startClocks:o,timings:l,duration:Ve(o.timeStamp,k),isActive:void 0===g,eventCounts:It},Q))}return Ke(),{name:y,service:S,version:x,scheduleUpdate:F,end:function(k){void 0===k&&(k=De()),e.notify(4,{endClocks:g=k}),X(),Te()},triggerUpdate:function(){C(),Ke()},updateTimings:function(k){l=k,void 0!==k.loadEvent&&ne(k.loadEvent)},addTiming:function(k,B){var We=function cu(e){return e<au}(B)?B:Ve(o.timeStamp,B);d[function Pd(e){var t=e.replace(/[^a-zA-Z0-9-_.@$]/g,"_");return t!==e&&U.warn("Invalid timing name: ".concat(e,", sanitized to: ").concat(t)),t}(k)]=We}}}function ts(e){var t=e.indexOf("?");return t<0?e:e.slice(0,t)}function Hd(e){return gr(e)&&e<0?void 0:e}var Gd="rum";function rs(e){return"2"===e||"1"===e}var Xd=Fr;var Tt,er,ki,rv=Fr,av=10*Ye;function sv(){0!==Tt.batchCount&&(Ur("Customer data measures",Tt),ns())}function Wr(e,t){e.sum+=t,e.min=Math.min(e.min,t),e.max=Math.max(e.max,t)}function Li(e,t){e.sum+=t.sum,e.min=Math.min(e.min,t.min),e.max=Math.max(e.max,t.max)}function ns(){Tt={batchCount:0,batchBytesCount:{min:1/0,max:0,sum:0},batchMessagesCount:{min:1/0,max:0,sum:0},globalContextBytes:{min:1/0,max:0,sum:0},userContextBytes:{min:1/0,max:0,sum:0},featureFlagBytes:{min:1/0,max:0,sum:0}}}function is(){ki=!1,er={globalContextBytes:{min:1/0,max:0,sum:0},userContextBytes:{min:1/0,max:0,sum:0},featureFlagBytes:{min:1/0,max:0,sum:0}}}var Rn,uv=500,tr=[];function as(){return"hidden"===document.visibilityState?"hidden":document.hasFocus()?"active":"passive"}function In(e,t){void 0===t&&(t=uv),e!==Rn&&(Rn=e,tr.length===t&&tr.shift(),tr.push({state:Rn,startTime:Xe()}))}var Qe={FullSnapshot:2,IncrementalSnapshot:3,Meta:4,Focus:6,ViewEnd:7,VisualViewport:8,FrustrationRecord:9},rr={Document:0,DocumentType:1,Element:2,Text:3,CDATA:4,DocumentFragment:11},Ct={Mutation:0,MouseMove:1,MouseInteraction:2,Scroll:3,ViewportResize:4,Input:5,TouchMove:6,MediaInteraction:7,StyleSheetRule:8},et={MouseUp:0,MouseDown:1,Click:2,ContextMenu:3,DblClick:4,Focus:5,Blur:6,TouchStart:7,TouchEnd:9},os={Play:0,Pause:1};function Lt(e,t){return{data:Y({source:e},t),type:Qe.IncrementalSnapshot,timestamp:he()}}var $={IGNORE:"ignore",HIDDEN:"hidden",ALLOW:kr.ALLOW,MASK:kr.MASK,MASK_USER_INPUT:kr.MASK_USER_INPUT},Mi="data-dd-privacy",gv="allow",mv="mask",_v="mask-user-input",ss="hidden",bv="dd-privacy-allow",yv="dd-privacy-mask",Sv="dd-privacy-mask-user-input",Ev="dd-privacy-hidden",nr="***",wv="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==",Tv={INPUT:!0,OUTPUT:!0,TEXTAREA:!0,SELECT:!0,OPTION:!0,DATALIST:!0,OPTGROUP:!0},Cv=1e5;function Rt(e,t){var r=En(e),n=r?Rt(r,t):t;return us(cs(e),n)}function us(e,t){switch(t){case $.HIDDEN:case $.IGNORE:return t}switch(e){case $.ALLOW:case $.MASK:case $.MASK_USER_INPUT:case $.HIDDEN:case $.IGNORE:return e;default:return t}}function cs(e){if(bi(e)){var t=e.getAttribute(Mi);if("BASE"===e.tagName)return $.ALLOW;if("INPUT"===e.tagName){if("password"===e.type||"email"===e.type||"tel"===e.type||"hidden"===e.type)return $.MASK;var n=e.getAttribute("autocomplete");if(n&&0===n.indexOf("cc-"))return $.MASK}if(t===ss||e.classList.contains(Ev))return $.HIDDEN;if(t===mv||e.classList.contains(yv))return $.MASK;if(t===_v||e.classList.contains(Sv))return $.MASK_USER_INPUT;if(t===gv||e.classList.contains(bv))return $.ALLOW;if(function Av(e){if("SCRIPT"===e.nodeName)return!0;if("LINK"===e.nodeName){var t=a("rel");return/preload|prefetch/i.test(t)&&"script"===a("as")||"shortcut icon"===t||"icon"===t}if("META"===e.nodeName){var r=a("name"),n=(t=a("rel"),a("property"));return/^msapplication-tile(image|color)$/.test(r)||"application-name"===r||"icon"===t||"apple-touch-icon"===t||"shortcut icon"===t||"keywords"===r||"description"===r||/^(og|twitter|fb):/.test(n)||/^(og|twitter):/.test(r)||"pinterest"===r||"robots"===r||"googlebot"===r||"bingbot"===r||e.hasAttribute("http-equiv")||"author"===r||"generator"===r||"framework"===r||"publisher"===r||"progid"===r||/^article:/.test(n)||/^product:/.test(n)||"google-site-verification"===r||"yandex-verification"===r||"csrf-token"===r||"p:domain_verify"===r||"verify-v1"===r||"verification"===r||"shopify-checkout-api-token"===r}function a(o){return(e.getAttribute(o)||"").toLowerCase()}return!1}(e))return $.IGNORE}}function An(e,t){switch(t){case $.MASK:case $.HIDDEN:case $.IGNORE:return!0;case $.MASK_USER_INPUT:return _o(e)?ls(e.parentNode):ls(e);default:return!1}}function ls(e){if(!e||e.nodeType!==e.ELEMENT_NODE)return!1;var t=e;if("INPUT"===t.tagName)switch(t.type){case"button":case"color":case"reset":case"submit":return!1}return!!Tv[t.tagName]}var Iv=function(e){return e.replace(/\S/g,"x")};function fs(e,t,r){var n,a=null===(n=e.parentElement)||void 0===n?void 0:n.tagName,o=e.textContent||"";if(!t||o.trim()){var u="STYLE"===a||void 0;if("SCRIPT"===a)o=nr;else if(r===$.HIDDEN)o=nr;else if(An(e,r)&&!u)if("DATALIST"===a||"SELECT"===a||"OPTGROUP"===a){if(!o.trim())return}else o="OPTION"===a?nr:Iv(o);return o}}var Di=new WeakMap;function pt(e){return Di.has(e)}function Pe(e){return Di.get(e)}function Ui(e,t){var r=e.tagName,n=e.value;if(An(e,t)){var a=e.type;return"INPUT"!==r||"button"!==a&&"submit"!==a&&"reset"!==a?n&&"OPTION"!==r?nr:void 0:n}return"OPTION"===r||"SELECT"===r?e.value:"INPUT"===r||"TEXTAREA"===r?n:void 0}var Ov=/url\((?:(')([^']*)'|(")([^"]*)"|([^)]*))\)/gm,kv=/^[A-Za-z]+:|^\/\//,Lv=/^data:.*,/i;var Uv=/[^a-z1-6-_]/;function ds(e){var t=e.toLowerCase().trim();return Uv.test(t)?"div":t}function vs(e){if(void 0!==e&&0!==e.length)return e.map(function(t){return{cssRules:Array.from(t.cssRules||t.rules,function(o){return o.cssText}),disabled:t.disabled||void 0,media:t.media.length>0?Array.from(t.media):void 0}})}function hs(e,t,r,n){if(t===$.HIDDEN)return null;var a=e.getAttribute(r);if(t===$.MASK&&r!==Mi&&!Fo.includes(r)&&r!==n.actionNameAttribute){var o=e.tagName;switch(r){case"title":case"alt":case"placeholder":return nr}if(!("IMG"!==o&&"SOURCE"!==o||"src"!==r&&"srcset"!==r))return wv;if("A"===o&&"href"===r||a&&St(r,"data-"))return nr}return a&&"string"==typeof a&&a.length>Cv&&"data:"===a.slice(0,5)?"data:truncated":a}function Pi(e){if(!e)return null;var t;try{t=e.rules||e.cssRules}catch{}return t?function Mv(e,t){return e.replace(Ov,function(r,n,a,o,s,u){var l=a||s||u;if(!t||!l||kv.test(l)||Lv.test(l))return r;var d=n||o||"";return"url(".concat(d).concat(function Dv(e,t){try{return Kt(e,t).href}catch{return e}}(l,t)).concat(d,")")})}(Array.from(t,Fv).join(""),e.href):null}function Fv(e){return function Bv(e){return"styleSheet"in e}(e)?Pi(e.styleSheet)||"":e.cssText}function xn(e,t){var r=function Hv(e,t){switch(e.nodeType){case e.DOCUMENT_NODE:return function Gv(e,t){return{type:rr.Document,childNodes:Fi(e,t),adoptedStyleSheets:vs(e.adoptedStyleSheets)}}(e,t);case e.DOCUMENT_FRAGMENT_NODE:return function jv(e,t){var r=[];e.childNodes.length&&(r=Fi(e,t));var n=yi(e);return n&&t.serializationContext.shadowRootsController.addShadowRoot(e),{type:rr.DocumentFragment,childNodes:r,isShadowRoot:n,adoptedStyleSheets:n?vs(e.adoptedStyleSheets):void 0}}(e,t);case e.DOCUMENT_TYPE_NODE:return function Wv(e){return{type:rr.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId}}(e);case e.ELEMENT_NODE:return function Zv(e,t){var r,n=ds(e.tagName),a=function Yv(e){return"svg"===e.tagName||e instanceof SVGElement}(e)||void 0,o=us(cs(e),t.parentNodePrivacyLevel);if(o===$.HIDDEN){var s=e.getBoundingClientRect(),l=s.height;return{type:rr.Element,tagName:n,attributes:(r={rr_width:"".concat(s.width,"px"),rr_height:"".concat(l,"px")},r[Mi]=ss,r),childNodes:[],isSVG:a}}if(o!==$.IGNORE){var d=function Pv(e,t,r){var n;if(t===$.HIDDEN)return{};for(var a={},o=ds(e.tagName),s=e.ownerDocument,u=0;u<e.attributes.length;u+=1){var d=e.attributes.item(u).name,h=hs(e,t,d,r.configuration);null!==h&&(a[d]=h)}if(e.value&&("textarea"===o||"select"===o||"option"===o||"input"===o)){var g=Ui(e,t);void 0!==g&&(a.value=g)}if("option"===o&&t===$.ALLOW&&e.selected&&(a.selected=e.selected),"link"===o){var S,y=Array.from(s.styleSheets).find(function(ne){return ne.href===e.href});(S=Pi(y))&&y&&(a._cssText=S)}"style"===o&&e.sheet&&!(e.innerText||e.textContent||"").trim().length&&(S=Pi(e.sheet))&&(a._cssText=S);var x=e;"input"===o&&("radio"===x.type||"checkbox"===x.type)&&(t===$.ALLOW?a.checked=!!x.checked:An(x,t)&&delete a.checked),("audio"===o||"video"===o)&&(a.rr_mediaState=e.paused?"paused":"played");var F,C,G=r.serializationContext;switch(G.status){case 0:F=Math.round(e.scrollTop),C=Math.round(e.scrollLeft),(F||C)&&G.elementsScrollPositions.set(e,{scrollTop:F,scrollLeft:C});break;case 1:G.elementsScrollPositions.has(e)&&(F=(n=G.elementsScrollPositions.get(e)).scrollTop,C=n.scrollLeft)}return C&&(a.rr_scrollLeft=C),F&&(a.rr_scrollTop=F),a}(e,o,t),h=[];if(e.childNodes.length&&(h=Fi(e,t.parentNodePrivacyLevel===o&&t.ignoreWhiteSpace===("head"===n)?t:Y({},t,{parentNodePrivacyLevel:o,ignoreWhiteSpace:"head"===n}))),Sn(e)){var _=xn(e.shadowRoot,t);null!==_&&h.push(_)}return{type:rr.Element,tagName:n,attributes:d,childNodes:h,isSVG:a}}}(e,t);case e.TEXT_NODE:return function $v(e,t){var r,n=null===(r=e.parentElement)||void 0===r?void 0:r.tagName,a=fs(e,t.ignoreWhiteSpace||!1,t.parentNodePrivacyLevel);if(a)return{type:rr.Text,textContent:a,isStyle:"STYLE"===n||void 0}}(e,t);case e.CDATA_SECTION_NODE:return function Kv(){return{type:rr.CDATA,textContent:""}}()}}(e,t);if(!r)return null;var n=Pe(e)||function Vv(){return zv++}(),a=r;return a.id=n,function Nv(e,t){Di.set(e,t)}(e,n),t.serializedNodeIds&&t.serializedNodeIds.add(n),a}var zv=1;function Fi(e,t){var r=[];return e.childNodes.forEach(function(n){var a=xn(n,t);a&&r.push(a)}),r}function qv(e,t,r){return xn(e,{serializationContext:r,parentNodePrivacyLevel:t.defaultPrivacyLevel,configuration:t})}function ps(e){return Boolean(e.changedTouches)}function Zr(e){return!0===e.composed&&Sn(e.target)?e.composedPath()[0]:e.target}var Jv=function(e,t){var r=window.visualViewport,n={layoutViewportX:e,layoutViewportY:t,visualViewportX:e,visualViewportY:t};return r?(function Xv(e){return Math.abs(e.pageTop-e.offsetTop-window.scrollY)>25||Math.abs(e.pageLeft-e.offsetLeft-window.scrollX)>25}(r)?(n.layoutViewportX=Math.round(e+r.offsetLeft),n.layoutViewportY=Math.round(t+r.offsetTop)):(n.visualViewportX=Math.round(e-r.offsetLeft),n.visualViewportY=Math.round(t-r.offsetTop)),n):n},ms=function(e){return{scale:e.scale,offsetLeft:e.offsetLeft,offsetTop:e.offsetTop,pageLeft:e.pageLeft,pageTop:e.pageTop,height:e.height,width:e.width}};function _s(){var e,t=window.visualViewport;return e=t?t.pageLeft-t.offsetLeft:void 0!==window.scrollX?window.scrollX:window.pageXOffset||0,Math.round(e)}function bs(){var e,t=window.visualViewport;return e=t?t.pageTop-t.offsetTop:void 0!==window.scrollY?window.scrollY:window.pageYOffset||0,Math.round(e)}var Qv=50;function ys(e){var t=ps(e)?e.changedTouches[0]:e,r=t.clientX,n=t.clientY;if(window.visualViewport){var a=Jv(r,n);r=a.visualViewportX,n=a.visualViewportY}if(Number.isFinite(r)&&Number.isFinite(n))return{x:r,y:n};e.isTrusted&&Ur("mouse/touch event without x/y")}var tt,th=100,Ss=((tt={}).pointerup=et.MouseUp,tt.mousedown=et.MouseDown,tt.click=et.Click,tt.contextmenu=et.ContextMenu,tt.dblclick=et.DblClick,tt.focus=et.Focus,tt.blur=et.Blur,tt.touchstart=et.TouchStart,tt.touchend=et.TouchEnd,tt);function Es(e,t,r){var n=void 0===r?{}:r,a=n.domEvents,o=void 0===a?["input","change"]:a,s=n.target,u=void 0===s?document:s,l=new WeakMap;function d(y){var S=Rt(y,t);if(S!==$.HIDDEN){var D,x=y.type;if("radio"===x||"checkbox"===x){if(An(y,S))return;D={isChecked:y.checked}}else{var F=Ui(y,S);if(void 0===F)return;D={text:F}}h(y,D);var C=y.name;"radio"===x&&C&&y.checked&&function M(e,t){Array.prototype.forEach.call(e,t)}(document.querySelectorAll('input[type="radio"][name="'.concat(C,'"]')),function(G){G!==y&&h(G,{isChecked:!1})})}}function h(y,S){if(pt(y)){var x=l.get(y);(!x||x.text!==S.text||x.isChecked!==S.isChecked)&&(l.set(y,S),e(Y({id:Pe(y)},S)))}}var g=Ue(u,o,function(y){var S=Zr(y);(S instanceof HTMLInputElement||S instanceof HTMLTextAreaElement||S instanceof HTMLSelectElement)&&d(S)},{capture:!0,passive:!0}).stop,_=[Hr(HTMLInputElement.prototype,"value",d),Hr(HTMLInputElement.prototype,"checked",d),Hr(HTMLSelectElement.prototype,"value",d),Hr(HTMLTextAreaElement.prototype,"value",d),Hr(HTMLSelectElement.prototype,"selectedIndex",d)];return function(){_.forEach(function(y){return y.stop()}),g()}}function ws(e){for(var t=[],r=e;r.parentRule;){var a=Array.from(r.parentRule.cssRules).indexOf(r);t.unshift(a),r=r.parentRule}if(r.parentStyleSheet){var s=Array.from(r.parentStyleSheet.cssRules).indexOf(r);return t.unshift(s),t}}var sh=200,lh=100;function Ts(e,t,r,n){var a=ho();if(!a)return{stop:de,flush:de};var o=function fh(e){var t=de,r=[];function n(){t(),e(r),r=[]}return{addMutations:function(a){0===r.length&&(t=function dh(e,t){if(window.requestIdleCallback&&window.cancelIdleCallback){var r=window.requestIdleCallback(N(e),t);return function(){return window.cancelIdleCallback(r)}}var n=window.requestAnimationFrame(N(e));return function(){return window.cancelAnimationFrame(n)}}(n,{timeout:lh})),r.push.apply(r,a)},flush:n,stop:function(){t()}}}(function(u){!function vh(e,t,r,n,a){e.filter(function(_){return"childList"===_.type}).forEach(function(_){_.removedNodes.forEach(function(y){Cs(y,n.removeShadowRoot)})});var o=e.filter(function(_){return a.contains(_.target)&&function xv(e){for(var t=e;t;){if(!pt(t)&&!yi(t))return!1;t=En(t)}return!0}(_.target)&&Rt(_.target,r.defaultPrivacyLevel)!==$.HIDDEN}),s=function hh(e,t,r){for(var n=new Set,a=new Map,o=function(X){X.addedNodes.forEach(function(Q){n.add(Q)}),X.removedNodes.forEach(function(Q){n.has(Q)||a.set(Q,X.target),n.delete(Q)})},s=0,u=e;s<u.length;s++)o(u[s]);var d=Array.from(n);!function mh(e){e.sort(function(t,r){var n=t.compareDocumentPosition(r);return n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_CONTAINS||n&Node.DOCUMENT_POSITION_FOLLOWING?1:n&Node.DOCUMENT_POSITION_PRECEDING?-1:0})}(d);for(var h=new Set,g=[],_=0,y=d;_<y.length;_++){var S=y[_];if(!G(S)){var x=Rt(S.parentNode,t.defaultPrivacyLevel);if(x!==$.HIDDEN&&x!==$.IGNORE){var D=xn(S,{serializedNodeIds:h,parentNodePrivacyLevel:x,serializationContext:{status:2,shadowRootsController:r},configuration:t});if(D){var F=En(S);g.push({nextId:ne(S),parentId:Pe(F),node:D})}}}}var C=[];return a.forEach(function(X,Q){pt(Q)&&C.push({parentId:Pe(X),id:Pe(Q)})}),{adds:g,removes:C,hasBeenSerialized:G};function G(X){return pt(X)&&h.has(Pe(X))}function ne(X){for(var Q=X.nextSibling;Q;){if(pt(Q))return Pe(Q);Q=Q.nextSibling}return null}}(o.filter(function(_){return"childList"===_.type}),r,n),u=s.adds,l=s.removes,d=s.hasBeenSerialized,h=function ph(e,t){for(var r,n=[],a=new Set,o=e.filter(function(g){return!a.has(g.target)&&(a.add(g.target),!0)}),s=0,u=o;s<u.length;s++){var l=u[s];if(l.target.textContent!==l.oldValue){var h=Rt(En(l.target),t.defaultPrivacyLevel);h===$.HIDDEN||h===$.IGNORE||n.push({id:Pe(l.target),value:null!==(r=fs(l.target,!1,h))&&void 0!==r?r:null})}}return n}(o.filter(function(_){return"characterData"===_.type&&!d(_.target)}),r),g=function gh(e,t){for(var r=[],n=new Map,a=e.filter(function(x){var D=n.get(x.target);return!D?.has(x.attributeName)&&(D?D.add(x.attributeName):n.set(x.target,new Set([x.attributeName])),!0)}),o=new Map,s=0,u=a;s<u.length;s++){var l=u[s];if(l.target.getAttribute(l.attributeName)!==l.oldValue){var h=Rt(l.target,t.defaultPrivacyLevel),g=hs(l.target,h,l.attributeName,t),_=void 0;if("value"===l.attributeName){var y=Ui(l.target,h);if(void 0===y)continue;_=y}else _="string"==typeof g?g:null;var S=o.get(l.target);S||(S={id:Pe(l.target),attributes:{}},r.push(S),o.set(l.target,S)),S.attributes[l.attributeName]=_}}return r}(o.filter(function(_){return"attributes"===_.type&&!d(_.target)}),r);!h.length&&!g.length&&!l.length&&!u.length||t({adds:u,removes:l,texts:h,attributes:g})}(u.concat(s.takeRecords()),e,t,r,n)}),s=new a(N(o.addMutations));return s.observe(n,{attributeOldValue:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),{stop:function(){s.disconnect(),o.stop()},flush:function(){o.flush()}}}function Cs(e,t){Sn(e)&&t(e.shadowRoot),function Vl(e){return Sn(e)?e.shadowRoot.childNodes:e.childNodes}(e).forEach(function(r){return Cs(r,t)})}var Eh=function(e,t){var r=t.mutationCb,n=t.inputCb,a=new Map,o={addShadowRoot:function(s){var u=Ts(r,e,o,s),l=u.stop,d=u.flush,h=Es(n,e.defaultPrivacyLevel,{target:s,domEvents:["change"]});a.set(s,{flush:d,stop:function(){l(),h()}})},removeShadowRoot:function(s){var u=a.get(s);u&&(u.stop(),a.delete(s))},stop:function(){a.forEach(function(s){return(0,s.stop)()})},flush:function(){a.forEach(function(s){return(0,s.flush)()})}};return o};function wh(e){var t=e.emit;if(!t)throw new Error("emit function is required");var r=function Sh(){var e=new WeakMap;return{set:function(t,r){t===document&&!document.scrollingElement||e.set(t===document?document.scrollingElement:t,r)},get:function(t){return e.get(t)},has:function(t){return e.has(t)}}}(),n=function(g){t(Lt(Ct.Mutation,g))},a=function(g){return t(Lt(Ct.Input,g))},o=Eh(e.configuration,{mutationCb:n,inputCb:a}),s=function(g,_){void 0===g&&(g=he()),void 0===_&&(_={status:0,elementsScrollPositions:r,shadowRootsController:o});var y=Ei();t({data:{height:y.height,href:window.location.href,width:y.width},type:Qe.Meta,timestamp:g}),t({data:{has_focus:document.hasFocus()},type:Qe.Focus,timestamp:g}),t({data:{node:qv(document,e.configuration,_),initialOffset:{left:_s(),top:bs()}},type:Qe.FullSnapshot,timestamp:g}),window.visualViewport&&t({data:ms(window.visualViewport),type:Qe.VisualViewport,timestamp:g})};s();var u=function yh(e){var t=function bh(){var e=new WeakMap,t=1;return{getIdForEvent:function(r){return e.has(r)||e.set(r,t++),e.get(r)}}}(),r=Ts(e.mutationCb,e.configuration,e.shadowRootsController,document),n=function eh(e){var t=ut(function(r){var n=Zr(r);if(pt(n)){var a=ys(r);if(!a)return;var o={id:Pe(n),timeOffset:0,x:a.x,y:a.y};e([o],ps(r)?Ct.TouchMove:Ct.MouseMove)}},Qv,{trailing:!1}).throttled;return Ue(document,["mousemove","touchmove"],t,{capture:!0,passive:!0}).stop}(e.mousemoveCb),a=function nh(e,t,r){return Ue(document,Object.keys(Ss),function(a){var o=Zr(a);if(Rt(o,t)!==$.HIDDEN&&pt(o)){var l,s=Pe(o),u=Ss[a.type];if(u!==et.Blur&&u!==et.Focus){var d=ys(a);if(!d)return;l={id:s,type:u,x:d.x,y:d.y}}else l={id:s,type:u};var h=Y({id:r.getIdForEvent(a)},Lt(Ct.MouseInteraction,l));e(h)}},{capture:!0,passive:!0}).stop}(e.mouseInteractionCb,e.configuration.defaultPrivacyLevel,t),o=function rh(e,t,r){var n=ut(function(a){var o=Zr(a);if(o&&Rt(o,t)!==$.HIDDEN&&pt(o)){var s=Pe(o),u=o===document?{scrollTop:bs(),scrollLeft:_s()}:{scrollTop:Math.round(o.scrollTop),scrollLeft:Math.round(o.scrollLeft)};r.set(o,u),e({id:s,x:u.scrollLeft,y:u.scrollTop})}},th).throttled;return ye(document,"scroll",n,{capture:!0,passive:!0}).stop}(e.scrollCb,e.configuration.defaultPrivacyLevel,e.elementsScrollPositions),s=function uh(e){return wo().subscribe(e).unsubscribe}(e.viewportResizeCb),u=Es(e.inputCb,e.configuration.defaultPrivacyLevel),l=function ah(e,t){return Ue(document,["play","pause"],function(n){var a=Zr(n);!a||Rt(a,t)===$.HIDDEN||!pt(a)||e({id:Pe(a),type:"play"===n.type?os.Play:os.Pause})},{capture:!0,passive:!0}).stop}(e.mediaInteractionCb,e.configuration.defaultPrivacyLevel),d=function ih(e){function t(a,o){a&&pt(a.ownerNode)&&o(Pe(a.ownerNode))}var r=[Ge(CSSStyleSheet.prototype,"insertRule",{before:function(a,o){t(this,function(s){return e({id:s,adds:[{rule:a,index:o}]})})}}),Ge(CSSStyleSheet.prototype,"deleteRule",{before:function(a){t(this,function(o){return e({id:o,removes:[{index:a}]})})}})];function n(a){r.push(Ge(a.prototype,"insertRule",{before:function(o,s){var u=this;t(this.parentStyleSheet,function(l){var d=ws(u);d&&(d.push(s||0),e({id:l,adds:[{rule:o,index:d}]}))})}}),Ge(a.prototype,"deleteRule",{before:function(o){var s=this;t(this.parentStyleSheet,function(u){var l=ws(s);l&&(l.push(o),e({id:u,removes:[{index:l}]}))})}}))}return typeof CSSGroupingRule<"u"?n(CSSGroupingRule):(n(CSSMediaRule),n(CSSSupportsRule)),function(){return r.forEach(function(a){return a.stop()})}}(e.styleSheetCb),h=function _h(e){return Ue(window,["focus","blur"],function(){e({has_focus:document.hasFocus()})}).stop}(e.focusCb),g=function ch(e){var t=window.visualViewport;if(!t)return de;var r=ut(function(){e(ms(t))},sh,{trailing:!1}),a=r.cancel,o=Ue(t,["resize","scroll"],r.throttled,{capture:!0,passive:!0}).stop;return function(){o(),a()}}(e.visualViewportResizeCb),_=function oh(e,t,r){return e.subscribe(10,function(n){var a,o,s;"action"===n.rawRumEvent.type&&"click"===n.rawRumEvent.action.type&&null!==(o=null===(a=n.rawRumEvent.action.frustration)||void 0===a?void 0:a.type)&&void 0!==o&&o.length&&"events"in n.domainContext&&null!==(s=n.domainContext.events)&&void 0!==s&&s.length&&t({timestamp:n.rawRumEvent.date,type:Qe.FrustrationRecord,data:{frustrationTypes:n.rawRumEvent.action.frustration.type,recordIds:n.domainContext.events.map(function(u){return r.getIdForEvent(u)})}})}).unsubscribe}(e.lifeCycle,e.frustrationCb,t);return{flush:function(){r.flush()},stop:function(){r.stop(),n(),a(),o(),s(),u(),l(),d(),h(),g(),_()}}}({lifeCycle:e.lifeCycle,configuration:e.configuration,elementsScrollPositions:r,inputCb:a,mediaInteractionCb:function(g){return t(Lt(Ct.MediaInteraction,g))},mouseInteractionCb:function(g){return t(g)},mousemoveCb:function(g,_){return t(Lt(_,{positions:g}))},mutationCb:n,scrollCb:function(g){return t(Lt(Ct.Scroll,g))},styleSheetCb:function(g){return t(Lt(Ct.StyleSheetRule,g))},viewportResizeCb:function(g){return t(Lt(Ct.ViewportResize,g))},frustrationCb:function(g){return t(g)},focusCb:function(g){return t({data:g,type:Qe.Focus,timestamp:he()})},visualViewportResizeCb:function(g){t({data:g,type:Qe.VisualViewport,timestamp:he()})},shadowRootsController:o}),l=u.stop,d=u.flush;function h(){o.flush(),d()}return{stop:function(){o.stop(),l()},takeSubsequentFullSnapshot:function(g){h(),s(g,{shadowRootsController:o,status:1,elementsScrollPositions:r})},flushMutations:h,shadowRootsController:o}}function Th(e,t,r){var n=new FormData;return n.append("segment",new Blob([e],{type:"application/octet-stream"}),"".concat(t.session.id,"-").concat(t.start)),Rs(t,function(a,o){return n.append(a,o)}),n.append("raw_segment_size",r.toString()),{data:n,bytesCount:e.byteLength}}function Rs(e,t,r){void 0===r&&(r=""),Le(e).forEach(function(n){var a=n[0],o=n[1];"object"==typeof o&&null!==o?Rs(o,t,"".concat(r).concat(a,".")):t("".concat(r).concat(a),String(o))})}var Ie,Ch=10;function Rh(e){return Nn(e).segments_count}function Is(e){Nn(e).records_count+=1}function xh(e){return Ie?.get(e)}function Nn(e){var t;return Ie||(Ie=new Map),Ie.has(e)?t=Ie.get(e):(Ie.set(e,t={records_count:0,segments_count:0,segments_total_raw_size:0}),Ie.size>Ch&&function Nh(){if(Ie)if(Ie.keys)Ie.delete(Ie.keys().next().value);else{var e=!0;Ie.forEach(function(t,r){e&&(Ie.delete(r),e=!1)})}}()),t}var zi,Oh=0,kh=function(){function e(t,r,n,a,o,s){var u=this;this.worker=t,this.id=Oh++;var l=r.view.id;this.metadata=Y({start:a.timestamp,end:a.timestamp,creation_reason:n,records_count:1,has_full_snapshot:a.type===Qe.FullSnapshot,index_in_view:Rh(l),source:"browser"},r),function Ih(e){Nn(e).segments_count+=1}(l),Is(l);var d=ye(t,"message",function(h){var g=h.data;"errored"===g.type||"initialized"===g.type||(g.id===u.id?(function Ah(e,t){Nn(e).segments_total_raw_size+=t}(l,g.additionalBytesCount),"flushed"===g.type?(s(g.result,g.rawBytesCount),d()):o(g.compressedBytesCount)):g.id>u.id&&(d(),Ur("Segment did not receive a 'flush' response before being replaced.")))}).stop;Mr("record",{record:a,segment:this.metadata}),this.worker.postMessage({data:'{"records":['.concat(JSON.stringify(a)),id:this.id,action:"write"})}return e.prototype.addRecord=function(t){var r;this.metadata.start=Math.min(this.metadata.start,t.timestamp),this.metadata.end=Math.max(this.metadata.end,t.timestamp),this.metadata.records_count+=1,Is(this.metadata.view.id),(r=this.metadata).has_full_snapshot||(r.has_full_snapshot=t.type===Qe.FullSnapshot),Mr("record",{record:t,segment:this.metadata}),this.worker.postMessage({data:",".concat(JSON.stringify(t)),id:this.id,action:"write"})},e.prototype.flush=function(t){this.worker.postMessage({data:"],".concat(JSON.stringify(this.metadata).slice(1),"\n"),id:this.id,action:"flush"}),this.flushReason=t},e}(),Lh=30*Ye,Bi=6e4;function Mh(e,t,r,n,a,o){return function Dh(e,t,r,n){var a={status:0,nextSegmentCreationReason:"init"},o=e.subscribe(2,function(){u("view_change")}).unsubscribe,s=e.subscribe(9,function(d){u(d.reason)}).unsubscribe;function u(d){1===a.status&&(a.segment.flush(d),be(a.expirationTimeoutId)),a="stop"!==d?{status:0,nextSegmentCreationReason:d}:{status:2}}return{addRecord:function(d){switch(a.status){case 0:!function l(d,h){var g=t();if(g){var _=new kh(n,g,d,h,function(y){!_.flushReason&&y>Bi&&u("segment_bytes_limit")},function(y,S){var x=Th(y,_.metadata,S);Ia(_.flushReason)?r.sendOnExit(x):r.send(x)});a={status:1,segment:_,expirationTimeoutId:se(function(){u("segment_duration_limit")},Lh)}}}(a.nextSegmentCreationReason,d);break;case 1:a.segment.addRecord(d)}},stop:function(){u("stop"),o(),s()}}}(e,function(){return function Uh(e,t,r){var n=t.findTrackedSession(),a=r.findView();if(n&&a)return{application:{id:e},session:{id:n.id},view:{id:a.id}}}(t,r,n)},a,o)}function As(){return zi||(zi=URL.createObjectURL(new Blob(["(".concat(Ph,")(self)")]))),new Worker(zi)}function Ph(){function e(r){return function(){try{return r.apply(this,arguments)}catch(n){try{self.postMessage({type:"errored",error:n})}catch{self.postMessage({type:"errored",error:"".concat(n)})}}}}e(function(){var r=function t(){function s(w){for(var i=w.length;--i>=0;)w[i]=0}var y=256,S=286,x=30,C=15,It=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ke=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),k=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),B=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ue=new Array(576);s(ue);var Yr=new Array(60);s(Yr);var $r=new Array(512);s($r);var Kr=new Array(256);s(Kr);var Hi=new Array(29);s(Hi);var Ns,Os,ks,On=new Array(x);function Gi(w,i,f,p,v){this.static_tree=w,this.extra_bits=i,this.extra_base=f,this.elems=p,this.max_length=v,this.has_stree=w&&w.length}function ji(w,i){this.dyn_tree=w,this.max_code=0,this.stat_desc=i}s(On);var Ls=function(i){return i<256?$r[i]:$r[256+(i>>>7)]},qr=function(i,f){i.pending_buf[i.pending++]=255&f,i.pending_buf[i.pending++]=f>>>8&255},Fe=function(i,f,p){i.bi_valid>16-p?(i.bi_buf|=f<<i.bi_valid&65535,qr(i,i.bi_buf),i.bi_buf=f>>16-i.bi_valid,i.bi_valid+=p-16):(i.bi_buf|=f<<i.bi_valid&65535,i.bi_valid+=p)},gt=function(i,f,p){Fe(i,p[2*f],p[2*f+1])},Ms=function(i,f){var p=0;do{p|=1&i,i>>>=1,p<<=1}while(--f>0);return p>>>1},Ds=function(i,f,p){var I,E,v=new Array(16),c=0;for(I=1;I<=C;I++)v[I]=c=c+p[I-1]<<1;for(E=0;E<=f;E++){var A=i[2*E+1];0!==A&&(i[2*E]=Ms(v[A]++,A))}},Us=function(i){var f;for(f=0;f<S;f++)i.dyn_ltree[2*f]=0;for(f=0;f<x;f++)i.dyn_dtree[2*f]=0;for(f=0;f<19;f++)i.bl_tree[2*f]=0;i.dyn_ltree[512]=1,i.opt_len=i.static_len=0,i.last_lit=i.matches=0},Ps=function(i){i.bi_valid>8?qr(i,i.bi_buf):i.bi_valid>0&&(i.pending_buf[i.pending++]=i.bi_buf),i.bi_buf=0,i.bi_valid=0},Fs=function(i,f,p,v){var c=2*f,I=2*p;return i[c]<i[I]||i[c]===i[I]&&v[f]<=v[p]},Wi=function(i,f,p){for(var v=i.heap[p],c=p<<1;c<=i.heap_len&&(c<i.heap_len&&Fs(f,i.heap[c+1],i.heap[c],i.depth)&&c++,!Fs(f,v,i.heap[c],i.depth));)i.heap[p]=i.heap[c],p=c,c<<=1;i.heap[p]=v},Bs=function(i,f,p){var v,c,E,A,I=0;if(0!==i.last_lit)do{v=i.pending_buf[i.d_buf+2*I]<<8|i.pending_buf[i.d_buf+2*I+1],c=i.pending_buf[i.l_buf+I],I++,0===v?gt(i,c,f):(gt(i,(E=Kr[c])+y+1,f),0!==(A=It[E])&&Fe(i,c-=Hi[E],A),v--,E=Ls(v),gt(i,E,p),0!==(A=Ke[E])&&Fe(i,v-=On[E],A))}while(I<i.last_lit);gt(i,256,f)},Zi=function(i,f){var E,A,L,p=f.dyn_tree,v=f.stat_desc.static_tree,c=f.stat_desc.has_stree,I=f.stat_desc.elems,J=-1;for(i.heap_len=0,i.heap_max=573,E=0;E<I;E++)0!==p[2*E]?(i.heap[++i.heap_len]=J=E,i.depth[E]=0):p[2*E+1]=0;for(;i.heap_len<2;)p[2*(L=i.heap[++i.heap_len]=J<2?++J:0)]=1,i.depth[L]=0,i.opt_len--,c&&(i.static_len-=v[2*L+1]);for(f.max_code=J,E=i.heap_len>>1;E>=1;E--)Wi(i,p,E);L=I;do{E=i.heap[1],i.heap[1]=i.heap[i.heap_len--],Wi(i,p,1),A=i.heap[1],i.heap[--i.heap_max]=E,i.heap[--i.heap_max]=A,p[2*L]=p[2*E]+p[2*A],i.depth[L]=(i.depth[E]>=i.depth[A]?i.depth[E]:i.depth[A])+1,p[2*E+1]=p[2*A+1]=L,i.heap[1]=L++,Wi(i,p,1)}while(i.heap_len>=2);i.heap[--i.heap_max]=i.heap[1],function(i,f){var L,Ne,Gt,ce,ur,Cr,p=f.dyn_tree,v=f.max_code,c=f.stat_desc.static_tree,I=f.stat_desc.has_stree,E=f.stat_desc.extra_bits,A=f.stat_desc.extra_base,J=f.stat_desc.max_length,zn=0;for(ce=0;ce<=C;ce++)i.bl_count[ce]=0;for(p[2*i.heap[i.heap_max]+1]=0,L=i.heap_max+1;L<573;L++)(ce=p[2*p[2*(Ne=i.heap[L])+1]+1]+1)>J&&(ce=J,zn++),p[2*Ne+1]=ce,!(Ne>v)&&(i.bl_count[ce]++,ur=0,Ne>=A&&(ur=E[Ne-A]),i.opt_len+=(Cr=p[2*Ne])*(ce+ur),I&&(i.static_len+=Cr*(c[2*Ne+1]+ur)));if(0!==zn){do{for(ce=J-1;0===i.bl_count[ce];)ce--;i.bl_count[ce]--,i.bl_count[ce+1]+=2,i.bl_count[J]--,zn-=2}while(zn>0);for(ce=J;0!==ce;ce--)for(Ne=i.bl_count[ce];0!==Ne;)!((Gt=i.heap[--L])>v)&&(p[2*Gt+1]!==ce&&(i.opt_len+=(ce-p[2*Gt+1])*p[2*Gt],p[2*Gt+1]=ce),Ne--)}}(i,f),Ds(p,J,i.bl_count)},zs=function(i,f,p){var v,I,c=-1,E=f[1],A=0,J=7,L=4;for(0===E&&(J=138,L=3),f[2*(p+1)+1]=65535,v=0;v<=p;v++)I=E,E=f[2*(v+1)+1],!(++A<J&&I===E)&&(A<L?i.bl_tree[2*I]+=A:0!==I?(I!==c&&i.bl_tree[2*I]++,i.bl_tree[32]++):A<=10?i.bl_tree[34]++:i.bl_tree[36]++,A=0,c=I,0===E?(J=138,L=3):I===E?(J=6,L=3):(J=7,L=4))},Vs=function(i,f,p){var v,I,c=-1,E=f[1],A=0,J=7,L=4;for(0===E&&(J=138,L=3),v=0;v<=p;v++)if(I=E,E=f[2*(v+1)+1],!(++A<J&&I===E)){if(A<L)do{gt(i,I,i.bl_tree)}while(0!=--A);else 0!==I?(I!==c&&(gt(i,I,i.bl_tree),A--),gt(i,16,i.bl_tree),Fe(i,A-3,2)):A<=10?(gt(i,17,i.bl_tree),Fe(i,A-3,3)):(gt(i,18,i.bl_tree),Fe(i,A-11,7));A=0,c=I,0===E?(J=138,L=3):I===E?(J=6,L=3):(J=7,L=4)}},Hs=!1,Gs=function(i,f,p,v){Fe(i,0+(v?1:0),3),function(i,f,p,v){Ps(i),v&&(qr(i,p),qr(i,~p)),i.pending_buf.set(i.window.subarray(f,f+p),i.pending),i.pending+=p}(i,f,p,!0)},Xr__tr_init=function(i){Hs||(function(){var i,f,p,v,c,I=new Array(16);for(p=0,v=0;v<28;v++)for(Hi[v]=p,i=0;i<1<<It[v];i++)Kr[p++]=v;for(Kr[p-1]=v,c=0,v=0;v<16;v++)for(On[v]=c,i=0;i<1<<Ke[v];i++)$r[c++]=v;for(c>>=7;v<x;v++)for(On[v]=c<<7,i=0;i<1<<Ke[v]-7;i++)$r[256+c++]=v;for(f=0;f<=C;f++)I[f]=0;for(i=0;i<=143;)ue[2*i+1]=8,i++,I[8]++;for(;i<=255;)ue[2*i+1]=9,i++,I[9]++;for(;i<=279;)ue[2*i+1]=7,i++,I[7]++;for(;i<=287;)ue[2*i+1]=8,i++,I[8]++;for(Ds(ue,287,I),i=0;i<x;i++)Yr[2*i+1]=5,Yr[2*i]=Ms(i,5);Ns=new Gi(ue,It,257,S,C),Os=new Gi(Yr,Ke,0,x,C),ks=new Gi(new Array(0),k,0,19,7)}(),Hs=!0),i.l_desc=new ji(i.dyn_ltree,Ns),i.d_desc=new ji(i.dyn_dtree,Os),i.bl_desc=new ji(i.bl_tree,ks),i.bi_buf=0,i.bi_valid=0,Us(i)},Xr__tr_stored_block=Gs,Xr__tr_flush_block=function(i,f,p,v){var c,I,E=0;i.level>0?(2===i.strm.data_type&&(i.strm.data_type=function(i){var p,f=4093624447;for(p=0;p<=31;p++,f>>>=1)if(1&f&&0!==i.dyn_ltree[2*p])return 0;if(0!==i.dyn_ltree[18]||0!==i.dyn_ltree[20]||0!==i.dyn_ltree[26])return 1;for(p=32;p<y;p++)if(0!==i.dyn_ltree[2*p])return 1;return 0}(i)),Zi(i,i.l_desc),Zi(i,i.d_desc),E=function(i){var f;for(zs(i,i.dyn_ltree,i.l_desc.max_code),zs(i,i.dyn_dtree,i.d_desc.max_code),Zi(i,i.bl_desc),f=18;f>=3&&0===i.bl_tree[2*B[f]+1];f--);return i.opt_len+=3*(f+1)+5+5+4,f}(i),(I=i.static_len+3+7>>>3)<=(c=i.opt_len+3+7>>>3)&&(c=I)):c=I=p+5,p+4<=c&&-1!==f?Gs(i,f,p,v):4===i.strategy||I===c?(Fe(i,2+(v?1:0),3),Bs(i,ue,Yr)):(Fe(i,4+(v?1:0),3),function(i,f,p,v){var c;for(Fe(i,f-257,5),Fe(i,p-1,5),Fe(i,v-4,4),c=0;c<v;c++)Fe(i,i.bl_tree[2*B[c]+1],3);Vs(i,i.dyn_ltree,f-1),Vs(i,i.dyn_dtree,p-1)}(i,i.l_desc.max_code+1,i.d_desc.max_code+1,E+1),Bs(i,i.dyn_ltree,i.dyn_dtree)),Us(i),v&&Ps(i)},Xr__tr_tally=function(i,f,p){return i.pending_buf[i.d_buf+2*i.last_lit]=f>>>8&255,i.pending_buf[i.d_buf+2*i.last_lit+1]=255&f,i.pending_buf[i.l_buf+i.last_lit]=255&p,i.last_lit++,0===f?i.dyn_ltree[2*p]++:(i.matches++,f--,i.dyn_ltree[2*(Kr[p]+y+1)]++,i.dyn_dtree[2*Ls(f)]++),i.last_lit===i.lit_bufsize-1},Xr__tr_align=function(i){Fe(i,2,3),gt(i,256,ue),function(i){16===i.bi_valid?(qr(i,i.bi_buf),i.bi_buf=0,i.bi_valid=0):i.bi_valid>=8&&(i.pending_buf[i.pending++]=255&i.bi_buf,i.bi_buf>>=8,i.bi_valid-=8)}(i)},js=function(i,f,p,v){for(var c=65535&i|0,I=i>>>16&65535|0,E=0;0!==p;){p-=E=p>2e3?2e3:p;do{I=I+(c=c+f[v++]|0)|0}while(--E);c%=65521,I%=65521}return c|I<<16|0},dp=new Uint32Array(function(){for(var i,f=[],p=0;p<256;p++){i=p;for(var v=0;v<8;v++)i=1&i?3988292384^i>>>1:i>>>1;f[p]=i}return f}()),Mt=function(i,f,p,v){var c=dp,I=v+p;i^=-1;for(var E=v;E<I;E++)i=i>>>8^c[255&(i^f[E])];return-1^i},Yi={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ie={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},hp=Xr__tr_init,pp=Xr__tr_stored_block,gp=Xr__tr_flush_block,Dt=Xr__tr_tally,mp=Xr__tr_align,ir=ie.Z_NO_FLUSH,_p=ie.Z_PARTIAL_FLUSH,bp=ie.Z_FULL_FLUSH,Ut=ie.Z_FINISH,Ws=ie.Z_BLOCK,mt=ie.Z_OK,Zs=ie.Z_STREAM_END,qe=ie.Z_STREAM_ERROR,yp=ie.Z_DATA_ERROR,$i=ie.Z_BUF_ERROR,Sp=ie.Z_DEFAULT_COMPRESSION,Ep=ie.Z_FILTERED,kn=ie.Z_HUFFMAN_ONLY,wp=ie.Z_RLE,Tp=ie.Z_FIXED,Cp=ie.Z_DEFAULT_STRATEGY,Rp=ie.Z_UNKNOWN,Ln=ie.Z_DEFLATED,Ki=286,kp=30,Lp=19,Mp=2*Ki+1,Dp=15,Pt=258,it=262,Ft=function(i,f){return i.msg=Yi[f],f},Ys=function(i){return(i<<1)-(i>4?9:0)},Bt=function(i){for(var f=i.length;--f>=0;)i[f]=0},zt=function(i,f,p){return(f<<i.hash_shift^p)&i.hash_mask},Vt=function(i){var f=i.state,p=f.pending;p>i.avail_out&&(p=i.avail_out),0!==p&&(i.output.set(f.pending_buf.subarray(f.pending_out,f.pending_out+p),i.next_out),i.next_out+=p,f.pending_out+=p,i.total_out+=p,i.avail_out-=p,f.pending-=p,0===f.pending&&(f.pending_out=0))},Ce=function(i,f){gp(i,i.block_start>=0?i.block_start:-1,i.strstart-i.block_start,f),i.block_start=i.strstart,Vt(i.strm)},ee=function(i,f){i.pending_buf[i.pending++]=f},en=function(i,f){i.pending_buf[i.pending++]=f>>>8&255,i.pending_buf[i.pending++]=255&f},Bp=function(i,f,p,v){var c=i.avail_in;return c>v&&(c=v),0===c?0:(i.avail_in-=c,f.set(i.input.subarray(i.next_in,i.next_in+c),p),1===i.state.wrap?i.adler=js(i.adler,f,c,p):2===i.state.wrap&&(i.adler=Mt(i.adler,f,c,p)),i.next_in+=c,i.total_in+=c,c)},$s=function(i,f){var c,I,p=i.max_chain_length,v=i.strstart,E=i.prev_length,A=i.nice_match,J=i.strstart>i.w_size-it?i.strstart-(i.w_size-it):0,L=i.window,Ne=i.w_mask,Gt=i.prev,ce=i.strstart+Pt,ur=L[v+E-1],Cr=L[v+E];i.prev_length>=i.good_match&&(p>>=2),A>i.lookahead&&(A=i.lookahead);do{if(L[(c=f)+E]===Cr&&L[c+E-1]===ur&&L[c]===L[v]&&L[++c]===L[v+1]){v+=2,c++;do{}while(L[++v]===L[++c]&&L[++v]===L[++c]&&L[++v]===L[++c]&&L[++v]===L[++c]&&L[++v]===L[++c]&&L[++v]===L[++c]&&L[++v]===L[++c]&&L[++v]===L[++c]&&v<ce);if(I=Pt-(ce-v),v=ce-Pt,I>E){if(i.match_start=f,E=I,I>=A)break;ur=L[v+E-1],Cr=L[v+E]}}}while((f=Gt[f&Ne])>J&&0!=--p);return E<=i.lookahead?E:i.lookahead},sr=function(i){var p,v,c,I,E,f=i.w_size;do{if(I=i.window_size-i.lookahead-i.strstart,i.strstart>=f+(f-it)){i.window.set(i.window.subarray(f,f+f),0),i.match_start-=f,i.strstart-=f,i.block_start-=f,p=v=i.hash_size;do{c=i.head[--p],i.head[p]=c>=f?c-f:0}while(--v);p=v=f;do{c=i.prev[--p],i.prev[p]=c>=f?c-f:0}while(--v);I+=f}if(0===i.strm.avail_in)break;if(v=Bp(i.strm,i.window,i.strstart+i.lookahead,I),i.lookahead+=v,i.lookahead+i.insert>=3)for(i.ins_h=i.window[E=i.strstart-i.insert],i.ins_h=zt(i,i.ins_h,i.window[E+1]);i.insert&&(i.ins_h=zt(i,i.ins_h,i.window[E+3-1]),i.prev[E&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=E,E++,i.insert--,!(i.lookahead+i.insert<3)););}while(i.lookahead<it&&0!==i.strm.avail_in)},Xi=function(i,f){for(var p,v;;){if(i.lookahead<it){if(sr(i),i.lookahead<it&&f===ir)return 1;if(0===i.lookahead)break}if(p=0,i.lookahead>=3&&(i.ins_h=zt(i,i.ins_h,i.window[i.strstart+3-1]),p=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),0!==p&&i.strstart-p<=i.w_size-it&&(i.match_length=$s(i,p)),i.match_length>=3)if(v=Dt(i,i.strstart-i.match_start,i.match_length-3),i.lookahead-=i.match_length,i.match_length<=i.max_lazy_match&&i.lookahead>=3){i.match_length--;do{i.strstart++,i.ins_h=zt(i,i.ins_h,i.window[i.strstart+3-1]),p=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart}while(0!=--i.match_length);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=zt(i,i.ins_h,i.window[i.strstart+1]);else v=Dt(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(v&&(Ce(i,!1),0===i.strm.avail_out))return 1}return i.insert=i.strstart<2?i.strstart:2,f===Ut?(Ce(i,!0),0===i.strm.avail_out?3:4):i.last_lit&&(Ce(i,!1),0===i.strm.avail_out)?1:2},Tr=function(i,f){for(var p,v,c;;){if(i.lookahead<it){if(sr(i),i.lookahead<it&&f===ir)return 1;if(0===i.lookahead)break}if(p=0,i.lookahead>=3&&(i.ins_h=zt(i,i.ins_h,i.window[i.strstart+3-1]),p=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=2,0!==p&&i.prev_length<i.max_lazy_match&&i.strstart-p<=i.w_size-it&&(i.match_length=$s(i,p),i.match_length<=5&&(i.strategy===Ep||3===i.match_length&&i.strstart-i.match_start>4096)&&(i.match_length=2)),i.prev_length>=3&&i.match_length<=i.prev_length){c=i.strstart+i.lookahead-3,v=Dt(i,i.strstart-1-i.prev_match,i.prev_length-3),i.lookahead-=i.prev_length-1,i.prev_length-=2;do{++i.strstart<=c&&(i.ins_h=zt(i,i.ins_h,i.window[i.strstart+3-1]),p=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart)}while(0!=--i.prev_length);if(i.match_available=0,i.match_length=2,i.strstart++,v&&(Ce(i,!1),0===i.strm.avail_out))return 1}else if(i.match_available){if((v=Dt(i,0,i.window[i.strstart-1]))&&Ce(i,!1),i.strstart++,i.lookahead--,0===i.strm.avail_out)return 1}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&&(v=Dt(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart<2?i.strstart:2,f===Ut?(Ce(i,!0),0===i.strm.avail_out?3:4):i.last_lit&&(Ce(i,!1),0===i.strm.avail_out)?1:2};function _t(w,i,f,p,v){this.good_length=w,this.max_lazy=i,this.nice_length=f,this.max_chain=p,this.func=v}var tn=[new _t(0,0,0,0,function(i,f){var p=65535;for(p>i.pending_buf_size-5&&(p=i.pending_buf_size-5);;){if(i.lookahead<=1){if(sr(i),0===i.lookahead&&f===ir)return 1;if(0===i.lookahead)break}i.strstart+=i.lookahead,i.lookahead=0;var v=i.block_start+p;if((0===i.strstart||i.strstart>=v)&&(i.lookahead=i.strstart-v,i.strstart=v,Ce(i,!1),0===i.strm.avail_out)||i.strstart-i.block_start>=i.w_size-it&&(Ce(i,!1),0===i.strm.avail_out))return 1}return i.insert=0,f===Ut?(Ce(i,!0),0===i.strm.avail_out?3:4):(i.strstart>i.block_start&&Ce(i,!1),1)}),new _t(4,4,8,4,Xi),new _t(4,5,16,8,Xi),new _t(4,6,32,32,Xi),new _t(4,4,16,16,Tr),new _t(8,16,32,32,Tr),new _t(8,16,128,128,Tr),new _t(8,32,128,256,Tr),new _t(32,128,258,1024,Tr),new _t(32,258,258,4096,Tr)];function jp(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ln,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*Mp),this.dyn_dtree=new Uint16Array(2*(2*kp+1)),this.bl_tree=new Uint16Array(2*(2*Lp+1)),Bt(this.dyn_ltree),Bt(this.dyn_dtree),Bt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Dp+1),this.heap=new Uint16Array(2*Ki+1),Bt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Ki+1),Bt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Ks=function(i){if(!i||!i.state)return Ft(i,qe);i.total_in=i.total_out=0,i.data_type=Rp;var f=i.state;return f.pending=0,f.pending_out=0,f.wrap<0&&(f.wrap=-f.wrap),f.status=f.wrap?42:113,i.adler=2===f.wrap?0:1,f.last_flush=ir,hp(f),mt},qs=function(i){var f=Ks(i);return f===mt&&function(i){i.window_size=2*i.w_size,Bt(i.head),i.max_lazy_match=tn[i.level].max_lazy,i.good_match=tn[i.level].good_length,i.nice_match=tn[i.level].nice_length,i.max_chain_length=tn[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=2,i.match_available=0,i.ins_h=0}(i.state),f},Xs=function(i,f,p,v,c,I){if(!i)return qe;var E=1;if(f===Sp&&(f=6),v<0?(E=0,v=-v):v>15&&(E=2,v-=16),c<1||c>9||p!==Ln||v<8||v>15||f<0||f>9||I<0||I>Tp)return Ft(i,qe);8===v&&(v=9);var A=new jp;return i.state=A,A.strm=i,A.wrap=E,A.gzhead=null,A.w_bits=v,A.w_size=1<<A.w_bits,A.w_mask=A.w_size-1,A.hash_bits=c+7,A.hash_size=1<<A.hash_bits,A.hash_mask=A.hash_size-1,A.hash_shift=~~((A.hash_bits+3-1)/3),A.window=new Uint8Array(2*A.w_size),A.head=new Uint16Array(A.hash_size),A.prev=new Uint16Array(A.w_size),A.lit_bufsize=1<<c+6,A.pending_buf_size=4*A.lit_bufsize,A.pending_buf=new Uint8Array(A.pending_buf_size),A.d_buf=1*A.lit_bufsize,A.l_buf=3*A.lit_bufsize,A.level=f,A.strategy=I,A.method=p,qs(i)},rn={deflateInit:function(i,f){return Xs(i,f,Ln,15,8,Cp)},deflateInit2:Xs,deflateReset:qs,deflateResetKeep:Ks,deflateSetHeader:function(i,f){return i&&i.state&&2===i.state.wrap?(i.state.gzhead=f,mt):qe},deflate:function(i,f){var p,v;if(!i||!i.state||f>Ws||f<0)return i?Ft(i,qe):qe;var c=i.state;if(!i.output||!i.input&&0!==i.avail_in||666===c.status&&f!==Ut)return Ft(i,0===i.avail_out?$i:qe);c.strm=i;var I=c.last_flush;if(c.last_flush=f,42===c.status)if(2===c.wrap)i.adler=0,ee(c,31),ee(c,139),ee(c,8),c.gzhead?(ee(c,(c.gzhead.text?1:0)+(c.gzhead.hcrc?2:0)+(c.gzhead.extra?4:0)+(c.gzhead.name?8:0)+(c.gzhead.comment?16:0)),ee(c,255&c.gzhead.time),ee(c,c.gzhead.time>>8&255),ee(c,c.gzhead.time>>16&255),ee(c,c.gzhead.time>>24&255),ee(c,9===c.level?2:c.strategy>=kn||c.level<2?4:0),ee(c,255&c.gzhead.os),c.gzhead.extra&&c.gzhead.extra.length&&(ee(c,255&c.gzhead.extra.length),ee(c,c.gzhead.extra.length>>8&255)),c.gzhead.hcrc&&(i.adler=Mt(i.adler,c.pending_buf,c.pending,0)),c.gzindex=0,c.status=69):(ee(c,0),ee(c,0),ee(c,0),ee(c,0),ee(c,0),ee(c,9===c.level?2:c.strategy>=kn||c.level<2?4:0),ee(c,3),c.status=113);else{var E=Ln+(c.w_bits-8<<4)<<8;E|=(c.strategy>=kn||c.level<2?0:c.level<6?1:6===c.level?2:3)<<6,0!==c.strstart&&(E|=32),E+=31-E%31,c.status=113,en(c,E),0!==c.strstart&&(en(c,i.adler>>>16),en(c,65535&i.adler)),i.adler=1}if(69===c.status)if(c.gzhead.extra){for(p=c.pending;c.gzindex<(65535&c.gzhead.extra.length)&&(c.pending!==c.pending_buf_size||(c.gzhead.hcrc&&c.pending>p&&(i.adler=Mt(i.adler,c.pending_buf,c.pending-p,p)),Vt(i),p=c.pending,c.pending!==c.pending_buf_size));)ee(c,255&c.gzhead.extra[c.gzindex]),c.gzindex++;c.gzhead.hcrc&&c.pending>p&&(i.adler=Mt(i.adler,c.pending_buf,c.pending-p,p)),c.gzindex===c.gzhead.extra.length&&(c.gzindex=0,c.status=73)}else c.status=73;if(73===c.status)if(c.gzhead.name){p=c.pending;do{if(c.pending===c.pending_buf_size&&(c.gzhead.hcrc&&c.pending>p&&(i.adler=Mt(i.adler,c.pending_buf,c.pending-p,p)),Vt(i),p=c.pending,c.pending===c.pending_buf_size)){v=1;break}v=c.gzindex<c.gzhead.name.length?255&c.gzhead.name.charCodeAt(c.gzindex++):0,ee(c,v)}while(0!==v);c.gzhead.hcrc&&c.pending>p&&(i.adler=Mt(i.adler,c.pending_buf,c.pending-p,p)),0===v&&(c.gzindex=0,c.status=91)}else c.status=91;if(91===c.status)if(c.gzhead.comment){p=c.pending;do{if(c.pending===c.pending_buf_size&&(c.gzhead.hcrc&&c.pending>p&&(i.adler=Mt(i.adler,c.pending_buf,c.pending-p,p)),Vt(i),p=c.pending,c.pending===c.pending_buf_size)){v=1;break}v=c.gzindex<c.gzhead.comment.length?255&c.gzhead.comment.charCodeAt(c.gzindex++):0,ee(c,v)}while(0!==v);c.gzhead.hcrc&&c.pending>p&&(i.adler=Mt(i.adler,c.pending_buf,c.pending-p,p)),0===v&&(c.status=103)}else c.status=103;if(103===c.status&&(c.gzhead.hcrc?(c.pending+2>c.pending_buf_size&&Vt(i),c.pending+2<=c.pending_buf_size&&(ee(c,255&i.adler),ee(c,i.adler>>8&255),i.adler=0,c.status=113)):c.status=113),0!==c.pending){if(Vt(i),0===i.avail_out)return c.last_flush=-1,mt}else if(0===i.avail_in&&Ys(f)<=Ys(I)&&f!==Ut)return Ft(i,$i);if(666===c.status&&0!==i.avail_in)return Ft(i,$i);if(0!==i.avail_in||0!==c.lookahead||f!==ir&&666!==c.status){var J=c.strategy===kn?function(i,f){for(var p;;){if(0===i.lookahead&&(sr(i),0===i.lookahead)){if(f===ir)return 1;break}if(i.match_length=0,p=Dt(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++,p&&(Ce(i,!1),0===i.strm.avail_out))return 1}return i.insert=0,f===Ut?(Ce(i,!0),0===i.strm.avail_out?3:4):i.last_lit&&(Ce(i,!1),0===i.strm.avail_out)?1:2}(c,f):c.strategy===wp?function(i,f){for(var p,v,c,I,E=i.window;;){if(i.lookahead<=Pt){if(sr(i),i.lookahead<=Pt&&f===ir)return 1;if(0===i.lookahead)break}if(i.match_length=0,i.lookahead>=3&&i.strstart>0&&(v=E[c=i.strstart-1])===E[++c]&&v===E[++c]&&v===E[++c]){I=i.strstart+Pt;do{}while(v===E[++c]&&v===E[++c]&&v===E[++c]&&v===E[++c]&&v===E[++c]&&v===E[++c]&&v===E[++c]&&v===E[++c]&&c<I);i.match_length=Pt-(I-c),i.match_length>i.lookahead&&(i.match_length=i.lookahead)}if(i.match_length>=3?(p=Dt(i,1,i.match_length-3),i.lookahead-=i.match_length,i.strstart+=i.match_length,i.match_length=0):(p=Dt(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++),p&&(Ce(i,!1),0===i.strm.avail_out))return 1}return i.insert=0,f===Ut?(Ce(i,!0),0===i.strm.avail_out?3:4):i.last_lit&&(Ce(i,!1),0===i.strm.avail_out)?1:2}(c,f):tn[c.level].func(c,f);if((3===J||4===J)&&(c.status=666),1===J||3===J)return 0===i.avail_out&&(c.last_flush=-1),mt;if(2===J&&(f===_p?mp(c):f!==Ws&&(pp(c,0,0,!1),f===bp&&(Bt(c.head),0===c.lookahead&&(c.strstart=0,c.block_start=0,c.insert=0))),Vt(i),0===i.avail_out))return c.last_flush=-1,mt}return f!==Ut?mt:c.wrap<=0?Zs:(2===c.wrap?(ee(c,255&i.adler),ee(c,i.adler>>8&255),ee(c,i.adler>>16&255),ee(c,i.adler>>24&255),ee(c,255&i.total_in),ee(c,i.total_in>>8&255),ee(c,i.total_in>>16&255),ee(c,i.total_in>>24&255)):(en(c,i.adler>>>16),en(c,65535&i.adler)),Vt(i),c.wrap>0&&(c.wrap=-c.wrap),0!==c.pending?mt:Zs)},deflateEnd:function(i){if(!i||!i.state)return qe;var f=i.state.status;return 42!==f&&69!==f&&73!==f&&91!==f&&103!==f&&113!==f&&666!==f?Ft(i,qe):(i.state=null,113===f?Ft(i,yp):mt)},deflateSetDictionary:function(i,f){var p=f.length;if(!i||!i.state)return qe;var v=i.state,c=v.wrap;if(2===c||1===c&&42!==v.status||v.lookahead)return qe;if(1===c&&(i.adler=js(i.adler,f,p,0)),v.wrap=0,p>=v.w_size){0===c&&(Bt(v.head),v.strstart=0,v.block_start=0,v.insert=0);var I=new Uint8Array(v.w_size);I.set(f.subarray(p-v.w_size,p),0),f=I,p=v.w_size}var E=i.avail_in,A=i.next_in,J=i.input;for(i.avail_in=p,i.next_in=0,i.input=f,sr(v);v.lookahead>=3;){var L=v.strstart,Ne=v.lookahead-2;do{v.ins_h=zt(v,v.ins_h,v.window[L+3-1]),v.prev[L&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=L,L++}while(--Ne);v.strstart=L,v.lookahead=2,sr(v)}return v.strstart+=v.lookahead,v.block_start=v.strstart,v.insert=v.lookahead,v.lookahead=0,v.match_length=v.prev_length=2,v.match_available=0,i.next_in=A,i.input=J,i.avail_in=E,v.wrap=c,mt},deflateInfo:"pako deflate (from Nodeca project)"};for(var Ji=new Uint8Array(256),Ht=0;Ht<256;Ht++)Ji[Ht]=Ht>=252?6:Ht>=248?5:Ht>=240?4:Ht>=224?3:Ht>=192?2:1;Ji[254]=Ji[254]=1;var sg=function og(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Js=Object.prototype.toString,ug=ie.Z_NO_FLUSH,cg=ie.Z_SYNC_FLUSH,lg=ie.Z_FULL_FLUSH,fg=ie.Z_FINISH,Fn=ie.Z_OK,dg=ie.Z_STREAM_END,vg=ie.Z_DEFAULT_COMPRESSION,hg=ie.Z_DEFAULT_STRATEGY,pg=ie.Z_DEFLATED;function Bn(){this.options={level:vg,method:pg,chunkSize:16384,windowBits:15,memLevel:8,strategy:hg};var w=this.options;w.raw&&w.windowBits>0?w.windowBits=-w.windowBits:w.gzip&&w.windowBits>0&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new sg,this.strm.avail_out=0;var i=rn.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(i!==Fn)throw new Error(Yi[i]);if(w.header&&rn.deflateSetHeader(this.strm,w.header),w.dictionary){var f;if(f="[object ArrayBuffer]"===Js.call(w.dictionary)?new Uint8Array(w.dictionary):w.dictionary,(i=rn.deflateSetDictionary(this.strm,f))!==Fn)throw new Error(Yi[i]);this._dict_set=!0}}return Bn.prototype.push=function(w,i){var v,c,f=this.strm,p=this.options.chunkSize;if(this.ended)return!1;for(c=i===~~i?i:!0===i?fg:ug,f.input="[object ArrayBuffer]"===Js.call(w)?new Uint8Array(w):w,f.next_in=0,f.avail_in=f.input.length;;)if(0===f.avail_out&&(f.output=new Uint8Array(p),f.next_out=0,f.avail_out=p),(c===cg||c===lg)&&f.avail_out<=6)this.onData(f.output.subarray(0,f.next_out)),f.avail_out=0;else{if((v=rn.deflate(f,c))===dg)return f.next_out>0&&this.onData(f.output.subarray(0,f.next_out)),v=rn.deflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===Fn;if(0!==f.avail_out){if(c>0&&f.next_out>0)this.onData(f.output.subarray(0,f.next_out)),f.avail_out=0;else if(0===f.avail_in)break}else this.onData(f.output)}return!0},Bn.prototype.onData=function(w){this.chunks.push(w)},Bn.prototype.onEnd=function(w){w===Fn&&(this.result=function ag(w){for(var i=0,f=0,p=w.length;f<p;f++)i+=w[f].length;for(var v=new Uint8Array(i),c=0,I=0,E=w.length;c<E;c++){var A=w[c];v.set(A,I),I+=A.length}return v}(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},{Deflate:Bn,constants:ie,string2buf:function gg(w){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(w);var i,f,p,v,c,I=w.length,E=0;for(v=0;v<I;v++)55296==(64512&(f=w.charCodeAt(v)))&&v+1<I&&56320==(64512&(p=w.charCodeAt(v+1)))&&(f=65536+(f-55296<<10)+(p-56320),v++),E+=f<128?1:f<2048?2:f<65536?3:4;for(i=new Uint8Array(E),c=0,v=0;c<E;v++)55296==(64512&(f=w.charCodeAt(v)))&&v+1<I&&56320==(64512&(p=w.charCodeAt(v+1)))&&(f=65536+(f-55296<<10)+(p-56320),v++),f<128?i[c++]=f:f<2048?(i[c++]=192|f>>>6,i[c++]=128|63&f):f<65536?(i[c++]=224|f>>>12,i[c++]=128|f>>>6&63,i[c++]=128|63&f):(i[c++]=240|f>>>18,i[c++]=128|f>>>12&63,i[c++]=128|f>>>6&63,i[c++]=128|63&f);return i}}}(),n=r.Deflate,a=r.constants,o=r.string2buf,s=new n,u=0;function l(d){var h=o(d);return s.push(h,a.Z_SYNC_FLUSH),u+=h.length,h.length}self.addEventListener("message",e(function(d){var h=d.data;switch(h.action){case"init":self.postMessage({type:"initialized"});break;case"write":var g=l(h.data);self.postMessage({type:"wrote",id:h.id,compressedBytesCount:s.chunks.reduce(function(_,y){return _+y.length},0),additionalBytesCount:g});break;case"flush":g=h.data?l(h.data):0,s.push("",a.Z_FINISH),self.postMessage({type:"flushed",id:h.id,result:s.result,additionalBytesCount:g,rawBytesCount:u}),s=new n,u=0}}))})()}var rt={status:0};function Fh(e,t){switch(void 0===t&&(t=As),rt.status){case 0:rt={status:1,callbacks:[e]},function Bh(e){void 0===e&&(e=As);try{var t=e();ye(t,"error",Vi),ye(t,"message",function(r){var n=r.data;"errored"===n.type?Vi(n.error):"initialized"===n.type&&function zh(e){1===rt.status&&(rt.callbacks.forEach(function(t){return t(e)}),rt={status:3,worker:e})}(t)}),t.postMessage({action:"init"})}catch(r){Vi(r)}}(t);break;case 1:rt.callbacks.push(e);break;case 2:e();break;case 3:e(rt.worker)}}function Vi(e){1===rt.status?(U.error("Session Replay recording failed to start: an error occurred while creating the Worker:",e),e instanceof Event||e instanceof Error&&function Vh(e){return oe(e,"Content Security Policy")||oe(e,"requires 'TrustedScriptURL'")}(e.message)?U.error("Please make sure CSP is correctly configured https://docs.datadoghq.com/real_user_monitoring/faq/content_security_policy"):pn(e),rt.callbacks.forEach(function(t){return t()}),rt={status:2}):pn(e)}function xs(){return"function"==typeof Array.from&&"function"==typeof CSSSupportsRule&&"function"==typeof URL.createObjectURL&&"forEach"in NodeList.prototype}function Gh(e,t,r,n){var a=t.findTrackedSession(),o=function jh(e,t){return xs()?e?e.sessionReplayAllowed?t?void 0:"replay-not-started":"incorrect-session-plan":"rum-not-tracked":"browser-not-supported"}(a,n);return function vv(e,t){var r=t.session,n=t.viewContext,a=t.errorType,o=r?r.id:"no-session-id",s=[];void 0!==a&&s.push("error-type=".concat(a)),n&&(s.push("seed=".concat(n.id)),s.push("from=".concat(n.startClocks.timeStamp)));var u=function hv(e){var t=e.site,r=e.subdomain||function pv(e){switch(e.site){case mr:case mu:return"app";case va:return"dd";default:return}}(e);return"https://".concat(r?"".concat(r,"."):"").concat(t)}(e),l="/rum/replay/sessions/".concat(o);return"".concat(u).concat(l,"?").concat(s.join("&"))}(e,{viewContext:r.findView(),errorType:o,session:a})}var Yh=function kl(e,t,r){var a=(void 0===r?{}:r).ignoreInitIfSyntheticsWillInjectRum,o=void 0===a||a,s=!1,u=Ir("global context"),l=Ir("user"),d=function(){},h=function(){},g=de,_=function(){},y=new Wn,S=function(k,B){void 0===B&&(B=he()),y.add(function(){return S(k,B)})},x=function(k,B){void 0===B&&(B=De()),y.add(function(){return x(k,B)})},D=function(k,B){void 0===B&&(B=pi(u,l,t)),y.add(function(){return D(k,B)})},F=function(k,B){void 0===B&&(B=pi(u,l,t)),y.add(function(){return F(k,B)})},C=function(k,B){y.add(function(){return C(k,B)})};function ne(k,B,We){var ue=e(k,B,t,u,l,We);_=function(){return t.getSessionReplayLink(B,ue.session,ue.viewContexts)},x=ue.startView,D=ue.addAction,F=ue.addError,S=ue.addTiming,C=ue.addFeatureFlagEvaluation,d=ue.getInternalContext,g=ue.stopSession,y.drain(),t.onRumStart(ue.lifeCycle,B,ue.session,ue.viewContexts)}var X=N(function(k){x("object"==typeof k?k:{name:k})});return an({init:N(function G(k){if(h=function(){return Ze(k)},!o||!hn()){if(lt())k=function It(k){return Y({},k,{applicationId:"00000000-aaaa-0000-aaaa-000000000000",clientToken:"empty",sessionSampleRate:100})}(k);else if(!function nt(k){return ca(pa(k))?!function Ke(){return"file:"===window.location.protocol}()||(U.error("Execution is not allowed in the current context."),!1):(U.warn("Cookies are not authorized, we will not send any data."),!1)}(k))return;if(function Te(k){return!s||(k.silentMultipleInit||U.error("DD_RUM is already initialized."),!1)}(k)){var B=function Il(e){var t,r,n,a,o,s;if(e.applicationId)if(void 0===e.sessionReplaySampleRate||pr(e.sessionReplaySampleRate)){var u=null!==(t=e.premiumSampleRate)&&void 0!==t?t:e.replaySampleRate;if(void 0!==u&&void 0!==e.sessionReplaySampleRate&&(U.warn("Ignoring Premium Sample Rate because Session Replay Sample Rate is set"),u=void 0),void 0===u||pr(u)){var l=null!==(r=e.traceSampleRate)&&void 0!==r?r:e.tracingSampleRate;if(void 0===l||pr(l))if(void 0===e.excludedActivityUrls||Array.isArray(e.excludedActivityUrls)){var d=function Al(e){if(void 0!==e.allowedTracingUrls&&void 0!==e.allowedTracingOrigins&&U.warn("Both allowedTracingUrls and allowedTracingOrigins (deprecated) have been defined. The parameter allowedTracingUrls will override allowedTracingOrigins."),void 0!==e.allowedTracingUrls){if(!Array.isArray(e.allowedTracingUrls))return void U.error("Allowed Tracing URLs should be an array");if(0!==e.allowedTracingUrls.length&&void 0===e.service)return void U.error("Service needs to be configured when tracing is enabled");var t=[];return e.allowedTracingUrls.forEach(function(n){hi(n)?t.push({match:n,propagatorTypes:["datadog"]}):function El(e){var t=e;return"object"===Nt(t)&&hi(t.match)&&Array.isArray(t.propagatorTypes)}(n)?t.push(n):U.warn("Allowed Tracing Urls parameters should be a string, RegExp, function, or an object. Ignoring parameter",n)}),t}if(void 0!==e.allowedTracingOrigins){if(!Array.isArray(e.allowedTracingOrigins))return void U.error("Allowed Tracing Origins should be an array");if(0!==e.allowedTracingOrigins.length&&void 0===e.service)return void U.error("Service needs to be configured when tracing is enabled");var r=[];return e.allowedTracingOrigins.forEach(function(n){var a=function xl(e){var t;if("string"==typeof e?t=e:e instanceof RegExp?t=function(r){return e.test(fn(r))}:"function"==typeof e&&(t=function(r){return e(fn(r))}),void 0!==t)return{match:t,propagatorTypes:["datadog"]};U.warn("Allowed Tracing Origins parameters should be a string, RegExp or function. Ignoring parameter",e)}(n);a&&r.push(a)}),r}return[]}(e);if(d){var h=ha(e);if(h){var g=!!(null!==(n=e.trackUserInteractions)&&void 0!==n?n:e.trackInteractions),_=!!e.trackFrustrations;return Y({applicationId:e.applicationId,version:e.version,actionNameAttribute:e.actionNameAttribute,sessionReplaySampleRate:null!==(o=null!==(a=e.sessionReplaySampleRate)&&void 0!==a?a:u)&&void 0!==o?o:100,oldPlansBehavior:void 0===e.sessionReplaySampleRate,traceSampleRate:l,allowedTracingUrls:d,excludedActivityUrls:null!==(s=e.excludedActivityUrls)&&void 0!==s?s:[],trackUserInteractions:g||_,trackFrustrations:_,trackViewsManually:!!e.trackViewsManually,trackResources:e.trackResources,trackLongTasks:e.trackLongTasks,subdomain:e.subdomain,defaultPrivacyLevel:la(kr,e.defaultPrivacyLevel)?e.defaultPrivacyLevel:kr.MASK_USER_INPUT,customerDataTelemetrySampleRate:1},h)}}}else U.error("Excluded Activity Urls should be an array");else U.error("Trace Sample Rate should be a number between 0 and 100")}else U.error("Premium Sample Rate should be a number between 0 and 100")}else U.error("Session Replay Sample Rate should be a number between 0 and 100");else U.error("Application ID is not configured, no RUM data will be collected.")}(k);if(B){if(B.trackViewsManually){var We=y;y=new Wn,x=function(ue){ne(k,B,ue)},We.drain()}else ne(k,B);s=!0}}}}),addRumGlobalContext:N(u.add),setGlobalContextProperty:N(u.setContextProperty),removeRumGlobalContext:N(u.remove),removeGlobalContextProperty:N(u.removeContextProperty),getRumGlobalContext:N(u.get),getGlobalContext:N(u.getContext),setRumGlobalContext:N(u.set),setGlobalContext:N(u.setContext),clearGlobalContext:N(u.clearContext),getInternalContext:N(function(k){return d(k)}),getInitConfiguration:N(function(){return h()}),addAction:N(function(k,B){D({name:le(re.SANITIZE_INPUTS)?Re(k):k,context:le(re.SANITIZE_INPUTS)?Re(B):Ze(B),startClocks:De(),type:"custom"})}),addError:function(k,B){var We=ya();xe(function(){F({error:k,handlingStack:We,context:le(re.SANITIZE_INPUTS)?Re(B):Ze(B),startClocks:De()})})},addTiming:N(function(k,B){S(le(re.SANITIZE_INPUTS)?Re(k):k,B)}),setUser:N(function(k){oa(k)&&l.setContext(un(k))}),getUser:N(l.getContext),setUserProperty:N(function(k,B){var We,ue=un((We={},We[k]=B,We))[k];l.setContextProperty(k,ue)}),removeUserProperty:N(l.removeContextProperty),removeUser:N(l.clearContext),clearUser:N(l.clearContext),startView:X,stopSession:N(function(){g()}),startSessionReplayRecording:N(t.start),stopSessionReplayRecording:N(t.stop),addFeatureFlagEvaluation:N(function(k,B){C(le(re.SANITIZE_INPUTS)?Re(k):k,le(re.SANITIZE_INPUTS)?Re(B):B)}),getSessionReplayLink:N(function(){return _()})})}(function lv(e,t,r,n,a,o){var s=new _f;s.subscribe(11,function(k){return Mr("rum",k)});var u=function fv(e){var t=Na("browser-rum-sdk",e);if(lt()){var r=xr();t.observable.subscribe(function(n){return r.send("internal_telemetry",n)})}return t}(t);u.setContextProvider(function(){var k,B;return{application:{id:t.applicationId},session:{id:null===(k=_.findTrackedSession())||void 0===k?void 0:k.id},view:{id:null===(B=D.findView())||void 0===B?void 0:B.id},action:{id:G.findActionId()}}});var l=function(k){s.notify(12,{error:k})},d=function iv(e,t){if(void 0===t&&(t=j),!le(re.FEATURE_FLAGS))return{findFeatureFlagEvaluations:function(){},getFeatureFlagBytesCount:function(){return 0},addFeatureFlagEvaluation:de};var r=new Pr(rv),n=0,a=!1;e.subscribe(4,function(s){r.closeActive(s.endClocks.relative)}),e.subscribe(2,function(s){r.add({},s.startClocks.relative),n=0});var o=ut(function(s){n=t(wt(s)),a||(a=ra(n,"feature flag evaluation"))},200).throttled;return{findFeatureFlagEvaluations:function(s){return r.find(s)},getFeatureFlagBytesCount:function(){return r.find()?n:0},addFeatureFlagEvaluation:function(s,u){var l=r.find();l&&(l[s]=u,o(l))}}}(s);if(lt())!function qd(e){var t=xr();e.subscribe(11,function(r){t.send("rum",r)})}(s);else{var h=Ra();h.subscribe(function(k){s.notify(9,k)});var g=function $d(e,t,r,n,a){var o=function Kd(e,t,r){var s,n=l(e.rumEndpointBuilder),a=n.batch,o=n.flushController,u=e.replica;function l(h){var g=ja({messagesLimit:e.batchMessagesLimit,bytesLimit:e.batchBytesLimit,durationLimit:e.flushTimeout,pageExitObservable:r});return{batch:new La(ri(h,e.batchBytesLimit,t),g,e.messageBytesLimit),flushController:g}}function d(h){return Me(h,{application:{id:u.applicationId}})}return void 0!==u&&(s=l(u.rumEndpointBuilder).batch),{flushObservable:o.flushObservable,add:function(h,g){void 0===g&&(g=!0),a.add(h),s&&g&&s.add(d(h))},upsert:function(h,g){a.upsert(h,g),s&&s.upsert(d(h),g)}}}(e,n,a);return t.subscribe(11,function(s){"view"===s.type?o.upsert(s,s.view.id):o.add(s)}),r.subscribe(function(s){return o.add(s,Oa(e))}),o}(t,s,u.observable,l,h);!function ov(e,t,r,n,a,o,s){t.enabled&&Yt(e.customerDataTelemetrySampleRate)&&(ns(),is(),r.subscribe(11,function(l){ki=!0,Wr(er.globalContextBytes,dt(n.get())?0:n.getBytesCount()),Wr(er.userContextBytes,dt(a.get())?0:a.getBytesCount());var d=o.findFeatureFlagEvaluations(),h=oe(["view","error"],l.type)&&d&&!dt(d);Wr(er.featureFlagBytes,h?o.getFeatureFlagBytesCount():0)}),s.subscribe(function(l){var d=l.bytesCount,h=l.messagesCount;ki&&(Tt.batchCount+=1,Wr(Tt.batchBytesCount,d),Wr(Tt.batchMessagesCount,h),Li(Tt.globalContextBytes,er.globalContextBytes),Li(Tt.userContextBytes,er.userContextBytes),Li(Tt.featureFlagBytes,er.featureFlagBytes),is())}),ze(sv,av))}(t,u,s,n,a,d,g.flushObservable)}var _=lt()?function Wd(){var e={id:"00000000-aaaa-0000-aaaa-000000000000",plan:1,sessionReplayAllowed:!1,longTaskAllowed:!0,resourceAllowed:!0};return{findTrackedSession:function(){return e},expire:de}}():function jd(e,t){var r=Qa(e.cookieOptions,Gd,function(n){return function Zd(e,t){var r;return{trackingType:r=function Yd(e){return"0"===e||"1"===e||"2"===e}(t)?t:Yt(e.sessionSampleRate)?Yt(e.sessionReplaySampleRate)?"1":"2":"0",isTracked:rs(r)}}(e,n)});return r.expireObservable.subscribe(function(){t.notify(7)}),r.renewObservable.subscribe(function(){t.notify(8)}),{findTrackedSession:function(n){var a=r.findActiveSession(n);if(a&&rs(a.trackingType)){var o="1"===a.trackingType?2:1;return{id:a.id,plan:o,sessionReplayAllowed:2===o,longTaskAllowed:void 0!==e.trackLongTasks?e.trackLongTasks:e.oldPlansBehavior&&2===o,resourceAllowed:void 0!==e.trackResources?e.trackResources:e.oldPlansBehavior&&2===o}}},expire:r.expire}}(t,s),y=function Ll(){var e=ho(),t=new Ee(function(){if(e){var r=new e(N(function(){return t.notify()}));return r.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),function(){return r.disconnect()}}});return t}(),S=function Qd(e){var t=Nr(e),r=new Ee(function(){var a=function ev(e){var t=Ge(history,"pushState",{after:e}).stop,r=Ge(history,"replaceState",{after:e}).stop,n=ye(window,"popstate",e).stop;return{stop:function(){t(),r(),n()}}}(n).stop,o=function tv(e){return ye(window,"hashchange",e)}(n).stop;return function(){a(),o()}});function n(){if(t.href!==e.href){var a=Nr(e);r.notify({newLocation:a,oldLocation:t}),t=a}}return r}(location),x=function dv(e,t,r,n,a,o,s,u){var l=function yf(e){var t=new Pr(bf);return e.subscribe(2,function(n){t.add(function r(n){return{service:n.service,version:n.version,id:n.id,name:n.name,startClocks:n.startClocks}}(n),n.startClocks.relative)}),e.subscribe(4,function(n){t.closeActive(n.endClocks.relative)}),e.subscribe(8,function(){t.reset()}),{findView:function(n){return t.find(n)},stop:function(){t.stop()}}}(e),d=function Jd(e,t,r){var a,n=new Pr(Xd);e.subscribe(4,function(u){n.closeActive(u.endClocks.relative)}),e.subscribe(2,function(u){var l=u.startClocks,d=r.href;n.add(s({url:d,referrer:a||document.referrer}),l.relative),a=d});var o=t.subscribe(function(u){var l=u.newLocation,d=n.find();if(d){var h=Xe();n.closeActive(h),n.add(s({url:l.href,referrer:d.referrer}),h)}});function s(u){return{url:u.url,referrer:u.referrer}}return{findUrl:function(u){return n.find(u)},stop:function(){o.unsubscribe(),n.stop()}}}(e,a,r),h=function ff(){document.hasFocus()&&Ao();var e=function vf(e){return ye(window,"focus",function(t){t.isTrusted&&e()})}(Ao).stop,t=function hf(e){return ye(window,"blur",function(t){t.isTrusted&&e()})}(df).stop;return{isInForegroundAt:pf,selectInForegroundPeriodsFor:gf,stop:function(){je=[],e(),t()}}}(),g=function ud(e,t,r,n){e.subscribe(1,function(o){return e.notify(10,Yo(o,n))});var a={findActionId:de};return r.trackUserInteractions&&(a=nd(e,t,r).actionContexts),{addAction:function(o,s){e.notify(10,Y({savedCommonContext:s},Yo(o,n)))},actionContexts:a}}(e,o,t,h),_=g.addAction,y=g.actionContexts;return function of(e,t,r,n,a,o,s,u){var l,d=((l={}).error=si("error",e.eventRateLimiterThreshold,u),l.action=si("action",e.eventRateLimiterThreshold,u),l),h=function Ql(){var e=Aa(),t=xa();if(e&&t)return{test_id:e,result_id:t,injected:hn()}}(),g=function ef(){var e,t=null===(e=window.Cypress)||void 0===e?void 0:e.env("traceId");if("string"==typeof t)return{test_execution_id:t}}();t.subscribe(10,function(_){var y=_.startTime,S=_.rawRumEvent,x=_.domainContext,D=_.savedCommonContext,F=_.customerContext,C=n.findView(y),G=a.findUrl(y),ne=r.findTrackedSession("view"!==S.type?y:void 0);if(ne&&C&&G){var X=D||s(),Q=o.findActionId(y),Te=Me({_dd:{format_version:2,drift:Math.round(ct()-$t(Ar(),performance.now())),session:{plan:ne.plan},browser_sdk_version:lt()?"4.39.0":void 0},application:{id:e.applicationId},date:he(),service:C.service||e.service,version:C.version||e.version,source:"browser",session:{id:ne.id,type:h?"synthetics":g?"ci_test":"user"},view:{id:C.id,name:C.name,url:G.url,referrer:G.referrer},action:uf(S)&&Q?{id:Q}:void 0,synthetics:h,ci_test:g,display:rf()},S);Te.context=Me(X.context,F),"has_replay"in Te.session||(Te.session.has_replay=X.hasReplay),dt(X.user)||(Te.usr=X.user),function sf(e,t,r,n){var a;if(t){var o=function nf(e,t,r){var n=Ze(e),a=r(n);return t.forEach(function(o){var s=To(e,o),u=To(n,o),l=Nt(s),d=Nt(u);d===l?Co(e,o,le(re.SANITIZE_INPUTS)?Re(u):u):"object"===l&&("undefined"===d||"null"===d)&&Co(e,o,{})}),a}(e,"view"===e.type?Io:af,function(u){return t(u,r)});if(!1===o&&"view"!==e.type)return!1;!1===o&&U.warn("Can't dismiss view events using beforeSend!")}return!(null===(a=n[e.type])||void 0===a?void 0:a.isLimitReached())}(Te,e.beforeSend,x,d)&&(dt(Te.context)&&delete Te.context,t.notify(11,Te))}})}(t,e,n,l,d,y,s,u),{viewContexts:l,foregroundContexts:h,urlContexts:d,addAction:_,actionContexts:y,stop:function(){l.stop(),h.stop()}}}(s,t,location,_,S,y,function(){return pi(n,a,r)},l),D=x.viewContexts,F=x.foregroundContexts,C=x.urlContexts,G=x.actionContexts,ne=x.addAction;ka(function Ol(e){var t,r,n=ga(e);return Y({premium_sample_rate:e.premiumSampleRate,replay_sample_rate:e.replaySampleRate,session_replay_sample_rate:e.sessionReplaySampleRate,trace_sample_rate:null!==(t=e.traceSampleRate)&&void 0!==t?t:e.tracingSampleRate,action_name_attribute:e.actionNameAttribute,use_allowed_tracing_origins:Array.isArray(e.allowedTracingOrigins)&&e.allowedTracingOrigins.length>0,use_allowed_tracing_urls:Array.isArray(e.allowedTracingUrls)&&e.allowedTracingUrls.length>0,selected_tracing_propagators:Nl(e),default_privacy_level:e.defaultPrivacyLevel,use_excluded_activity_urls:Array.isArray(e.allowedTracingOrigins)&&e.allowedTracingOrigins.length>0,track_frustrations:e.trackFrustrations,track_views_manually:e.trackViewsManually,track_user_interactions:null!==(r=e.trackUserInteractions)&&void 0!==r?r:e.trackInteractions},n)}(e)),function hd(e,t){e.subscribe(0,function(r){for(var n=0,a=r;n<a.length;n++){var o=a[n];if("longtask"!==o.entryType)break;var s=t.findTrackedSession(o.startTime);if(!s||!s.longTaskAllowed)break;var u=Zn(o.startTime),l={date:u.timeStamp,long_task:{id:He(),duration:me(o.duration)},type:"long_task",_dd:{discarded:!1}};e.notify(10,{rawRumEvent:l,startTime:u.relative,domainContext:{performanceEntry:o.toJSON()}})}})}(s,_);var X=function cv(){return In(as()),{findAll:function(t,r){for(var n=[],a=$t(t,r),o=tr.length-1;o>=0;o--){var s=tr[o].startTime;if(!(s>=a)&&(n.unshift(tr[o]),s<t))break}return n.length?n:void 0},stop:Ue(window,["pageshow","focus","blur","visibilitychange","resume","freeze","pagehide"],function(t){t.isTrusted&&In("freeze"===t.type?"frozen":"pagehide"===t.type?t.persisted?"frozen":"terminated":as())},{capture:!0}).stop}}();md(s,t,_,X);var Q=function zd(e,t,r,n,a,o,s,u,l){return e.subscribe(3,function(d){return e.notify(10,function Vd(e,t,r,n){var a=n.getReplayStats(e.id),o=r.findFeatureFlagEvaluations(e.startClocks.relative),s={_dd:{document_version:e.documentVersion,replay_stats:a},date:e.startClocks.timeStamp,type:"view",view:{action:{count:e.eventCounts.actionCount},frustration:{count:e.eventCounts.frustrationCount},cumulative_layout_shift:e.cumulativeLayoutShift,first_byte:me(e.timings.firstByte),dom_complete:me(e.timings.domComplete),dom_content_loaded:me(e.timings.domContentLoaded),dom_interactive:me(e.timings.domInteractive),error:{count:e.eventCounts.errorCount},first_contentful_paint:me(e.timings.firstContentfulPaint),first_input_delay:me(e.timings.firstInputDelay),first_input_time:me(e.timings.firstInputTime),is_active:e.isActive,name:e.name,largest_contentful_paint:me(e.timings.largestContentfulPaint),load_event:me(e.timings.loadEvent),loading_time:Hd(me(e.loadingTime)),loading_type:e.loadingType,long_task:{count:e.eventCounts.longTaskCount},resource:{count:e.eventCounts.resourceCount},time_spent:me(e.duration),in_foreground_periods:t.selectInForegroundPeriodsFor(e.startClocks.relative,e.duration)},feature_flags:o&&!dt(o)?o:void 0,session:{has_replay:!!a||void 0}};return dt(e.customTimings)||(s.view.custom_timings=function du(e,t){for(var r={},n=0,a=Object.keys(e);n<a.length;n++){var o=a[n];r[o]=t(e[o])}return r}(e.customTimings,me)),{rawRumEvent:s,startTime:e.startClocks.relative,domainContext:{location:e.location}}}(d,o,s,u))}),Ud(r,e,n,t,a,!t.trackViewsManually,l)}(s,t,location,y,S,F,d,r,o),nt=Q.addTiming,Te=Q.startView,It=function fd(e,t,r){var n=new Ee;return function cd(e){no([te.error]).subscribe(function(r){return e.notify({startClocks:De(),message:r.message,stack:r.stack,source:_e.CONSOLE,handling:"handled",handlingStack:r.handlingStack})})}(n),uo(n),function ld(e){Ea([ht.cspViolation,ht.intervention]).subscribe(function(r){return e.notify({startClocks:De(),message:r.message,stack:r.stack,type:r.subtype,source:_e.REPORT,handling:"unhandled"})})}(n),n.subscribe(function(a){return e.notify(12,{error:a})}),function dd(e,t,r){return e.subscribe(12,function(n){e.notify(10,Y({customerContext:n.customerContext,savedCommonContext:n.savedCommonContext},function vd(e,t,r){var n={date:e.startClocks.timeStamp,error:{id:He(),message:e.message,source:e.source,stack:e.stack,handling_stack:e.handlingStack,type:e.type,handling:e.handling,causes:e.causes,source_type:"browser"},type:"error"},a=t.isInForegroundAt(e.startClocks.relative);a&&(n.view={in_foreground:a});var o=r.findFeatureFlagEvaluations(e.startClocks.relative);return o&&!dt(o)&&(n.feature_flags=o),{rawRumEvent:n,startTime:e.startClocks.relative,domainContext:{error:e.originalError}}}(n.error,t,r)))}),{addError:function(n,a){var o=n.error,s=n.handlingStack,u=n.startClocks,l=n.context,h=Jn({stackTrace:o instanceof Error?vt(o):void 0,originalError:o,handlingStack:s,startClocks:u,nonErrorPrefix:_a,source:_e.CUSTOM,handling:"handled"});e.notify(12,{customerContext:l,savedCommonContext:a,error:h})}}}(e,t,r)}(s,F,d).addError;(function Sf(e,t,r){var n=function Tl(e,t){return{clearTracingIfNeeded:wl,traceFetch:function(r){return lo(e,r,t,function(n){var a;if(r.input instanceof Request&&(null===(a=r.init)||void 0===a||!a.headers))r.input=new Request(r.input),Object.keys(n).forEach(function(s){r.input.headers.append(s,n[s])});else{r.init=Nr(r.init);var o=[];r.init.headers instanceof Headers?r.init.headers.forEach(function(s,u){o.push([u,s])}):Array.isArray(r.init.headers)?r.init.headers.forEach(function(s){o.push(s)}):r.init.headers&&Object.keys(r.init.headers).forEach(function(s){o.push([s,r.init.headers[s]])}),r.init.headers=o.concat(Le(n))}})},traceXhr:function(r,n){return lo(e,r,t,function(a){Object.keys(a).forEach(function(o){n.setRequestHeader(o,a[o])})})}}}(t,r);(function Ef(e,t,r){ao().subscribe(function(a){var o=a;if(_i(t,o.url))switch(o.state){case"start":r.traceXhr(o,o.xhr),o.requestIndex=No(),e.notify(5,{requestIndex:o.requestIndex,url:o.url});break;case"complete":r.clearTracingIfNeeded(o),e.notify(6,{duration:o.duration,method:o.method,requestIndex:o.requestIndex,spanId:o.spanId,startClocks:o.startClocks,status:o.status,traceId:o.traceId,traceSampled:o.traceSampled,type:"xhr",url:o.url,xhr:o.xhr})}})})(e,t,n),function wf(e,t,r){oo().subscribe(function(a){var o=a;if(_i(t,o.url))switch(o.state){case"start":r.traceFetch(o),o.requestIndex=No(),e.notify(5,{requestIndex:o.requestIndex,url:o.url});break;case"resolve":!function Tf(e,t){var r=e.response&&Da(e.response);r&&r.body?so(r.body,function(){t(Ve(e.startClocks.timeStamp,he()))},{bytesLimit:Number.POSITIVE_INFINITY,collectStreamBody:!1}):t(Ve(e.startClocks.timeStamp,he()))}(o,function(s){r.clearTracingIfNeeded(o),e.notify(6,{duration:s,method:o.method,requestIndex:o.requestIndex,responseType:o.responseType,spanId:o.spanId,startClocks:o.startClocks,status:o.status,traceId:o.traceId,traceSampled:o.traceSampled,type:"fetch",url:o.url,response:o.response,init:o.init,input:o.input})})}})}(e,t,n)})(s,t,_),Yl(s,t);var Ke=function mf(e,t,r,n,a){return{get:function(o){var s=r.findView(o),u=a.findUrl(o),l=t.findTrackedSession(o);if(l&&s&&u){var d=n.findActionId(o);return{application_id:e,session_id:l.id,user_action:d?{id:d}:void 0,view:{id:s.id,name:s.name,referrer:u.referrer,url:u.url}}}}}}(t.applicationId,_,D,G,C);return{addAction:ne,addError:It,addTiming:nt,addFeatureFlagEvaluation:d.addFeatureFlagEvaluation,startView:Te,lifeCycle:s,viewContexts:D,session:_,stopSession:function(){return _.expire()},getInternalContext:Ke.get}},function Wh(e,t){if(void 0===t&&(t=Fh),lt()||!xs())return{start:de,stop:de,getReplayStats:function(){},onRumStart:de,isRecording:function(){return!1},getSessionReplayLink:function(){}};var r={status:0},n=function(){r={status:1}},a=function(){r={status:0}};return{start:function(){return n()},stop:function(){return a()},getReplayStats:xh,getSessionReplayLink:function(o,s,u){return Gh(o,s,u,0!==r.status)},onRumStart:function(o,s,u,l){o.subscribe(7,function(){(2===r.status||3===r.status)&&(a(),r={status:1})}),o.subscribe(8,function(){1===r.status&&n()}),n=function(){var d=u.findTrackedSession();d&&d.sessionReplayAllowed?2===r.status||3===r.status||(r={status:2},gi("interactive",function(){2===r.status&&t(function(h){if(2===r.status){if(!h)return void(r={status:0});var g=e(o,s,u,l,h).stop;r={status:3,stopRecording:g}}})})):r={status:1}},a=function(){0!==r.status&&(3===r.status&&r.stopRecording(),r={status:0})},1===r.status&&n()},isRecording:function(){return 3===r.status}}}(function Hh(e,t,r,n,a,o){var u=o||ri(t.sessionReplayEndpointBuilder,Bi,function(F){e.notify(12,{error:F})}),l=Mh(e,t.applicationId,r,n,u,a),d=l.addRecord,h=l.stop,g=wh({emit:d,configuration:t,lifeCycle:e}),_=g.stop,y=g.takeSubsequentFullSnapshot,S=g.flushMutations,x=e.subscribe(4,function(){S(),d({timestamp:he(),type:Qe.ViewEnd})}).unsubscribe,D=e.subscribe(2,function(F){y(F.startClocks.timeStamp)}).unsubscribe;return{stop:function(){x(),D(),_(),h()}}}));xt(Et(),"DD_RUM",Yh)},26177:(Vn,jt,pe)=>{pe.d(jt,{qJ:()=>W,HN:()=>m,xF:()=>re,pt:()=>ea,ul:()=>T,cL:()=>Hn,r7:()=>Rr,mi:()=>fr,DJ:()=>M,Yo:()=>Z,c1:()=>Le,_6:()=>ge,af:()=>oe,wS:()=>Zt,nu:()=>an,_t:()=>Et,kk:()=>xt});const Ae=void 0,H="boolean",ae="number",Oe="string",V="symbol",ke=typeof{},at=typeof Ae,bt="function",Se={};class te{constructor(b,O){switch(this.isBoolean=!1,this.isNumber=!1,this.isFinite=!1,this.isValidNumber=!1,this.isString=!1,this.isTrueNaN=!1,this.isObject=!1,this.isFunction=!1,this.isUndefined=!1,this.isNull=!1,this.isPrimitive=!1,this.isSymbol=!1,this.isArray=!1,this.isNullOrUndefined=!1,this.type=typeof b){case H:this.isBoolean=!0,this.isPrimitive=!0;break;case ae:this.isNumber=!0,this.isTrueNaN=isNaN(b),this.isFinite=isFinite(b),this.isValidNumber=!this.isTrueNaN,this.isPrimitive=!0;break;case Oe:this.isString=!0,this.isPrimitive=!0;break;case V:this.isSymbol=!0;break;case ke:this.target=b,null===b?(this.isNull=!0,this.isNullOrUndefined=!0,this.isPrimitive=!0):(this.isArray=b instanceof Array,this.isObject=!0);break;case bt:this.target=b,this.isFunction=!0;break;case at:this.isUndefined=!0,this.isNullOrUndefined=!0,this.isPrimitive=!0;break;default:throw"Fatal type failure.  Unknown type: "+this.type}O&&O(this),Object.freeze(this)}member(b){const O=this.target;return te.getFor(O&&b in O?O[b]:Ae)}static getFor(b){const O=typeof b;switch(O){case ke:case bt:return new te(b)}let P=Se[O];return P||(Se[O]=P=new te(b)),P}is(b){return this.target instanceof b}as(b){return this.target instanceof b?this.target:null}}function U(R){return new te(R)}(function(R){function ze(z,ve=!1){switch(typeof z){case H:case Oe:case ae:return!0;case at:return ve;case ke:return null===z}return!1}function Me(z,ve,hr=!0){return z&&!ze(z)&&ve in z&&(hr||z[ve]!==Ae)}function on(z,ve,hr){return Me(z,ve)&&typeof z[ve]===hr}R.BOOLEAN=H,R.NUMBER=ae,R.STRING=Oe,R.OBJECT=ke,R.SYMBOL=V,R.UNDEFINED=at,R.FUNCTION=bt,R.is=function b(z,ve){return z instanceof ve},R.as=function O(z,ve){return z instanceof ve?z:null},R.isNullOrUndefined=function P(z){return null==z},R.isBoolean=function j(z){return typeof z===H},R.isNumber=function K(z,ve=!1){return!(typeof z!==ae||ve&&isNaN(z))},R.isTrueNaN=function se(z){return typeof z===ae&&isNaN(z)},R.isString=function be(z){return typeof z===Oe},R.isPrimitive=ze,R.isPrimitiveOrSymbol=function dr(z,ve=!1){return typeof z===V||ze(z,ve)},R.isPropertyKey=function ut(z){switch(typeof z){case Oe:case ae:case V:return!0}return!1},R.isFunction=function de(z){return typeof z===bt},R.isObject=function Nt(z,ve=!1){return typeof z===ke&&(ve||null!==z)},R.numberOrNaN=function vr(z){return isNaN(z)?NaN:z},R.of=function Ze(z){return te.getFor(z)},R.hasMember=Me,R.hasMemberOfType=on,R.hasMethod=function wt(z,ve){return on(z,ve,bt)},R.isArrayLike=function Ot(z){return z instanceof Array||R.isString(z)||!R.isFunction(z)&&Me(z,"length")}})(U||(U={})),Object.freeze(U);var cr=U.isTrueNaN;const yt=void 0;const lr="compareTo";function ot(R,b,O=!0){return function Be(R,b,O=!0){return R===b||!O&&R==b||cr(R)&&cr(b)}(R,b,O)?0:R&&U.hasMember(R,lr)?R.compareTo(b):b&&U.hasMember(b,lr)?-b.compareTo(R):R>b||O&&(0===R&&0==b||null===R&&b===yt)?1:b>R||O&&(0===b&&0==R||null===b&&R===yt)?-1:NaN}var st=(()=>{return(R=st||(st={})).ExitOnFirstFalseEvaluation="ExitOnFirstFalseEvaluation",R.ExitOnFirstTrueEvaluation="ExitOnFirstTrueEvaluation",R.EvaluateAllRules="EvaluateAllRules",st;var R})(),N=(()=>{return(R=N||(N={})).Exception="Exception",R.Warning="Warning",R.Information="Information",N;var R})();class xe{constructor(b,O,P=!1,j=N.Exception,K=1){this.isValid=!0,this.message="",this.name="",this.renderType=st.EvaluateAllRules,this.severity=N.Exception,this.source="",this.name=b,this.message=O,this.isDisplayable=P,this.priority=K,this.severity=j}execute(){return this.render()}render(){throw new Error("Each concrete rule must implement this function and return a valid Result.")}}class ge{constructor(b,O){this.isValid=!1,this.rulePolicy=new xe("","",!1),this.message="",null!=b&&b.name.length>0&&b.message.length>0&&(this.rulePolicy=b,this.isValid=b.isValid,this.message=b.message),this.target=O}}class oe extends xe{constructor(b,O,P){super(b,O,P)}}class W extends oe{constructor(b,O,P,j,K=!0){super(b,O,K),this.target=P,this.comparison=j}render(){return 0!==ot(this.target,this.comparison,!0)&&(this.isValid=!1),new ge(this,this.target)}}class m extends oe{constructor(b,O,P,j,K=!0){super(b,O,K),this.target=P,this.comparison=j}render(){return 0===ot(this.target,this.comparison,!0)&&(this.isValid=!1),new ge(this,this.target)}}class T extends xe{constructor(b,O,P){super(b,O,P),this.hasErrors=!1,this.results=new Array,this.rules=new Array}render(){return this.rules.sort(b=>b.priority).forEach(b=>this.results.push(b.execute())),this.processResults()}hasRules(){return!!(this.rules&&this.rules.length>0)}processResults(){return this.results.filter(b=>!1===b.isValid).length>0&&(this.isValid=!1,this.hasErrors=!0),new ge(this)}}class M extends oe{constructor(b,O,P,j=!1){super(b,O,j),this.target=P}render(){return(null==this.target||null===this.target||typeof this.target>"u")&&(this.isValid=!1),new ge(this,this.target)}}class Z extends oe{constructor(b,O,P,j,K=!1){super(b,O,K),this.target=P,this.comparison=j}render(){return 1===ot(this.target,this.comparison,!0)&&(this.isValid=!1),new ge(this,this.target)}}class Le extends oe{constructor(b,O,P,j,K=!1){super(b,O,K),this.target=P,this.comparison=j}render(){return-1===ot(this.target,this.comparison,!0)&&(this.isValid=!1),new ge(this,this.target)}}class St extends T{constructor(b,O,P,j,K,se=!1){super(b,O,se),this.target=P,this.start=j,this.end=K,this.isDisplayable=se,this.rules.push(new M("TargetIsNotNull","The target is null or undefined.",this.target)),null!=this.target&&(this.rules.push(new Le("MinValue","The value must be equal to or greater than the start range value.",this.target,this.start)),this.rules.push(new Z("MaxValue","The value must be equal to or less than the end range value.",this.target,this.end)))}}class Zt extends T{constructor(b,O,P,j,K,se=!1){super(b,O,se),this.target=P,this.minLength=j,this.maxLength=K,this.configureRules()}configureRules(){this.rules.push(new M("StringIsNotNull","The string target is null or undefined.",this.target)),null!=this.target&&this.rules.push(new St("TargetLengthIsWithinRange","The string value is not within the specified range.",this.target.toString().length,this.minLength,this.maxLength))}}class Rr extends oe{constructor(b,O,P,j,K){super(b,O,K),this.target=P,this.requiredFeilds=j}render(){for(let b=0;b<this.requiredFeilds.length;b++)if(!this.target[this.requiredFeilds[b]]){this.isValid=!1;break}return new ge(this,this.target)}}class Y extends oe{constructor(b,O,P,j=!0){super(b,O,j),this.target=P}render(){return this.isValid=!0,!1===this.target&&(this.isValid=!1),new ge(this,this.target)}}class an extends T{constructor(b,O,P,j,K){super(b,O,K),this.target=P,this.expression=j,this.configureRules()}configureRules(){this.rules.push(new M("StringIsNotNullOrUndefined","The target value is null or undefined.",this.target,!1)),this.target&&this.rules.push(new Y("StringIsRegExpMatch","The target value is not a match.",this.expression.test(this.target),!1))}}var xt=(()=>{return(R=xt||(xt={})).NotEvaluated="NotEvaluated",R.Success="Success",R.Failure="Failure",xt;var R})();class Et{constructor(b){this.state=xt.NotEvaluated,this.results=new Array,this.rules=new Array,this.source="",this.source=b||""}addRule(b){return this.source&&(b.source=this.source),this.rules.push(b),this}withSource(b){return this.source=b,this}renderRules(){return this.results=new Array,this.rules&&this.rules.length<1||this.rules.sort(b=>b.priority).forEach(b=>this.results.push(b.execute())),this}hasRuleViolations(){let b=!1;return this.rules&&(this.rules&&this.rules.filter(P=>!1===P.isValid).length)>0&&(b=!0),b}get isValid(){let b=!0;return this.rules&&this.rules.filter(P=>!1===P.isValid).length>0&&(b=!1),b}}class re extends oe{constructor(b,O,P,j){super(b,O,j),this.target=P}render(){return this.isValid=""===this.target||isNaN(Number(this.target)),new ge(this,this.target)}}class fr extends oe{constructor(b,O,P,j,K,se){super(b,O,se),this.target=j,this.possibleValueList=K,this.columnName=P}render(){if(null==this.target)this.isValid=!0;else{const b=this.possibleValueList.find(O=>O.name.trim()===this.target.name.trim());b?(delete this.target.error,delete this.target.errorDetail,this.target.id=b.id):(console.log(this.target.name,this.possibleValueList),this.isValid=!1,this.newName=this.target.name,this.target.error=!0,this.target.errorDetail="Cannot find this name")}return new ge(this,this.target)}}class Hn extends oe{constructor(b,O,P,j){super(b,O,j),this.conflicts=[],this.target=P}render(){const b={};this.target.map(O=>{b[O]?b[O]+=1:b[O]=1});for(const O in b)b[O]>1&&this.conflicts.push(O);return this.isValid=!(Object.keys(this.conflicts).length>0),new ge(this,this.target)}}var le=pe(15439);class ea extends oe{constructor(b,O,P,j,K=!0){super(b,O,K),this.target=P,this.comparison=j}render(){return this.isValid=!this.target||!this.comparison||!!le(this.target).isBefore(le(this.comparison)),new ge(this,this.target)}}},53098:(Vn,jt)=>{var Ae=function(){function H(ae){if(!ae)throw new TypeError("Invalid argument; `value` has no value.");this.value=H.EMPTY,ae&&H.isGuid(ae)&&(this.value=ae)}return H.isGuid=function(ae){var Oe=ae.toString();return ae&&(ae instanceof H||H.validator.test(Oe))},H.create=function(){return new H([H.gen(2),H.gen(1),H.gen(1),H.gen(1),H.gen(3)].join("-"))},H.createEmpty=function(){return new H("emptyguid")},H.parse=function(ae){return new H(ae)},H.raw=function(){return[H.gen(2),H.gen(1),H.gen(1),H.gen(1),H.gen(3)].join("-")},H.gen=function(ae){for(var Oe="",V=0;V<ae;V++)Oe+=(65536*(1+Math.random())|0).toString(16).substring(1);return Oe},H.prototype.equals=function(ae){return H.isGuid(ae)&&this.value===ae.toString()},H.prototype.isEmpty=function(){return this.value===H.EMPTY},H.prototype.toString=function(){return this.value},H.prototype.toJSON=function(){return{value:this.value}},H.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),H.EMPTY="00000000-0000-0000-0000-000000000000",H}();jt.i=Ae}}]);