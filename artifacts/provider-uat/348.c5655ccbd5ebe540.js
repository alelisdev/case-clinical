(self.webpackChunkprovider=self.webpackChunkprovider||[]).push([[348],{63348:(yt,k,C)=>{"use strict";C.r(k),C.d(k,{ProviderPagesModule:()=>xi});var I=C(18505),L=C(11365),P=C(63900),F=C(39646),N=C(24280),e=C(94650),E=C(94929),w=C(30760),R=C(90562),U=C(40468),H=C(73602);let $=(()=>{class o extends N.m1{constructor(t,i,s,n,c){super({query:"",loading:!1}),this.providerStore=t,this.providerLocationStore=i,this.authStore=s,this.vendorStore=n,this.data=c,this.providers$=this.providerStore.clinicalProviders$,this.vendor$=this.vendorStore.item$,this.user$=this.authStore.user$,this.selectedProviderId$=this.select(r=>{var a;return null!==(a=r.selectedProviderId)&&void 0!==a?a:"all"}),this.selectedProviderLocationId$=this.select(r=>{var a;return null!==(a=r.selectedProviderLocationId)&&void 0!==a?a:"all"}),this.providerOptions$=this.select(this.providers$,r=>{const a=r?.map(l=>{const{id:f,name:b}=l;return{id:f,name:b}});return[{id:"all",name:"All"},...a]}),this.loading$=this.select(r=>r.loading),this.setSelectedProviderId=this.updater((r,a)=>Object.assign(Object.assign({},r),{selectedProviderId:a})),this.setSelectedProviderLocationId=this.updater((r,a)=>Object.assign(Object.assign({},r),{selectedProviderLocationId:a})),this.authStore.user$.subscribe(r=>{console.log({user:r}),r?.vendorId&&this.vendorStore.loadVendorEffect(r.vendorId)}),this.loadData()}loadData(){this.providerStore.loadClinicalProvidersEffect()}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(E.D),e.LFG(w.j),e.LFG(R.Q),e.LFG(U.m),e.LFG(H.q))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),j=(()=>{class o extends N.m1{constructor(t){super(),this.providerPortalStore=t.get($),this.selectedProviderId$=this.providerPortalStore.selectedProviderId$,this.selectedProviderLocationId$=this.providerPortalStore.selectedProviderLocationId$,this.providerOptions$=this.providerPortalStore.providerOptions$,this.providers$=this.providerPortalStore.providers$,this.vendor$=this.providerPortalStore.vendor$,this.setState(this.getInitialState()),this.user$=this.select(this.providerPortalStore.user$,i=>{var s,n,c,r;let a=0,l=0;return!(null===(s=i?.vendor)||void 0===s)&&s.latitude&&(a=null===(n=i.vendor)||void 0===n?void 0:n.latitude),!(null===(c=i?.vendor)||void 0===c)&&c.longitude&&(l=null===(r=i.vendor)||void 0===r?void 0:r.longitude),Object.assign(Object.assign({},i),{latitude:a,longitude:l})})}providerIdDidChange(t){}providerLocationIdDidChange(t){}setSelectedProviderId(t){this.providerPortalStore.setSelectedProviderId(t),this.providerIdDidChange(t)}setSelectedProviderLocationId(t){this.providerPortalStore.setSelectedProviderLocationId(t),this.providerLocationIdDidChange(t)}setAppointmentViewModalController(t){console.log("setAppointmentViewModalController"),this.appointmentViewModalController=t}setRequestsMoreVisitsModalController(t){this.requestMoreVisitsModalController=t}openAppointmentViewModal(t){var i;null===(i=this.appointmentViewModalController)||void 0===i||i.open(t,{},{})}openRequestsMoreVisitsModal(t){var i;null===(i=this.requestMoreVisitsModalController)||void 0===i||i.open(t,{},{})}setUploadModalCtrlForSubpoena(t){this.uploadSubpoenaModalController=t}setUploadModalCtrlForMiscellaneous(t){this.uploadMiscellaneousModalController=t}setAddAppointmentModalController(t){this.addAppointmentModalController=t}openUploadModalCtrlForSubpoena(){var t;null===(t=this.uploadSubpoenaModalController)||void 0===t||t.open({},{},{})}openUploadModalCtrlForMiscellaneous(){var t;null===(t=this.uploadMiscellaneousModalController)||void 0===t||t.open({},{},{})}openAddAppointmentModal(){var t;null===(t=this.addAppointmentModalController)||void 0===t||t.open({},{},{})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(e.zs3))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();var T=C(15439),W=C.n(T),V=C(84264);let tt=(()=>{class o extends j{constructor(t,i,s,n,c,r){super(r),this.calendarAppointmentStore=t,this.listAppointmentStore=i,this.apptStatusStoreForFilter=s,this.providerStore=n,this.providerLocationStore=c,this.uploadBillModalCtrl=void 0,this.uploadMedicalReportModalCtrl=void 0,this.uploadImagingModalCtrl=void 0,this.loading$=this.select(a=>a.loading),this.skip$=this.select(a=>a.skip),this.limit$=this.select(a=>a.limit),this.dateFilter$=this.select(a=>a.dateFilter),this.viewMode$=this.select(a=>a.viewMode),this.appointments$=this.select(this.listAppointmentStore.formattedAppointments$,a=>a.map(l=>{var f,b,S,D,u,h,p,m,M;return console.log("appointmentDateAndTime === ",l.appointmentDateAndTime),Object.assign(Object.assign({},l),{mainLocation:null!==(f=l?.clinicalProvider)&&void 0!==f&&f.clinicalProviderLocations&&(null===(S=null===(b=l?.clinicalProvider)||void 0===b?void 0:b.clinicalProviderLocations)||void 0===S?void 0:S.length)>0?null===(u=null===(D=l?.clinicalProvider)||void 0===D?void 0:D.clinicalProviderLocations[0].location)||void 0===u?void 0:u.name:"",avatar:null!==(h=l.patient)&&void 0!==h&&h.users?null===(m=null===(p=l.patient)||void 0===p?void 0:p.users[0])||void 0===m?void 0:m.avatarUrl:"",appointmentTime:null!==(M=T(l.appointmentDateAndTime).format("hh:mm:ss"))&&void 0!==M?M:""})})),this.paging$=this.listAppointmentStore.paging$,this.appointmentStatusId$=this.select(a=>a.appointmentStatusId),this.appointmentEvents$=this.select(this.calendarAppointmentStore.formattedAppointments$,a=>a.map(l=>{var f,b,S,D,u;return l?.end||(l.end=(0,V.xZ)(null!==(f=l.start)&&void 0!==f?f:"00:00",null!==(b=l.duration)&&void 0!==b?b:0)),Object.assign(Object.assign({},l),{id:l.id,start:new Date(`${T(l.appointmentDateAndTime).format("MM-DD-yyyy")} ${l.start}`),end:new Date(`${T(l.appointmentDateAndTime).format("MM-DD-yyyy")} ${null!==(S=l.end)&&void 0!==S?S:"?"}`),title:`${null===(D=l.clinicalProvider)||void 0===D?void 0:D.name} ${l.start} - ${null!==(u=l.end)&&void 0!==u?u:"?"}`,data:l})}).filter(l=>l.appointmentDateAndTime&&l.start&&l.end>l.start)),this.appointmentStatusesForFilter$=this.select(this.apptStatusStoreForFilter.appointmentStatuses$,a=>{const l=a?.map(f=>({id:f?.id,title:f?.name}));return[{id:"all",title:"All"},...l]}),this.providerLocationOptions$=this.select(this.providerLocationStore.clinicalProviderLocations$,a=>{const l=a?.map(f=>{var b,S;return{id:null===(b=f.location)||void 0===b?void 0:b.id,name:null===(S=f.location)||void 0===S?void 0:S.name}});return[{id:"all",name:"All"},...l]}),this.providerOptionsForFilter$=this.select(this.providerStore.clinicalProviders$,a=>{const l=a?.map(f=>{const{id:b,name:S}=f;return{id:b,name:S}});return[{id:"all",name:"All"},...l]}),this.vm$=this.select(this.loading$,this.appointments$,this.appointmentEvents$,this.user$,this.vendor$,(a,l,f,b,S)=>({loading:a,user:b,appointments:l,timeEvents:f,vendor:S})),this.setDateFilter=this.updater((a,l)=>Object.assign(Object.assign({},a),{dateFilter:l})),this.setSkip=this.updater((a,l)=>Object.assign(Object.assign({},a),{skip:l})),this.setViewMode=this.updater((a,l)=>Object.assign(Object.assign({},a),{viewMode:l})),this.setAppointmentStatusId=this.updater((a,l)=>Object.assign(Object.assign({},a),{appointmentStatusId:l})),this.loadAppointmentsEffect=this.effect(a=>a.pipe((0,I.b)(()=>{this.patchState({loading:!0})}),(0,L.M)(this.selectedProviderId$,this.selectedProviderLocationId$,this.viewMode$,this.skip$,this.limit$,this.dateFilter$,this.appointmentStatusId$),(0,P.w)(([,l,f,b,S,D,u,h])=>("List"===b?(this.listAppointmentStore.setDateFilter(void 0),this.listAppointmentStore.setLimit(D),this.listAppointmentStore.setSkip(S),this.listAppointmentStore.setClinicalProviderId("all"!==l?l:void 0),this.listAppointmentStore.setLocationId("all"!==f&&""!==f?f:void 0),this.listAppointmentStore.setAppointmentStatusId("all"!==h&&""!==h?h:void 0),this.listAppointmentStore.loadAppointmentsEffect()):(this.calendarAppointmentStore.setDateFilter(u),this.calendarAppointmentStore.setLimit(1e4),this.calendarAppointmentStore.setSkip(0),this.calendarAppointmentStore.setClinicalProviderId("all"!==l?l:void 0),this.calendarAppointmentStore.setLocationId("all"!==f&&""!==f?f:void 0),this.calendarAppointmentStore.setAppointmentStatusId("all"!==h&&""!==h?h:void 0),this.calendarAppointmentStore.loadAppointmentsEffect()),(0,F.of)(!0))))),this.uploadBillEffect=this.listAppointmentStore.uploadBillEffect,this.loadProviderLocationsEffect=this.effect(a=>a.pipe((0,I.b)(()=>{this.patchState({loading:!0})}),(0,L.M)(this.selectedProviderId$),(0,P.w)(([,l])=>(this.providerLocationStore.loadClinicalProviderLocationsEffect(),(0,F.of)(!0))))),this.loadProvidersEffect=this.effect(a=>a.pipe((0,I.b)(()=>{this.patchState({loading:!0})}),(0,L.M)(this.selectedProviderLocationId$),(0,P.w)(([,l])=>(this.providerStore.setLocationId(l),this.providerStore.loadClinicalProvidersEffect(),(0,F.of)(!0))))),this.apptStatusStoreForFilter.loadAppointmentStatusesEffect(),this.loadProviderLocationsEffect(),this.loadAppointmentsEffect()}viewModeDidChange(t){this.setViewMode(t),this.loadAppointmentsEffect()}dateFilterDidChange(t){const i={};i.startDate=t.start,i.endDate=t.end,i.operator="In",this.setDateFilter(i),this.loadAppointmentsEffect()}skipDidChange(t){this.setSkip(t),this.loadAppointmentsEffect()}checkInAppointment(t){this.listAppointmentStore.checkInAppointmentEffect(t)}cancelAppointment(t){this.listAppointmentStore.cancelAppointmentEffect(t)}hideAppointment(t){this.listAppointmentStore.hideAppointmentEffect(t)}providerIdDidChange(t){this.loadAppointmentsEffect()}providerLocationIdDidChange(t){this.providerStore.setLocationId(""!==t&&"all"!==t?t:""),this.loadProvidersEffect(),this.loadAppointmentsEffect()}setAppointmentViewModalController(t){super.setAppointmentViewModalController(t)}setRequestsMoreVisitsModalController(t){super.setRequestsMoreVisitsModalController(t)}openAppointmentViewModal(t){var i;const s=Object.assign({},t);this.patchState({appointmentForModal:t}),null===(i=this.appointmentViewModalController)||void 0===i||i.open(s,{},this)}openRequestsMoreVisitsModal(t){super.openRequestsMoreVisitsModal(t)}setUploadBillModalCtrl(t){this.uploadBillModalCtrl=t}filterByAppointmentStatus(t){this.setAppointmentStatusId(t),this.loadAppointmentsEffect()}setUploadMedicalReportModalCtrl(t){this.uploadMedicalReportModalCtrl=t}setUploadImagingModalCtrl(t){this.uploadImagingModalCtrl=t}openUploadModalCtrlForBill(t){var i;const s=Object.assign({},t);this.patchState({appointmentForModal:s}),this.uploadBillModalCtrl&&(null===(i=this.uploadBillModalCtrl)||void 0===i||i.open(s,s,this))}openUploadModalCtrlForMedicalReport(t){var i;const s=Object.assign({},t);this.patchState({appointmentForModal:s}),this.uploadMedicalReportModalCtrl&&(null===(i=this.uploadMedicalReportModalCtrl)||void 0===i||i.open(s,s,this))}openUploadModalCtrlForImaging(t){var i;const s=Object.assign({},t);this.patchState({appointmentForModal:s}),this.uploadImagingModalCtrl&&(null===(i=this.uploadImagingModalCtrl)||void 0===i||i.open(s,s,this))}updateAppointmentForBill(t){var i,s;const n=t;(!n?.bill||null!==(i=n?.bill)&&void 0!==i&&i.attachment)&&(null==n||delete n.billId);const{id:c,name:r,bill:a,billId:l,imagingId:f,medicalReportId:b,appointmentDateAndTime:S,locationId:D,checkedIn:u,checkedInDateTime:h,duration:p,patientId:m,clinicalProviderId:M,legalCaseId:_,appointmentStatusId:x,notes:q,recurringEventId:A,isFirstInstance:g,description:y,start:v,end:O,allDay:B,recurrence:z}=n;this.listAppointmentStore.updateAppointmentEffect({id:c,name:r,bill:a,billId:l,imagingId:f,medicalReportId:b,appointmentDateAndTime:S,locationId:D,checkedIn:u,checkedInDateTime:h,duration:p,patientId:m,clinicalProviderId:M,legalCaseId:_,appointmentStatusId:x,notes:q,recurringEventId:A,isFirstInstance:g,description:y,start:v,end:O,allDay:B,recurrence:z}),null===(s=this.uploadBillModalCtrl)||void 0===s||s.close()}setUploadMiscellaneousModalCtrl(t){this.uploadMiscellaneousModalCtrl=t}openUploadModalForMiscellaneous(t){var i;const{id:s,name:n,miscellaneous:c}=t;null===(i=this.uploadMiscellaneousModalCtrl)||void 0===i||i.open({id:s,name:n,miscellaneous:c},{},this)}updateAppointmentForMiscellaneous(t){var i;const{id:s,name:n,miscellaneous:c}=t;this.listAppointmentStore.updateAppointmentEffect({id:s,name:n,miscellaneous:c}),null===(i=this.uploadMiscellaneousModalCtrl)||void 0===i||i.close()}updateAppointmentForMedicalReport(t){var i,s;const n=t;(!n?.medicalReport||null!==(i=n?.medicalReport)&&void 0!==i&&i.attachment)&&(null==n||delete n.medicalReportId);const{id:c,name:r,medicalReport:a,medicalReportId:l,imagingId:f,billId:b,appointmentDateAndTime:S,locationId:D,checkedIn:u,checkedInDateTime:h,duration:p,patientId:m,clinicalProviderId:M,legalCaseId:_,appointmentStatusId:x,notes:q,recurringEventId:A,isFirstInstance:g,description:y,start:v,end:O,allDay:B,recurrence:z}=n;this.listAppointmentStore.updateAppointmentEffect({id:c,name:r,medicalReport:a,medicalReportId:l,imagingId:f,billId:b,appointmentDateAndTime:S,locationId:D,checkedIn:u,checkedInDateTime:h,duration:p,patientId:m,clinicalProviderId:M,legalCaseId:_,appointmentStatusId:x,notes:q,recurringEventId:A,isFirstInstance:g,description:y,start:v,end:O,allDay:B,recurrence:z}),null===(s=this.uploadMedicalReportModalCtrl)||void 0===s||s.close()}updateAppointmentForImaging(t){var i,s;const n=t;(!n?.imaging||null!==(i=n?.imaging)&&void 0!==i&&i.attachment)&&(null==n||delete n.imagingId);const{id:c,name:r,imaging:a,imagingId:l,billId:f,medicalReportId:b,appointmentDateAndTime:S,locationId:D,checkedIn:u,checkedInDateTime:h,duration:p,patientId:m,clinicalProviderId:M,legalCaseId:_,appointmentStatusId:x,notes:q,recurringEventId:A,isFirstInstance:g,description:y,start:v,end:O,allDay:B,recurrence:z}=n;this.listAppointmentStore.updateAppointmentEffect({id:c,name:r,imaging:a,imagingId:l,billId:f,medicalReportId:b,appointmentDateAndTime:S,locationId:D,checkedIn:u,checkedInDateTime:h,duration:p,patientId:m,clinicalProviderId:M,legalCaseId:_,appointmentStatusId:x,notes:q,recurringEventId:A,isFirstInstance:g,description:y,start:v,end:O,allDay:B,recurrence:z}),null===(s=this.uploadImagingModalCtrl)||void 0===s||s.close()}updateAppointmentForBillForView(t){var i;const s=this.get().appointmentForModal;if((!s?.bill||!(null===(i=s?.bill)||void 0===i)&&i.attachment)&&(null==s||delete s.billId),s){const n=t,{id:c,name:r,billId:a,imagingId:l,medicalReportId:f,appointmentDateAndTime:b,locationId:S,checkedIn:D,checkedInDateTime:u,duration:h,patientId:p,clinicalProviderId:m,legalCaseId:M,appointmentStatusId:_,notes:x,recurringEventId:q,isFirstInstance:A,description:g,start:y,end:v,allDay:O,recurrence:B}=s;this.listAppointmentStore.updateAppointmentEffect({id:c,name:r,bill:n,billId:a,imagingId:l,medicalReportId:f,appointmentDateAndTime:b,locationId:S,checkedIn:D,checkedInDateTime:u,duration:h,patientId:p,clinicalProviderId:m,legalCaseId:M,appointmentStatusId:_,notes:x,recurringEventId:q,isFirstInstance:A,description:g,start:y,end:v,allDay:O,recurrence:B})}}updateAppointmentForMedicalReportForView(t){var i;const s=this.get().appointmentForModal;(!s?.medicalReport||null!==(i=s?.medicalReport)&&void 0!==i&&i.attachment)&&(null==s||delete s.medicalReportId);const n=t;if(s){const{id:c,name:r,medicalReportId:a,imagingId:l,billId:f,appointmentDateAndTime:b,locationId:S,checkedIn:D,checkedInDateTime:u,duration:h,patientId:p,clinicalProviderId:m,legalCaseId:M,appointmentStatusId:_,notes:x,recurringEventId:q,isFirstInstance:A,description:g,start:y,end:v,allDay:O,recurrence:B}=s;this.listAppointmentStore.updateAppointmentEffect({id:c,name:r,medicalReport:n,medicalReportId:a,imagingId:l,billId:f,appointmentDateAndTime:b,locationId:S,checkedIn:D,checkedInDateTime:u,duration:h,patientId:p,clinicalProviderId:m,legalCaseId:M,appointmentStatusId:_,notes:x,recurringEventId:q,isFirstInstance:A,description:g,start:y,end:v,allDay:O,recurrence:B})}}updateAppointmentForImagingForView(t){var i;const s=this.get().appointmentForModal;(!s?.imaging||null!==(i=s?.imaging)&&void 0!==i&&i.attachment)&&(null==s||delete s.imagingId);const n=t;if(s){const{id:c,name:r,imagingId:a,billId:l,medicalReportId:f,appointmentDateAndTime:b,locationId:S,checkedIn:D,checkedInDateTime:u,duration:h,patientId:p,clinicalProviderId:m,legalCaseId:M,appointmentStatusId:_,notes:x,recurringEventId:q,isFirstInstance:A,description:g,start:y,end:v,allDay:O,recurrence:B}=s;this.listAppointmentStore.updateAppointmentEffect({id:c,name:r,imaging:n,imagingId:a,billId:l,medicalReportId:f,appointmentDateAndTime:b,locationId:S,checkedIn:D,checkedInDateTime:u,duration:h,patientId:p,clinicalProviderId:m,legalCaseId:M,appointmentStatusId:_,notes:x,recurringEventId:q,isFirstInstance:A,description:g,start:y,end:v,allDay:O,recurrence:B})}}getInitialState(){return{query:"",loading:!1,skip:0,viewMode:"List",dateFilter:void 0,limit:10,appointmentForModal:void 0,appointmentStatusId:void 0}}}return o.\u0275fac=function(t){return new(t||o)(e.LFG("calendarAppointmentStore"),e.LFG("listAppointmentStore"),e.LFG("apptStatusStoreForFilter"),e.LFG(E.D),e.LFG(w.j),e.LFG(e.zs3))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})(),Z=(()=>{class o{onResize(){this.determinePosition()}onLoad(){this.determinePosition()}onChange(){this.determinePosition()}determinePosition(){const t=document.body,i=document.documentElement;let s=960;s=Math.min(t.scrollHeight,t.offsetHeight,i.clientHeight,i.offsetHeight);const n=document.querySelector(".header"),r=+window.getComputedStyle(n??i,null).getPropertyValue("height").replace("px",""),a=document.querySelector(".breadcrum"),f=+window.getComputedStyle(a??i,null).getPropertyValue("height").replace("px",""),b=document.querySelector(".footer");let u=s-+window.getComputedStyle(b??i,null).getPropertyValue("height").replace("px","")-f-r;u<500&&(u=500)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["provider-base-component"]],hostBindings:function(t,i){1&t&&e.NdJ("resize",function(n){return i.onResize(n)},!1,e.Jf7)("load",function(n){return i.onLoad(n)},!1,e.Jf7)("change",function(n){return i.onChange(n)},!1,e.Jf7)},decls:0,vars:0,template:function(t,i){},encapsulation:2}),o})();var X=C(95614),ct=C(76643),J=C(36895),Y=C(92518);function le(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"ui-formly-json-form",1),e.NdJ("formIsReady",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onResize())}),e.qZA()}if(2&o){const t=d.ngIf,i=e.oxw();e.Q6J("showSubmitButton",!1)("componentStore",i.store)("model",i.model)("formData",i.getFormData(t))}}let de=(()=>{class o extends Z{getFormData(t){return Object.assign(Object.assign({},t),{pageName:this.pageName,portalName:this.portalName,providers:this.store.providerOptions$,providersForFilter:this.store.providerOptionsForFilter$,providerLocations:this.store.providerLocationOptions$,appointmentStatusesForFilter:this.store.appointmentStatusesForFilter$,paging:this.store.paging$})}constructor(t){super(),this.store=t,this.portalName="Vendor",this.pageName="Appointments",this.model={},this.vm$=this.store.vm$,this.selectedProviderId$=this.store.selectedProviderId$,this.subscriber=this.store.selectedProviderId$.subscribe(i=>{console.log("providerId",i),this.model.providerId=i})}ngOnDestroy(){var t;null===(t=this.subscriber)||void 0===t||t.unsubscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(tt))},o.\u0275cmp=e.Xpm({type:o,selectors:[["provider-appointments"]],features:[e._Bn([tt,X.L6,E.D,w.j,ct.E,{provide:"apptStatusStoreForFilter",useClass:ct.E},{provide:"calendarAppointmentStore",useClass:X.L6},{provide:"listAppointmentStore",useClass:X.L6}]),e.qOj],decls:2,vars:3,consts:[["class","w-full h-full","formName","page_provider_appointments",3,"showSubmitButton","componentStore","model","formData","formIsReady",4,"ngIf"],["formName","page_provider_appointments",1,"w-full","h-full",3,"showSubmitButton","componentStore","model","formData","formIsReady"]],template:function(t,i){1&t&&(e.YNc(0,le,1,4,"ui-formly-json-form",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,i.vm$))},dependencies:[J.O5,Y.M,J.Ov]}),o})(),ce=(()=>{class o{constructor(){this.formData={}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["provider-blog-add"]],decls:1,vars:2,consts:[[1,"w-full","h-full",3,"formName","showSubmitButton"]],template:function(t,i){1&t&&e._UZ(0,"ui-formly-json-form",0),2&t&&e.Q6J("formName","page_provider_blog_add")("showSubmitButton",!1)},dependencies:[Y.M]}),o})(),ue=(()=>{class o extends Z{constructor(){super(),this.portalName="Vendor",this.pageName="Blog Details",this.formData={pageName:this.pageName,portalName:this.portalName,blog:[{id:"BLG0010",image:"https://images.unsplash.com/photo-1677658992560-e63ac0fa9e02?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8M3x8fGVufDB8fHx8&auto=format&fit=crop&w=300&q=60",title:"Doccure \xe2\u20ac\u201c Making your clinic painless visit?",date:"May 27, 2020",commentcount:12,category:"Health Tips",doctor:{avatar:"https://i.pravatar.cc/150?u=a",name:"Michelle Fairfax",id:"PT004",note:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation."},content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas nulla pariatur? At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus id quod maxime placeat facere possimus, omnis voluptas assumenda est, omnis dolor repellendus. Temporibus autem quibusdam et aut officiis debitis aut rerum necessitatibus saepe eveniet ut et voluptates repudiandae sint et molestiae non recusandae. Itaque earum rerum hic tenetur a sapiente delectus, ut aut reiciendis voluptatibus maiores alias consequatur aut perferendis doloribus asperiores repellat.",comments:[{content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam viverra euismod odio, gravida pellentesque urna varius vitae, gravida pellentesque urna varius vitae. Lorem ipsum dolor sit amet, consectetur adipiscing elit",date:"Dec 6, 2017",doctor:{avatar:"https://i.pravatar.cc/150?u=a",name:"Michelle Fairfax",id:"PT004"}},{content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam viverra euismod odio, gravida pellentesque urna varius vitae, gravida pellentesque urna varius vitae. Lorem ipsum dolor sit amet, consectetur adipiscing elit",date:"Dec 6, 2017",doctor:{avatar:"https://i.pravatar.cc/150?u=JJJAAAJJEd",name:"Carl Kelly",id:"PT003"}}]}],tags:[{id:"tag001",name:"Children"},{id:"tag001",name:"Disease"},{id:"tag001",name:"Appointment"},{id:"tag001",name:"Booking"},{id:"tag001",name:"Kids"},{id:"tag001",name:"Family"},{id:"tag001",name:"Tips"},{id:"tag001",name:"Shedule"},{id:"tag001",name:"Treatment"},{id:"tag001",name:"Dr"},{id:"tag001",name:"Clinic"}],latestblogs:[{image:"https://images.unsplash.com/photo-1677658992560-e63ac0fa9e02?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8M3x8fGVufDB8fHx8&auto=format&fit=crop&w=300&q=60",title:"Doccure \xe2\u20ac\u201c Making your clinic painless visit?",date:"May 27, 2020"},{image:"https://images.unsplash.com/photo-1677658992560-e63ac0fa9e02?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8M3x8fGVufDB8fHx8&auto=format&fit=crop&w=300&q=60",title:"What are the benefits of Online Doctor Booking?",date:"May 27, 2020"},{image:"https://images.unsplash.com/photo-1677658992560-e63ac0fa9e02?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8M3x8fGVufDB8fHx8&auto=format&fit=crop&w=300&q=60",title:"Online Doctor Appointment Scheduling",date:"May 27, 2020"},{image:"https://images.unsplash.com/photo-1677658992560-e63ac0fa9e02?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8M3x8fGVufDB8fHx8&auto=format&fit=crop&w=300&q=60",title:"Simple steps to make your doctor visits exceptional!",date:"May 27, 2020"},{image:"https://images.unsplash.com/photo-1677658992560-e63ac0fa9e02?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8M3x8fGVufDB8fHx8&auto=format&fit=crop&w=300&q=60",title:"Choose your own Online Doctor Appointment",date:"May 27, 2020"},{image:"https://images.unsplash.com/photo-1677658992560-e63ac0fa9e02?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8M3x8fGVufDB8fHx8&auto=format&fit=crop&w=300&q=60",title:"Simple steps to visit your doctor today",date:"May 27, 2020"},{image:"https://images.unsplash.com/photo-1677658992560-e63ac0fa9e02?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8M3x8fGVufDB8fHx8&auto=format&fit=crop&w=300&q=60",title:"5 Great reasons to use an Online Doctor",date:"May 27, 2020"},{image:"https://images.unsplash.com/photo-1677658992560-e63ac0fa9e02?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8M3x8fGVufDB8fHx8&auto=format&fit=crop&w=300&q=60",title:"Online Doctoral Programs",date:"May 27, 2020"}],blogcategories:[{id:"BCG001",name:"Cardiology",counts:62},{id:"BCG002",name:"Health Care",counts:62},{id:"BCG003",name:"Nutritions",counts:62},{id:"BCG004",name:"Health Tips",counts:62},{id:"BCG005",name:"Medical Research",counts:62},{id:"BCG006",name:"Health Treatment",counts:62}]}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["provider-blog-details"]],features:[e.qOj],decls:1,vars:2,consts:[["formName","page_provider_blog_details",1,"w-full","h-full",3,"showSubmitButton","formData"]],template:function(t,i){1&t&&e._UZ(0,"ui-formly-json-form",0),2&t&&e.Q6J("showSubmitButton",!1)("formData",i.formData)},dependencies:[Y.M]}),o})(),It=(()=>{class o extends j{constructor(t,i){super(i),this.data=t,this.loading$=this.select(s=>s.loading),this.vm$=this.select(this.loading$,this.user$,this.vendor$,(s,n,c)=>({loading:s,user:n,vendor:c}))}getInitialState(){return{query:"",loading:!1}}providerIdDidChange(t){console.log(t)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(H.q),e.LFG(e.zs3))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();const pe=function(o){return{providerId:o}};function me(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"ui-formly-json-form",2),e.NdJ("formIsReady",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onResize())}),e.qZA()}if(2&o){const t=d.ngIf,i=e.oxw().ngIf,s=e.oxw();e.Q6J("showSubmitButton",!1)("componentStore",s.store)("model",e.VKq(4,pe,i))("formData",s.getFormData(t))}}function he(o,d){if(1&o&&(e.ynx(0),e.YNc(1,me,1,6,"ui-formly-json-form",1),e.ALo(2,"async"),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.vm$))}}let fe=(()=>{class o extends Z{constructor(t){super(),this.store=t,this.portalName="Vendor",this.pageName="Blogs",this.selectedProviderId$=this.store.selectedProviderId$,this.vm$=this.store.vm$,this.formData={pageName:this.pageName,portalName:this.portalName,blogs:[{id:"BLG0010",image:"https://images.unsplash.com/photo-1677658992560-e63ac0fa9e02?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8M3x8fGVufDB8fHx8&auto=format&fit=crop&w=300&q=60",title:"Doccure \xe2\u20ac\u201c Making your clinic painless visit?",date:"May 27, 2020",commentcount:12,category:"Health Tips",doctor:{avatar:"https://i.pravatar.cc/150?u=a",name:"Michelle Fairfax",id:"PT004",note:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation."},content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. "},{id:"BLG0010",image:"https://images.unsplash.com/photo-1677658992560-e63ac0fa9e02?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8M3x8fGVufDB8fHx8&auto=format&fit=crop&w=300&q=60",title:"Doccure \xe2\u20ac\u201c Making your clinic painless visit?",date:"May 27, 2020",commentcount:12,category:"Health Tips",doctor:{avatar:"https://i.pravatar.cc/150?u=a",name:"Michelle Fairfax",id:"PT004",note:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation."},content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. "},{id:"BLG0010",image:"https://images.unsplash.com/photo-1677658992560-e63ac0fa9e02?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8M3x8fGVufDB8fHx8&auto=format&fit=crop&w=300&q=60",title:"Doccure \xe2\u20ac\u201c Making your clinic painless visit?",date:"May 27, 2020",commentcount:12,category:"Health Tips",doctor:{avatar:"https://i.pravatar.cc/150?u=a",name:"Michelle Fairfax",id:"PT004",note:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation."},content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. "},{id:"BLG0010",image:"https://images.unsplash.com/photo-1677658992560-e63ac0fa9e02?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8M3x8fGVufDB8fHx8&auto=format&fit=crop&w=300&q=60",title:"Doccure \xe2\u20ac\u201c Making your clinic painless visit?",date:"May 27, 2020",commentcount:12,category:"Health Tips",doctor:{avatar:"https://i.pravatar.cc/150?u=a",name:"Michelle Fairfax",id:"PT004",note:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation."},content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. "},{id:"BLG0010",image:"https://images.unsplash.com/photo-1677658992560-e63ac0fa9e02?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8M3x8fGVufDB8fHx8&auto=format&fit=crop&w=300&q=60",title:"Doccure \xe2\u20ac\u201c Making your clinic painless visit?",date:"May 27, 2020",commentcount:12,category:"Health Tips",doctor:{avatar:"https://i.pravatar.cc/150?u=a",name:"Michelle Fairfax",id:"PT004",note:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation."},content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. "},{id:"BLG0010",image:"https://images.unsplash.com/photo-1677658992560-e63ac0fa9e02?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8M3x8fGVufDB8fHx8&auto=format&fit=crop&w=300&q=60",title:"Doccure \xe2\u20ac\u201c Making your clinic painless visit?",date:"May 27, 2020",commentcount:12,category:"Health Tips",doctor:{avatar:"https://i.pravatar.cc/150?u=a",name:"Michelle Fairfax",id:"PT004",note:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation."},content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. "},{id:"BLG0010",image:"https://images.unsplash.com/photo-1677658992560-e63ac0fa9e02?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8M3x8fGVufDB8fHx8&auto=format&fit=crop&w=300&q=60",title:"Doccure \xe2\u20ac\u201c Making your clinic painless visit?",date:"May 27, 2020",commentcount:12,category:"Health Tips",doctor:{avatar:"https://i.pravatar.cc/150?u=a",name:"Michelle Fairfax",id:"PT004",note:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation."},content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. "},{id:"BLG0010",image:"https://images.unsplash.com/photo-1677658992560-e63ac0fa9e02?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8M3x8fGVufDB8fHx8&auto=format&fit=crop&w=300&q=60",title:"Doccure \xe2\u20ac\u201c Making your clinic painless visit?",date:"May 27, 2020",commentcount:12,category:"Health Tips",doctor:{avatar:"https://i.pravatar.cc/150?u=a",name:"Michelle Fairfax",id:"PT004",note:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation."},content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. "}],tags:[{id:"tag001",name:"Children"},{id:"tag001",name:"Disease"},{id:"tag001",name:"Appointment"},{id:"tag001",name:"Booking"},{id:"tag001",name:"Kids"},{id:"tag001",name:"Family"},{id:"tag001",name:"Tips"},{id:"tag001",name:"Shedule"},{id:"tag001",name:"Treatment"},{id:"tag001",name:"Dr"},{id:"tag001",name:"Clinic"}],latestblogs:[{image:"https://images.unsplash.com/photo-1677658992560-e63ac0fa9e02?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8M3x8fGVufDB8fHx8&auto=format&fit=crop&w=300&q=60",title:"Doccure \xe2\u20ac\u201c Making your clinic painless visit?",date:"May 27, 2020"},{image:"https://images.unsplash.com/photo-1677658992560-e63ac0fa9e02?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8M3x8fGVufDB8fHx8&auto=format&fit=crop&w=300&q=60",title:"What are the benefits of Online Doctor Booking?",date:"May 27, 2020"},{image:"https://images.unsplash.com/photo-1677658992560-e63ac0fa9e02?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8M3x8fGVufDB8fHx8&auto=format&fit=crop&w=300&q=60",title:"Online Doctor Appointment Scheduling",date:"May 27, 2020"},{image:"https://images.unsplash.com/photo-1677658992560-e63ac0fa9e02?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8M3x8fGVufDB8fHx8&auto=format&fit=crop&w=300&q=60",title:"Simple steps to make your doctor visits exceptional!",date:"May 27, 2020"},{image:"https://images.unsplash.com/photo-1677658992560-e63ac0fa9e02?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8M3x8fGVufDB8fHx8&auto=format&fit=crop&w=300&q=60",title:"Choose your own Online Doctor Appointment",date:"May 27, 2020"},{image:"https://images.unsplash.com/photo-1677658992560-e63ac0fa9e02?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8M3x8fGVufDB8fHx8&auto=format&fit=crop&w=300&q=60",title:"Simple steps to visit your doctor today",date:"May 27, 2020"},{image:"https://images.unsplash.com/photo-1677658992560-e63ac0fa9e02?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8M3x8fGVufDB8fHx8&auto=format&fit=crop&w=300&q=60",title:"5 Great reasons to use an Online Doctor",date:"May 27, 2020"},{image:"https://images.unsplash.com/photo-1677658992560-e63ac0fa9e02?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8M3x8fGVufDB8fHx8&auto=format&fit=crop&w=300&q=60",title:"Online Doctoral Programs",date:"May 27, 2020"}],blogcategories:[{id:"BCG001",name:"Cardiology",counts:62},{id:"BCG002",name:"Health Care",counts:62},{id:"BCG003",name:"Nutritions",counts:62},{id:"BCG004",name:"Health Tips",counts:62},{id:"BCG005",name:"Medical Research",counts:62},{id:"BCG006",name:"Health Treatment",counts:62}]}}getFormData(t){return Object.assign(Object.assign(Object.assign({},t),this.formData),{pageName:this.pageName,providers:this.store.providerOptions$,portalName:this.portalName})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(It))},o.\u0275cmp=e.Xpm({type:o,selectors:[["provider-blogs"]],features:[e._Bn([It]),e.qOj],decls:2,vars:3,consts:[[4,"ngIf"],["class","w-full h-full","formName","page_provider_blogs_blog",3,"showSubmitButton","componentStore","model","formData","formIsReady",4,"ngIf"],["formName","page_provider_blogs_blog",1,"w-full","h-full",3,"showSubmitButton","componentStore","model","formData","formIsReady"]],template:function(t,i){1&t&&(e.YNc(0,he,3,3,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,i.selectedProviderId$))},dependencies:[J.O5,Y.M,J.Ov]}),o})();var et=C(71873);let Ct=(()=>{class o extends j{constructor(t,i,s){super(s),this.toast=t,this.data=i,this.locationAvalabilityId="",this.loading$=this.select(n=>n.loading),this.updatePasswordEffect=this.effect(n=>n.pipe((0,I.b)(c=>{this.patchState({loading:!0})}),(0,P.w)(c=>this.data.accountUpdatePassword({input:{currentPassword:c?.oldPassword,password:c?.newPassword,verified:c?.passConfirm}}).pipe((0,N._b)(a=>{this.toast.success("Successfully updated Password",{duration:3e3}),this.patchState({loading:!1})},a=>{this.toast.error("Failed to update Password",{duration:3e3}),this.patchState({loading:!1})}))))),this.vm$=this.select(this.loading$,this.user$,this.vendor$,(n,c,r)=>({loading:n,user:c,vendor:r}))}getInitialState(){return{query:"",loading:!1}}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(et.F),e.LFG(H.q),e.LFG(e.zs3))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();function ve(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"ui-formly-json-form",1),e.NdJ("save",function(s){e.CHM(t);const n=e.oxw();return e.KtG(n.store.updatePasswordEffect(s))})("formIsReady",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onResize())}),e.qZA()}if(2&o){const t=d.ngIf,i=e.oxw();e.Q6J("showSubmitButton",!1)("componentStore",i.store)("formData",i.getFormData(t))}}let ge=(()=>{class o extends Z{constructor(t){super(),this.store=t,this.pageName="Change Password",this.portalName="Vendor",this.vm$=this.store.vm$,this.formData={pageName:this.pageName,portalName:this.portalName}}getFormData(t){return Object.assign(Object.assign({},t),{pageName:this.pageName,portalName:this.portalName})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Ct))},o.\u0275cmp=e.Xpm({type:o,selectors:[["provider-change-password"]],features:[e._Bn([Ct]),e.qOj],decls:2,vars:3,consts:[["class","w-full h-full","formName","page_provider_change_password",3,"showSubmitButton","componentStore","formData","save","formIsReady",4,"ngIf"],["formName","page_provider_change_password",1,"w-full","h-full",3,"showSubmitButton","componentStore","formData","save","formIsReady"]],template:function(t,i){1&t&&(e.YNc(0,ve,1,3,"ui-formly-json-form",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,i.vm$))},dependencies:[J.O5,Y.M,J.Ov]}),o})();var it=C(30144);let Mt=(()=>{class o extends j{constructor(t,i,s,n,c){var r;if(super(t),this.route=i,this.data=s,this.appointmentStore=n,this.toast=c,this.loading$=this.select(a=>a.loading),this.appointment$=this.appointmentStore.item$,this.vm$=this.select(this.loading$,this.appointment$,(a,l)=>({loading:a,appointment:l})),this.checkInAppointmentEffect=this.effect(a=>a.pipe((0,I.b)(()=>this.patchState({loading:!0})),(0,P.w)(l=>this.data.userCheckInAppointment({appointmentId:l}).pipe((0,N._b)(f=>{var b;this.appointmentStore.setItem(null===(b=f.data)||void 0===b?void 0:b.updated),this.toast.success("Successfully checked In Appointment",{duration:3e3}),this.patchState({loading:!1})},()=>{this.toast.error("Failed to checkIn Appointment",{duration:3e3}),this.patchState({loading:!1})}))))),this.route.snapshot.paramMap.has("appointmentId")){const a=null!==(r=this.route.snapshot.paramMap.get("appointmentId"))&&void 0!==r?r:"";this.appointmentStore.loadAppointmentEffect(a)}}getInitialState(){return{query:"",loading:!1}}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(e.zs3),e.LFG(it.gz),e.LFG(H.q),e.LFG(X.L6),e.LFG(et.F))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();var be=C(6489),ut=C(19647);const Se=function(o){return{providerId:o}};function ye(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"ui-formly-json-form",2),e.NdJ("formIsReady",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onResize())}),e.qZA()}if(2&o){const t=d.ngIf,i=e.oxw().ngIf,s=e.oxw();e.Q6J("showSubmitButton",!1)("componentStore",s.store)("model",e.VKq(4,Se,i))("formData",s.getFormData(t))}}function Ie(o,d){if(1&o&&(e.ynx(0),e.YNc(1,ye,1,6,"ui-formly-json-form",1),e.ALo(2,"async"),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.appointment$))}}let Ce=(()=>{class o extends Z{constructor(t){super(),this.store=t,this.pageName="CheckIn",this.portalName="Vendor",this.appointment$=this.store.appointment$,this.selectedProviderId$=this.store.selectedProviderId$}getFormData(t){return Object.assign(Object.assign({},t),{portalName:this.portalName,pageName:this.pageName,providers:this.store.providerOptions$})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Mt))},o.\u0275cmp=e.Xpm({type:o,selectors:[["provider-checkIn"]],features:[e._Bn([Mt,ut.d,be.O]),e.qOj],decls:2,vars:3,consts:[[4,"ngIf"],["class","w-full h-full","formName","page_provider_appointment_checkIn",3,"showSubmitButton","componentStore","model","formData","formIsReady",4,"ngIf"],["formName","page_provider_appointment_checkIn",1,"w-full","h-full",3,"showSubmitButton","componentStore","model","formData","formIsReady"]],template:function(t,i){1&t&&(e.YNc(0,Ie,3,3,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,i.selectedProviderId$))},dependencies:[J.O5,Y.M,J.Ov]}),o})();var Me=C(78858),Pt=C(85252),lt=C(51194);let _t=(()=>{class o extends j{constructor(t,i,s,n,c,r,a,l,f,b,S,D,u,h){super(h),this.calendarAppointmentStore=t,this.listAppointmentStore=i,this.providerStoreForAppointmentAdd=s,this.providerLocationStoreForAppointmentAdd=n,this.legalCaseStoreForAppointmentAdd=c,this.apptStatusStoreForFilter=r,this.providerStore=a,this.legalCaseStore=l,this.appointmentStatusStore=f,this.visitKindStore=b,this.providerLocationStore=S,this.data=D,this.patientStore=u,this.currentLegalCaseIdForMiscellaneousModal="",this.calendarTimeEvents$=this.select(this.calendarAppointmentStore.formattedAppointments$,p=>p.map(m=>{var M,_,x,q,A,g,y,v,O;return m?.end||(m.end=(0,V.xZ)(null!==(M=m.start)&&void 0!==M?M:"00:00",null!==(_=m.duration)&&void 0!==_?_:0)),Object.assign(Object.assign({},m),{id:m.id,providerName:null!==(q=null===(x=m.clinicalProvider)||void 0===x?void 0:x.name)&&void 0!==q?q:"",status:null!==(g=null===(A=m.appointmentStatus)||void 0===A?void 0:A.name)&&void 0!==g?g:"",start:new Date(`${T(m.appointmentDateAndTime).format("MM-DD-yyyy")} ${m.start}`),end:new Date(`${T(m.appointmentDateAndTime).format("MM-DD-yyyy")} ${null!==(y=m.end)&&void 0!==y?y:"?"}`),title:`${null===(v=m?.clinicalProvider)||void 0===v?void 0:v.name} ${m.start} - ${null!==(O=m.end)&&void 0!==O?O:"?"}`,data:Object.assign({},m)})})),this.providersForAppointmentAdd$=this.select(this.providerStoreForAppointmentAdd.clinicalProviders$,p=>p.map(m=>({id:m.id,title:m.name}))),this.clinicalProviderLocationsForAppointmentAdd$=this.select(this.providerLocationStoreForAppointmentAdd.clinicalProviderLocations$,p=>p.map(m=>{var M,_;return{id:null===(M=m.location)||void 0===M?void 0:M.id,title:null===(_=m.location)||void 0===_?void 0:_.name}})),this.patients$=this.select(this.patientStore.patients$,p=>p.map(m=>({id:m.id,title:m?.name}))),this.legalCases$=this.select(this.legalCaseStore.legalCases$,p=>p.map(m=>({id:m.id,title:m?.medicalRecordNumber}))),this.legalCasesForAppointmentAdd$=this.select(this.legalCaseStoreForAppointmentAdd.legalCases$,p=>p.map(m=>({id:m.id,title:m?.medicalRecordNumber}))),this.loading$=this.select(p=>p.loading),this.dateFilter$=this.select(p=>p.dateFilter),this.patientForSubpeona$=this.select(p=>p.patientForSubpeona),this.appointmentStatusId$=this.select(p=>p.appointmentStatusId),this.viewMode$=this.select(p=>p.viewMode),this.appointmentStatuses$=this.appointmentStatusStore.appointmentStatuses$,this.appointmentStatusActions$=this.select(this.appointmentStatuses$,p=>p?.map(m=>{var M,_;const x=m.name;return Object.assign(Object.assign({},m),{color:null!==(M=X.IM[x])&&void 0!==M?M:"red",icon:null!==(_=X.vF[m.name])&&void 0!==_?_:"assets/icons/rescheduled.png"})})),this.appointmentStatusesForFilter$=this.select(this.apptStatusStoreForFilter.appointmentStatuses$,p=>{const m=p?.map(M=>{const _=M?.id,x=M?.name;return{id:_,title:x}});return[{id:"all",title:"All"},...m]}),this.visitKinds$=this.visitKindStore.visitKinds$,this.appointments$=this.listAppointmentStore.formattedAppointmentsForProvider$,this.skip$=this.select(p=>p.skip),this.limit$=this.select(p=>p.limit),this.paging$=this.listAppointmentStore.paging$,this.stats$=this.select(p=>p.stats),this.patientIdForUploadSubpoena$=this.select(p=>p.patientIdForUploadSubpoena),this.patientIdForUploadMiscellaneous$=this.select(p=>p.patientIdForUploadMiscellaneous),this.patientInfoForUploadSubpoena$=this.select(this.patientStore.patients$,this.patientIdForUploadSubpoena$,(p,m)=>{const M=p.filter(_=>_.id===m);return M&&this.uploadSubpoenaModalController&&this.uploadSubpoenaModalController.update({subpoena:M[0].subpoena},{}),M}),this.patientInfoForUploadMiscellaneous$=this.select(this.patientStore.patients$,this.patientIdForUploadMiscellaneous$,(p,m)=>p.filter(_=>_.id===m)),this.legalCaseInfoForUploadMiscellaneous$=this.select(this.legalCaseStore.legalCases$,this.patientIdForUploadMiscellaneous$,(p,m)=>p.filter(_=>_.id===m)),this.patientIdForAppointmentAdd$=this.select(p=>p.patientIdForAppointmentAdd),this.patientInfoAppointmentAdd$=this.select(this.patientStore.patients$,this.patientIdForAppointmentAdd$,(p,m)=>p.filter(_=>_.id===m).map(_=>{var x,q;return Object.assign(Object.assign({},_),{dateOfLoss:null!==(q=_?.legalCases&&(null===(x=_?.legalCases[0])||void 0===x?void 0:x.dateOfLoss))&&void 0!==q?q:""})})),this.providerLocations$=this.providerLocationStore.clinicalProviderLocations$.pipe((0,P.w)(p=>(0,F.of)(p.map(m=>{var M;return{id:m.id,name:null===(M=m?.location)||void 0===M?void 0:M.name}})))),this.providerLocationOptions$=this.select(this.providerLocationStore.clinicalProviderLocations$,p=>{const m=p?.map(M=>{var _,x;return{id:null===(_=M.location)||void 0===_?void 0:_.id,name:null===(x=M.location)||void 0===x?void 0:x.name}});return[{id:"all",name:"All"},...m]}),this.providerOptionsForFilter$=this.select(this.providerStore.clinicalProviders$,p=>{const m=p?.map(M=>{const{id:_,name:x}=M;return{id:_,name:x}});return[{id:"all",name:"All"},...m]}),this.setDateFilter=this.updater((p,m)=>Object.assign(Object.assign({},p),{dateFilter:m})),this.setPatientForSubpeona=this.updater((p,m)=>Object.assign(Object.assign({},p),{patientForSubpeona:m})),this.setAppointmentStatusId=this.updater((p,m)=>Object.assign(Object.assign({},p),{appointmentStatusId:m})),this.setStats=this.updater((p,m)=>Object.assign(Object.assign({},p),{stats:m})),this.setPatientIdForUploadSubpoena=this.updater((p,m)=>Object.assign(Object.assign({},p),{patientIdForUploadSubpoena:m})),this.setPatientIdForUploadMiscellaneous=this.updater((p,m)=>Object.assign(Object.assign({},p),{patientIdForUploadMiscellaneous:m})),this.setPatientIdForAppointmentAdd=this.updater((p,m)=>Object.assign(Object.assign({},p),{patientIdForAppointmentAdd:m})),this.setSkip=this.updater((p,m)=>Object.assign(Object.assign({},p),{skip:m})),this.setViewMode=this.updater((p,m)=>Object.assign(Object.assign({},p),{viewMode:m})),this.vm$=this.select(this.stats$,this.user$,this.vendor$,this.appointmentStatuses$,this.providerLocations$,this.viewMode$,(p,m,M,_,x,q)=>({viewMode:q,stats:p,user:m,vendor:M,appointmentStatuses:_,providerLocations:x,dayOfWeek:(new Date).toLocaleDateString("en-US",{weekday:"long"}),today:(new Date).toLocaleDateString("en-US",{month:"long",day:"numeric"})})),this.loadVendorStatsEffect=this.effect(p=>p.pipe((0,I.b)(()=>{this.patchState({loading:!0})}),(0,L.M)(this.selectedProviderId$),(0,P.w)(([,m])=>this.data.userVendorStats({providorId:m}).pipe((0,N._b)(M=>{var _,x,q,A,g,y,v,O,B,z,G,K;this.setStats({totalPatientCount:null!==(x=null===(_=M.data.stats)||void 0===_?void 0:_.totalPatientCount)&&void 0!==x?x:0,todayPatientCount:null!==(A=null===(q=M.data.stats)||void 0===q?void 0:q.todayPatientCount)&&void 0!==A?A:0,appointmentCount:null!==(y=null===(g=M.data.stats)||void 0===g?void 0:g.appointmentCount)&&void 0!==y?y:0,totalPatientPercent:null!==(O=null===(v=M.data.stats)||void 0===v?void 0:v.totalPatientPercent)&&void 0!==O?O:0,todayPatientPercent:null!==(z=null===(B=M.data.stats)||void 0===B?void 0:B.todayPatientPercent)&&void 0!==z?z:0,appointmentsPercent:null!==(K=null===(G=M.data.stats)||void 0===G?void 0:G.appointmentsPercent)&&void 0!==K?K:0})},M=>{this.patchState({loading:!1})}))))),this.loadAppointmentsEffect=this.effect(p=>p.pipe((0,I.b)(()=>{this.patchState({loading:!0})}),(0,L.M)(this.dateFilter$,this.selectedProviderId$,this.selectedProviderLocationId$,this.viewMode$,this.skip$,this.limit$,this.appointmentStatusId$),(0,P.w)(([m,M,_,x,q,A,g,y])=>("List"===q?(this.listAppointmentStore.setDateFilter({startDate:new Date,operator:"="}),this.listAppointmentStore.setLimit(g),this.listAppointmentStore.setSkip(A),this.listAppointmentStore.setClinicalProviderId("all"!==_?_:void 0),this.listAppointmentStore.setLocationId("all"!==x&&""!==x?x:void 0),this.listAppointmentStore.setAppointmentStatusId("all"!==y&&""!==y?y:void 0),this.listAppointmentStore.loadAppointmentsEffect()):(console.log("calendar appointments"),this.calendarAppointmentStore.setLimit(1e4),this.calendarAppointmentStore.setSkip(0),this.calendarAppointmentStore.setClinicalProviderId("all"!==_?_:void 0),this.calendarAppointmentStore.setLocationId("all"!==x&&""!==x?x:void 0),this.calendarAppointmentStore.setAppointmentStatusId("all"!==y&&""!==y?y:void 0),this.calendarAppointmentStore.loadAppointmentsEffect()),(0,F.of)(!0))))),this.loadProviderLocationsEffect=this.effect(p=>p.pipe((0,I.b)(()=>{this.patchState({loading:!0})}),(0,L.M)(this.selectedProviderId$),(0,P.w)(([,m])=>(this.providerLocationStore.loadClinicalProviderLocationsEffect(),(0,F.of)(!0))))),this.loadProvidersEffect=this.effect(p=>p.pipe((0,I.b)(()=>{this.patchState({loading:!0})}),(0,L.M)(this.selectedProviderLocationId$),(0,P.w)(([,m])=>(this.providerStore.setLocationId(m),this.providerStore.loadClinicalProvidersEffect(),(0,F.of)(!0))))),this.appointmentStatusStore.loadAppointmentStatusesEffect(),this.apptStatusStoreForFilter.loadAppointmentStatusesEffect(),this.visitKindStore.loadVisitKindsEffect(),this.patientStore.setIsAllPatients(!0),this.patientStore.loadPatientsEffect(),this.legalCaseStore.loadLegalCasesEffect(),this.legalCaseStoreForAppointmentAdd.loadLegalCasesEffect(),this.providerStoreForAppointmentAdd.loadClinicalProvidersEffect(),this.calendarAppointmentStore.setDateFilter({startDate:new Date,operator:"="}),this.calendarAppointmentStore.loadAppointmentsEffect(),this.loadProviderLocationsEffect()}setForm(t){this.form=t}loadProviderLocations(){this.providerLocationStore.loadClinicalProviderLocationsEffect()}skipDidChange(t){this.setSkip(t),this.loadAppointmentsEffect()}viewModeDidChange(t){this.setViewMode(t),this.loadAppointmentsEffect()}changeLegalCasesByPatientId(t){this.legalCaseStore.setPatientId(t),this.legalCaseStore.loadLegalCasesEffect()}changeLegalCasesByPatientIdForAppointmentAdd(t){this.legalCaseStoreForAppointmentAdd.setPatientId(t),this.legalCaseStoreForAppointmentAdd.loadLegalCasesEffect()}setLegalCaseId(t){this.currentLegalCaseIdForMiscellaneousModal=t}dateFilterDidChange(t){console.log(t)}filterByAppointmentStatus(t){this.setAppointmentStatusId(t),this.loadAppointmentsEffect()}getInitialState(){return{query:"",loading:!1,stats:{totalPatientCount:0,todayPatientCount:0,appointmentCount:0,totalPatientPercent:0,todayPatientPercent:0,appointmentsPercent:0},skip:0,limit:10,viewMode:"List",patientIdForUploadSubpoena:"",patientIdForUploadMiscellaneous:"",patientIdForAppointmentAdd:"",appointmentForModal:void 0,patientForSubpeona:void 0,appointmentStatusId:void 0}}providerIdDidChange(t){this.loadAppointmentsEffect(),this.loadVendorStatsEffect(),this.patientStore.loadPatientsEffect()}providerLocationIdDidChange(t){this.providerStore.setLocationId(""!==t&&"all"!==t?t:""),this.loadProvidersEffect(),this.loadVendorStatsEffect(),this.providerLocationStore.clinicalProviderLocations$.subscribe(i=>{i.findIndex(n=>n?.id===t)>-1&&this.patientStore.loadPatientsEffect()}).unsubscribe(),this.loadAppointmentsEffect()}patientChangedForSubpeonaMaodal(t){this.patientInfoForUploadSubpoena$.subscribe(i=>{var s;const n=i[0];n?.subpoena&&(null===(s=this.uploadSubpoenaModalController)||void 0===s||s.update({subpeona:n?.subpoena},{}))})}updatePatientForSubpoena(t){var i;this.patientInfoForUploadSubpoena$.subscribe(s=>{var n;const c=s[0];if((!c?.subpoena||!(null===(n=c?.subpoena)||void 0===n)&&n.attachment)&&(null==c||delete c.subpoenaId),c){const{subpoena:r}=t,{id:a,name:l,subpoenaId:f}=c;this.patientStore.updatePatientEffect({id:a,name:l,subpoena:r,subpoenaId:f})}}).unsubscribe(),null===(i=this.uploadSubpoenaModalController)||void 0===i||i.close()}updateStatus(t,i){switch(t.title){case"Check In":this.listAppointmentStore.checkInAppointmentEffect(i);break;case"Cancel":this.listAppointmentStore.cancelAppointmentEffect(i);break;case"No Show":this.listAppointmentStore.hideAppointmentEffect(i)}}appointmentAction(t,i){switch(t){case"View":this.openAppointmentViewModal(i);break;case"Edit":default:break;case"Request More Visits":this.openRequestsMoreVisitsModal(i);break;case"No Show":this.listAppointmentStore.hideAppointmentEffect(i)}}updateLegalForMiscellaneous(t){var i;this.legalCaseStore.legalCases$.subscribe(s=>{const n=s.filter(c=>c.id==this.currentLegalCaseIdForMiscellaneousModal)[0];if(n){const{miscellaneousDocuments:c}=t,{id:r,name:a}=n;this.legalCaseStore.updateLegalCaseEffect({id:r,name:a,miscellaneousDocuments:c})}}).unsubscribe(),null===(i=this.uploadMiscellaneousModalController)||void 0===i||i.close()}addAppointment(t){var i;const s={};s.name=`${t?.providerId} for ${t?.patientId} at ${t?.appointmentDate} ${t?.appointmentTime} with ${t?.apptId}`,s.clinicalProviderId=t?.providerId,s.patientId=t?.patientId,s.appointmentDateAndTime=`${t?.appointmentDate} ${t?.appointmentTime}`,s.appointmentStatusId=t?.apptId,s.visitKindId=t?.visitKindId,s.locationId=t?.locationId,s.legalCaseId=t?.legalCaseId,this.listAppointmentStore.createAppointmentEffect(s),null===(i=this.addAppointmentModalController)||void 0===i||i.close()}setAppointmentViewModalController(t){super.setAppointmentViewModalController(t)}setRequestsMoreVisitsModalController(t){super.setRequestsMoreVisitsModalController(t)}openAppointmentViewModal(t){var i;this.patchState({appointmentForModal:t}),null===(i=this.appointmentViewModalController)||void 0===i||i.open(t,{},this)}openRequestsMoreVisitsModal(t){super.openRequestsMoreVisitsModal(t)}openAddAppointmentModal(){var t;null===(t=this.addAppointmentModalController)||void 0===t||t.open({},{patients:this.patients$,legalCases:this.legalCasesForAppointmentAdd$,patientInfo:this.patientInfoAppointmentAdd$,providers:this.providersForAppointmentAdd$,locations:this.clinicalProviderLocationsForAppointmentAdd$,appointmentStatuses:this.appointmentStatuses$,visitKinds:this.visitKinds$},this)}openUploadModalCtrlForSubpoena(){var t;null===(t=this.uploadSubpoenaModalController)||void 0===t||t.open({},{patients:this.patients$,patientInfo:this.patientInfoForUploadSubpoena$},this)}openUploadModalCtrlForMiscellaneous(){var t;null===(t=this.uploadMiscellaneousModalController)||void 0===t||t.open({},{patients:this.patients$,patientInfo:this.patientInfoForUploadMiscellaneous$,legalCases:this.legalCases$},this)}setUploadModalCtrlForSubpoena(t){super.setUploadModalCtrlForSubpoena(t)}setAddAppointmentModalController(t){super.setAddAppointmentModalController(t)}setRxFormlyModalController(t){this.rxFormlyModalController=t}setImagingFormlyModalContoller(t){this.imagingFormlyModalContoller=t}setRecOrdersFormlyModalController(t){this.recOrdersFormlyModalController=t}setReferralsFormlyModalController(t){this.referralsFormlyModalController=t}setAppointmentsFormlyModalController(t){this.appointmentsFormlyModalController=t}openRxFormlyModalController(){var t;null===(t=this.rxFormlyModalController)||void 0===t||t.open({},{},{})}openImagingFormlyModalContoller(){var t;null===(t=this.imagingFormlyModalContoller)||void 0===t||t.open({},{},{})}openRecOrdersFormlyModalController(){var t;null===(t=this.recOrdersFormlyModalController)||void 0===t||t.open({},{},{})}openReferralsFormlyModalController(){var t;null===(t=this.referralsFormlyModalController)||void 0===t||t.open({},{},{})}openAppointmentsFormlyModalController(){var t;null===(t=this.appointmentsFormlyModalController)||void 0===t||t.open({},{},{})}updateAppointmentForBill(t){var i;const s=this.get().appointmentForModal;if((!s?.bill||!(null===(i=s?.bill)||void 0===i)&&i.attachment)&&(null==s||delete s.billId),s){const n=t,{id:c,name:r,billId:a,imagingId:l,medicalReportId:f,appointmentDateAndTime:b,locationId:S,checkedIn:D,checkedInDateTime:u,duration:h,patientId:p,clinicalProviderId:m,legalCaseId:M,appointmentStatusId:_,notes:x,recurringEventId:q,isFirstInstance:A,description:g,start:y,end:v,allDay:O,recurrence:B}=s;this.listAppointmentStore.updateAppointmentEffect({id:c,name:r,bill:n,billId:a,imagingId:l,medicalReportId:f,appointmentDateAndTime:b,locationId:S,checkedIn:D,checkedInDateTime:u,duration:h,patientId:p,clinicalProviderId:m,legalCaseId:M,appointmentStatusId:_,notes:x,recurringEventId:q,isFirstInstance:A,description:g,start:y,end:v,allDay:O,recurrence:B})}}updateAppointmentForMedicalReport(t){var i;const s=this.get().appointmentForModal;(!s?.medicalReport||null!==(i=s?.medicalReport)&&void 0!==i&&i.attachment)&&(null==s||delete s.medicalReportId);const n=t;if(s){const{id:c,name:r,medicalReportId:a,imagingId:l,billId:f,appointmentDateAndTime:b,locationId:S,checkedIn:D,checkedInDateTime:u,duration:h,patientId:p,clinicalProviderId:m,legalCaseId:M,appointmentStatusId:_,notes:x,recurringEventId:q,isFirstInstance:A,description:g,start:y,end:v,allDay:O,recurrence:B}=s;this.listAppointmentStore.updateAppointmentEffect({id:c,name:r,medicalReport:n,medicalReportId:a,imagingId:l,billId:f,appointmentDateAndTime:b,locationId:S,checkedIn:D,checkedInDateTime:u,duration:h,patientId:p,clinicalProviderId:m,legalCaseId:M,appointmentStatusId:_,notes:x,recurringEventId:q,isFirstInstance:A,description:g,start:y,end:v,allDay:O,recurrence:B})}}updateAppointmentForImaging(t){var i;const s=this.get().appointmentForModal;(!s?.imaging||null!==(i=s?.imaging)&&void 0!==i&&i.attachment)&&(null==s||delete s.imagingId);const n=t;if(s){const{id:c,name:r,imagingId:a,billId:l,medicalReportId:f,appointmentDateAndTime:b,locationId:S,checkedIn:D,checkedInDateTime:u,duration:h,patientId:p,clinicalProviderId:m,legalCaseId:M,appointmentStatusId:_,notes:x,recurringEventId:q,isFirstInstance:A,description:g,start:y,end:v,allDay:O,recurrence:B}=s;this.listAppointmentStore.updateAppointmentEffect({id:c,name:r,imaging:n,imagingId:a,billId:l,medicalReportId:f,appointmentDateAndTime:b,locationId:S,checkedIn:D,checkedInDateTime:u,duration:h,patientId:p,clinicalProviderId:m,legalCaseId:M,appointmentStatusId:_,notes:x,recurringEventId:q,isFirstInstance:A,description:g,start:y,end:v,allDay:O,recurrence:B})}}}return o.\u0275fac=function(t){return new(t||o)(e.LFG("calendarAppointmentStore"),e.LFG("listAppointmentStore"),e.LFG("providerStoreForAppointmentAdd"),e.LFG("providerLocationStoreForAppointmentAdd"),e.LFG("legalCaseStoreForAppointmentAdd"),e.LFG("apptStatusStoreForFilter"),e.LFG(E.D),e.LFG(ut.d),e.LFG(ct.E),e.LFG(Pt.S),e.LFG(w.j),e.LFG(H.q),e.LFG(lt.d),e.LFG(e.zs3))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();function Pe(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"ui-formly-json-form",1),e.NdJ("formIsReady",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onResize())}),e.qZA()}if(2&o){const t=d.ngIf,i=e.oxw();e.Q6J("showSubmitButton",!1)("componentStore",i.store)("model",i.model)("showFormSelector",!1)("formData",i.getFormData(t))}}let $t=(()=>{class o extends Z{constructor(t){super(),this.store=t,this.pageName="Dashboard",this.portalName="Vendor",this.model={},this.vm$=this.store.vm$,this.selectedProviderId$=this.store.selectedProviderId$,this.store.loadVendorStatsEffect(),this.subscriber=this.store.selectedProviderId$.subscribe(i=>{this.model.providerId=i})}ngOnDestroy(){var t;null===(t=this.subscriber)||void 0===t||t.unsubscribe()}getFormData(t){return Object.assign(Object.assign({},t),{pageName:this.pageName,providers:this.store.providerOptionsForFilter$,providerLocations:this.store.providerLocationOptions$,appointmentStatusesForFilter:this.store.appointmentStatusesForFilter$,portalName:this.portalName,paging:this.store.paging$,patients:this.store.patients$,appointments:this.store.appointments$,timeEvents:this.store.calendarTimeEvents$})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(_t))},o.\u0275cmp=e.Xpm({type:o,selectors:[["provider-dashboard"]],features:[e._Bn([_t,ct.E,Pt.S,w.j,{provide:"apptStatusStoreForFilter",useClass:ct.E},{provide:"providerStoreForAppointmentAdd",useClass:E.D},{provide:"providerLocationStoreForAppointmentAdd",useClass:w.j},{provide:"calendarAppointmentStore",useClass:X.L6},{provide:"listAppointmentStore",useClass:X.L6},ut.d,{provide:"legalCaseStoreForAppointmentAdd",useClass:ut.d},lt.d]),e.qOj],decls:2,vars:3,consts:[["class","w-full h-full","formName","page_provider_dashboard",3,"showSubmitButton","componentStore","model","showFormSelector","formData","formIsReady",4,"ngIf"],["formName","page_provider_dashboard",1,"w-full","h-full",3,"showSubmitButton","componentStore","model","showFormSelector","formData","formIsReady"]],template:function(t,i){1&t&&(e.YNc(0,Pe,1,5,"ui-formly-json-form",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,i.vm$))},dependencies:[J.O5,Y.M,J.Ov]}),o})();var _e=C(1064),Rt=C.n(_e),At=C(11913),st=C(56794);let Lt=(()=>{class o extends j{constructor(t,i,s,n,c){super(c),this.data=t,this.invoiceStore=i,this.documentStore=s,this.toast=n,this.loading$=this.select(r=>r.loading),this.usage$=this.select(r=>r.usage),this.attachment$=this.documentStore.item$.pipe((0,I.b)(r=>{r&&!r.attachment&&this.toast.error("Cannot find attachment file!",{duration:2e3})})),this.invoices$=this.invoiceStore.invoices$,this.invoicesPaging$=this.invoiceStore.paging$,this.vm$=this.select(this.loading$,this.usage$,this.user$,this.vendor$,(r,a,l,f)=>({loading:r,user:l,vendor:f,usage:a})),this.increaseUsage=this.updater(r=>Object.assign(Object.assign({},r),{usage:r.usage<=1?r.usage+.05:0})),this.printEffect=this.effect(r=>r.pipe((0,I.b)(()=>{this.patchState({loading:!0})}),(0,P.w)(a=>this.data.getDocument(a).pipe((0,N._b)(l=>{if(!l.attachment)return void this.toast.error("Cannot find attachment file!",{duration:2e3});const f=l.attachment;if(f)if(f.search("image")>0){const S=window.open("","Image");S?.document.write("<img src='"+f+"''>"),S?.print()}else{const D=f.split("data:application/pdf;base64,")[1];Rt()({printable:D,type:"pdf",base64:!0})}},()=>{this.patchState({loading:!1})}))))),this.invoiceStore.setLimit(10),this.invoiceStore.loadInvoicesEffect(),setInterval(()=>this.increaseUsage(),1e3)}setInvoiceUploadModalCtrl(t){this.uploadModalCtrl=t}openInvoiceUploadModal(t){var i;null===(i=this.uploadModalCtrl)||void 0===i||i.open({invoice:t.invoice,id:t.id,name:t.name},{},this)}uploadInvoice(t){const{id:i,name:s,invoice:n}=t,c=this.invoiceStore.actionResult$.subscribe(r=>{var a;const{done:l}=r;l&&(c.unsubscribe(),null===(a=this.uploadModalCtrl)||void 0===a||a.close())});this.invoiceStore.updateInvoiceEffect({id:i,name:s,invoice:n})}getInitialState(){return{query:"",loading:!1,usage:0}}loadDocument(t){this.documentStore.loadDocumentEffect(t)}setSkip(t){this.invoiceStore.setSkip(t),this.invoiceStore.loadInvoicesEffect()}providerIdDidChange(t){this.invoiceStore.setClinicalProviderId("all"===t?void 0:t),this.invoiceStore.setSkip(0),this.invoiceStore.loadInvoicesEffect()}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(H.q),e.LFG(At.I),e.LFG(st.F),e.LFG(et.F),e.LFG(e.zs3))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();const $e=function(o){return{providerId:o}};function Re(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"ui-formly-json-form",2),e.NdJ("formIsReady",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onResize())}),e.qZA()}if(2&o){const t=d.ngIf,i=e.oxw().ngIf,s=e.oxw();e.Q6J("showSubmitButton",!1)("componentStore",s.store)("model",e.VKq(4,$e,i))("formData",s.getFormData(t))}}function Ae(o,d){if(1&o&&(e.ynx(0),e.YNc(1,Re,1,6,"ui-formly-json-form",1),e.ALo(2,"async"),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.vm$))}}let Le=(()=>{class o extends Z{constructor(t){super(),this.store=t,this.pageName="Eop",this.portalName="Vendor",this.selectedProviderId$=this.store.selectedProviderId$,this.vm$=this.store.vm$,this.formData={pageName:this.pageName,portalName:this.portalName}}getFormData(t){return Object.assign(Object.assign({},t),{pageName:this.pageName,invoices:this.store.invoices$,attchment:this.store.attachment$,invoicesPaging$:this.store.invoicesPaging$,providers:this.store.providerOptions$,portalName:this.portalName})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Lt))},o.\u0275cmp=e.Xpm({type:o,selectors:[["provider-payments"]],features:[e._Bn([Lt,At.I,st.F]),e.qOj],decls:2,vars:3,consts:[[4,"ngIf"],["class","w-full h-full","formName","page_provider_invoices",3,"showSubmitButton","componentStore","model","formData","formIsReady",4,"ngIf"],["formName","page_provider_invoices",1,"w-full","h-full",3,"showSubmitButton","componentStore","model","formData","formIsReady"]],template:function(t,i){1&t&&(e.YNc(0,Ae,3,3,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,i.selectedProviderId$))},dependencies:[J.O5,Y.M,J.Ov]}),o})(),Ft=(()=>{class o extends j{constructor(t,i,s,n,c){super(c),this.data=t,this.toast=i,this.appointmentStore=s,this.router=n,this.locationAvalabilityId="",this.loading$=this.select(r=>r.loading),this.tag$=this.select(r=>r.tag),this.read$=this.select(r=>r.read),this.notifications$=this.select(r=>r.notifications),this.paging$=this.select(r=>r.paging),this.setTag=this.updater((r,a)=>Object.assign(Object.assign({},r),{tag:a})),this.setRead=this.updater((r,a)=>Object.assign(Object.assign({},r),{read:a})),this.vm$=this.select(this.loading$,this.user$,this.notifications$,this.vendor$,(r,a,l,f)=>({loading:r,user:a,notifications:l,vendor:f})),this.setStatusWatch=this.effect(r=>r.pipe((0,I.b)(a=>{this.patchState({loading:!0})}),(0,P.w)(a=>this.data.updateReadStatus({notificationId:a}).pipe((0,N._b)(l=>{this.patchState({loading:!1})},l=>{this.patchState({loading:!1})}))))),this.loadNotificationsEffect=this.effect(r=>r.pipe((0,I.b)(()=>{this.patchState({loading:!0,notifications:[]})}),(0,L.M)(this.tag$,this.read$,this.paging$),(0,P.w)(([,a,l,f])=>this.data.userNovuNotifications({input:{tag:a,read:l,limit:f?.limit,skip:f?.skip}}).pipe((0,N._b)(b=>{var S,D,u,h;this.patchState({paging:{limit:null===(S=b.data.count)||void 0===S?void 0:S.limit,skip:null===(D=b.data.count)||void 0===D?void 0:D.skip,total:null===(u=b.data.count)||void 0===u?void 0:u.total},loading:!1,notifications:null!==(h=b.data.notifications)&&void 0!==h?h:[]})},b=>{console.log(b),this.patchState({loading:!1})}))))),this.setLimit=this.updater((r,a)=>Object.assign(Object.assign({},r),{paging:Object.assign(Object.assign({},r.paging),{limit:a})})),this.setSkip=this.updater((r,a)=>Object.assign(Object.assign({},r),{paging:Object.assign(Object.assign({},r.paging),{skip:a})})),this.setLimit(10),this.setSkip(0)}skipDidChange(t){this.setSkip(t),this.loadNotificationsEffect()}tagQueryDidChange(t){this.setTag(t),this.loadNotificationsEffect()}readFilterDidChange(t){this.setRead("read"===t),this.loadNotificationsEffect()}checkInAppointment(t){const{id:i,appointment:s}=t;if(s){this.appointmentStore.checkInAppointmentEffect(s);const n=this.appointmentStore.actionResult$.subscribe(c=>{const{done:r}=c;r&&(n.unsubscribe(),this.data.updateReadStatus({notificationId:i}).subscribe(),this.router.navigate(["dashboard"]))})}else this.toast.error("Cannot find appointment data")}cancelAppointment(t){const{id:i,appointment:s}=t;if(s){this.appointmentStore.cancelAppointmentEffect(s);const n=this.appointmentStore.actionResult$.subscribe(c=>{const{done:r}=c;r&&(n.unsubscribe(),this.data.updateReadStatus({notificationId:i}).subscribe(),this.router.navigate(["dashboard"]))})}else this.toast.error("Cannot find appointment data")}hideAppointment(t){const{id:i,appointment:s}=t;if(s){this.appointmentStore.hideAppointmentEffect(s);const n=this.appointmentStore.actionResult$.subscribe(c=>{const{done:r}=c;r&&(n.unsubscribe(),this.data.updateReadStatus({notificationId:i}).subscribe(),this.router.navigate(["dashboard"]))})}else this.toast.error("Cannot find appointment data")}setDocumentsUploadModalCtrl(t){this.documentsUploadModalCtrl=t}openDocumentsUploadModal(t){var i,s,n;const{id:c,appointment:r}=t;null===(i=this.documentsUploadModalCtrl)||void 0===i||i.open({notificationId:c,appointmentId:null===(s=t.appointment)||void 0===s?void 0:s.id,appointmentName:null===(n=t.appointment)||void 0===n?void 0:n.name,bill:r?.bill,medicalReport:r?.medicalReport,imaging:r?.imaging,miscellaneous:r?.miscellaneous},{},this)}uploadDocuments(t){const{notificationId:i,appointmentId:s,appointmentName:n,bill:c,medicalReport:r,imaging:a,miscellaneous:l}=t,f=this.appointmentStore.actionResult$.subscribe(b=>{var S;const{done:D}=b;D&&(f.unsubscribe(),this.data.updateReadStatus({notificationId:i}).subscribe(),null===(S=this.documentsUploadModalCtrl)||void 0===S||S.close(),this.router.navigate(["dashboard"]))});this.appointmentStore.updateAppointmentEffect({bill:c,medicalReport:r,imaging:a,miscellaneous:l,id:s,name:n})}setRescheduleModalCtrl(t){this.rescheduleModalCtrl=t}openRescheduleModal(t){var i;const{id:s,appointment:n}=t;null===(i=this.rescheduleModalCtrl)||void 0===i||i.open({notificationId:s,appointmentId:n?.id,appointmentName:n?.name},{},this)}rescheduleAppoitment(t){const{notificationId:i,appointmentId:s,appointmentName:n,rescheduleDate:c}=t;console.log({appointmentId:s,appointmentName:n,rescheduleDate:c});const r=this.appointmentStore.actionResult$.subscribe(a=>{var l;const{done:f}=a;f&&(r.unsubscribe(),null===(l=this.rescheduleModalCtrl)||void 0===l||l.close(),this.data.updateReadStatus({notificationId:i}).subscribe(),this.router.navigate(["dashboard"]))});this.appointmentStore.rescehduleAppointmentEffect({appointment:{id:s,name:n},rescheduleDate:c})}getInitialState(){return{query:"",loading:!1,notifications:[],tag:"",read:!1}}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(H.q),e.LFG(et.F),e.LFG(X.L6),e.LFG(it.F0),e.LFG(e.zs3))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();const Fe=function(o){return{providerId:o}};function Oe(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"ui-formly-json-form",2),e.NdJ("formIsReady",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onResize())}),e.qZA()}if(2&o){const t=d.ngIf,i=e.oxw().ngIf,s=e.oxw();e.Q6J("showSubmitButton",!1)("componentStore",s.store)("model",e.VKq(4,Fe,i))("formData",s.getFormData(t))}}function we(o,d){if(1&o&&(e.ynx(0),e.YNc(1,Oe,1,6,"ui-formly-json-form",1),e.ALo(2,"async"),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.vm$))}}let De=(()=>{class o extends Z{constructor(t){super(),this.store=t,this.portalName="Vendor",this.pageName="Tasks",this.selectedProviderId$=this.store.selectedProviderId$,this.vm$=this.store.vm$}getFormData(t){return Object.assign(Object.assign({},t),{pageName:this.pageName,providers:this.store.providerOptions$,portalName:this.portalName,paging:this.store.paging$})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Ft))},o.\u0275cmp=e.Xpm({type:o,selectors:[["provider-notifications"]],features:[e._Bn([Ft,X.L6]),e.qOj],decls:2,vars:3,consts:[[4,"ngIf"],["class","w-full h-full","formName","page_provider_notifications",3,"showSubmitButton","componentStore","model","formData","formIsReady",4,"ngIf"],["formName","page_provider_notifications",1,"w-full","h-full",3,"showSubmitButton","componentStore","model","formData","formIsReady"]],template:function(t,i){1&t&&(e.YNc(0,we,3,3,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,i.selectedProviderId$))},dependencies:[J.O5,Y.M,J.Ov]}),o})();var Ot=C(57795),wt=C(47380),Dt=C(6506),xt=C(96236),xe=C(59443),dt=C(53783),vt=C(60515),pt=C(54004),Et=C(70262),jt=C(4523),mt=C(56869),rt=C(71767);class ht extends rt.T_{constructor(d){super(),this.showRuleMessages=!0,this.hideRuleMessages=!1,this.actionName=d}Do(d){return this.businessProvider=d,this.serviceContext=d.serviceContext,this.loggingService=d.loggingService,this.execute(),this.response}}var Q=C(26177);class Ee extends ht{constructor(d,t,i,s,n,c){super("ValidateReferralRequestExcelDataAction"),this.valid=!1,this.excelData=d,this.patients=t,this.legalCases=i,this.requestingProviders=s,this.referredTos=n,this.referredToLocations=c}preValidateAction(){const d=[];this.excelData.map((t,i)=>{d.push(t.name),this.validationContext.addRule(new Q.mi(`patientName_${i}_is_valid}`,"Patient Is Not Valid","patient.name",t.patient,this.patients,!0)),this.validationContext.addRule(new Q.mi(`legalCaseName_${i}_is_valid}`,"Legal Case Is Not Valid","legalCase.name",t.legalCase,this.legalCases,!0)),this.validationContext.addRule(new Q.mi(`requestingProviderName_${i}_is_valid}`,"Requesting Provider Is Not Valid","requestingProvider.name",t.requestingProvider,this.requestingProviders,!0)),this.validationContext.addRule(new Q.mi(`referredToName_${i}_is_valid}`,"Referred to Is Not Valid","referredTo.name",t.referredTo,this.referredTos,!0)),this.validationContext.addRule(new Q.mi(`referredToLocationName_${i}_is_valid}`,"Referred to Location Is Not Valid","referredToLocation.name",t.referredToLocation,this.referredToLocations,!0))}),this.validationContext.addRule(new Q.cL("nameIsUnique","Name should be unique",d,!0))}performAction(){}finish(){super.finish();const d={};let t=[];this.validationContext.hasRuleViolations()?(this.valid=!1,this.validationContext.rules.map(i=>{i instanceof Q.mi?i.isValid||(d[i.columnName]?d[i.columnName].newNames.includes(i.newName)||d[i.columnName].newNames.push(i.newName):d[i.columnName]={options:i.possibleValueList.map(s=>s.name),newNames:[i.newName]}):i instanceof Q.cL&&(i.isValid||(t=i.conflicts))})):this.valid=!0,this.response=(0,F.of)({valid:this.valid,excelData:this.excelData,conflictNames:t,unknownNames:d})}}var Tt=C(28234);class je extends Q.wS{constructor(d,t,i,s,n){super(d,t,i,s,n,!0)}}class Te extends Q.ul{constructor(d,t,i,s=!1){super(d,t,s),this.displayToUser=!0,this.doNotDisplayToUser=!1,this.target=i,this.configureRules()}configureRules(){this.rules.push(new Q.DJ("NotificationIsNotNull","The form message cannot be null or undefined.",this.target,this.doNotDisplayToUser)),this.rules.push(new je("name","The referralrequest name is not valid. Must be within 2 and 255 characters.",this.target.name,2,255))}}class Ne extends ht{constructor(d){super("CreateReferralRequestAction"),this.input=d}preValidateAction(){this.validationContext.addRule(new Te("InputIsNotNull","The input information is not valid.",this.input,this.showRuleMessages))}performAction(){this.response=this.businessProvider.data.userCreateReferralRequest({input:this.input}).pipe((0,P.w)(d=>(0,Tt.of)(d.data.created)))}}class qe extends ht{constructor(d){super("UpdateReferralRequestsAction"),this.referralRequests=d}preValidateAction(){this.validationContext.addRule(new Q.DJ("Input","Input should have values",this.referralRequests,!0))}performAction(){this.response=this.businessProvider.data.userUpdateReferralRequests({input:{referralRequests:this.referralRequests}}).pipe((0,P.w)(d=>(0,F.of)(d.data.updated)))}}class Be extends ht{constructor(d,t){super("UpdateReferralRequestAction"),this.referralRequest=d,this.referralRequestId=t}preValidateAction(){this.validationContext.addRule(new Q.DJ("Input","Input should have values",this.referralRequest,!0)).addRule(new Q.xF("Id","Id should be a CUID and not null",this.referralRequestId,!0))}performAction(){this.response=this.businessProvider.data.userUpdateReferralRequest({referralRequestId:this.referralRequestId,input:this.referralRequest}).pipe((0,P.w)(d=>(0,F.of)(d.data.updated)))}}let Nt=(()=>{class o extends rt.nH{constructor(t,i,s){super("NotificationService.ReferralRequestBusinessProviderService",t,s),this.data=i}createReferralRequest(t){const i=new Ne(t);return i.Do(this),i.response}updateReferralRequest(t,i){const s=new Be(t,i);return s.Do(this),s.response}importReferralRequests(t){const i=new qe(t);return i.Do(this),i.response}validateReferralRequestExcelData(t,i,s,n,c,r){const a=new Ee(t,i,s,n,c,r);return a.Do(this),a.response}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(mt.ed),e.LFG(H.q),e.LFG(rt.oI))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),Ge=(()=>{class o extends rt.nH{constructor(t,i,s){super("ReferralRequestService",s,t),this.businessProvider=i}createReferralRequest(t){return this.businessProvider.createReferralRequest(t)}updateReferralRequest(t,i){return this.businessProvider.updateReferralRequest(t,i)}importReferralRequests(t){return this.businessProvider.importReferralRequests(t)}validateReferralRequestExcelData(t,i,s,n,c,r){return this.businessProvider.validateReferralRequestExcelData(t,i,s,n,c,r)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(Nt,8),e.LFG(Nt),e.LFG(mt.ed))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),qt=(()=>{class o extends N.m1{constructor(t,i,s,n,c,r){if(super({loading:!1,referralRequests:[],done:!1,searchQuery:"",formName:void 0,patientId:void 0,legalCaseId:void 0,requestingProviderId:void 0,referredToId:void 0,clinicalProviderLocationId:void 0,paging:{limit:1e4,skip:0}}),this.data=t,this.router=i,this.route=s,this.toast=n,this.formService=c,this.referralRequestService=r,this.errors$=this.select(u=>u.errors),this.loading$=this.select(u=>u.loading),this.done$=this.select(u=>u.done),this.item$=this.select(u=>u.item),this.referralRequests$=this.select(u=>u.referralRequests),this.patients$=this.select(u=>u.patients||[]),this.legalCases$=this.select(u=>u.legalCases||[]),this.clinicalProviders$=this.select(u=>u.clinicalProviders||[]),this.clinicalProviderLocations$=this.select(u=>u.clinicalProviderLocations||[]),this.patientId$=this.select(u=>u.patientId),this.legalCaseId$=this.select(u=>u.legalCaseId),this.requestingProviderId$=this.select(u=>u.requestingProviderId),this.referredToId$=this.select(u=>u.referredToId),this.clinicalProviderLocationId$=this.select(u=>u.clinicalProviderLocationId),this.paging$=this.select(u=>u.paging),this.searchQuery$=this.select(u=>u.searchQuery),this.formName$=this.select(u=>u.formName),this.actionResult$=this.select(this.item$,this.done$,(u,h)=>({item:u,done:h}),{debounce:!0}),this.vm$=this.select(this.errors$,this.loading$,this.item$,this.formName$,this.referralRequests$,this.patients$,this.legalCases$,this.clinicalProviders$,this.clinicalProviderLocations$,(u,h,p,m,M,_,x,q,A)=>({errors:u,loading:h,item:p,formName:m,referralRequests:M,patients:_,legalCases:x,clinicalProviders:q,clinicalProviderLocations:A}),{debounce:!0}),this.input$=this.select(this.paging$,this.patientId$,this.legalCaseId$,this.requestingProviderId$,this.referredToId$,this.clinicalProviderLocationId$,this.searchQuery$,(u,h,p,m,M,_,x)=>({limit:u.limit,skip:u.skip,name:x,patientId:h,legalCaseId:p,requestingProviderId:m,referredToId:M,clinicalProviderLocationId:_,total:u.total})),this.setFormName=this.updater((u,h)=>Object.assign(Object.assign({},u),{formName:h})),this.setPatientId=this.updater((u,h)=>Object.assign(Object.assign({},u),{patientId:h})),this.setLegalCaseId=this.updater((u,h)=>Object.assign(Object.assign({},u),{legalCaseId:h})),this.setRequestingProviderId=this.updater((u,h)=>Object.assign(Object.assign({},u),{requestingProviderId:h})),this.setReferredToId=this.updater((u,h)=>Object.assign(Object.assign({},u),{referredToId:h})),this.setClinicalProviderLocationId=this.updater((u,h)=>Object.assign(Object.assign({},u),{clinicalProviderLocationId:h})),this.filterPatients=u=>this.data.userSelectPatients({input:{name:u}}).pipe((0,N._b)(h=>{let p=h.data.items;return this.patchState({patients:p}),p},h=>this.patchState({errors:h.graphQLErrors?h.graphQLErrors:h})),(0,pt.U)(h=>h.data.items)),this.filterLegalCases=u=>this.data.userSelectLegalCases({input:{name:u}}).pipe((0,N._b)(h=>{let p=h.data.items;return this.patchState({legalCases:p}),p},h=>this.patchState({errors:h.graphQLErrors?h.graphQLErrors:h})),(0,pt.U)(h=>h.data.items)),this.filterClinicalProviders=u=>this.data.userSelectClinicalProviders({input:{name:u}}).pipe((0,N._b)(h=>{let p=h.data.items;return this.patchState({clinicalProviders:p}),p},h=>this.patchState({errors:h.graphQLErrors?h.graphQLErrors:h})),(0,pt.U)(h=>h.data.items)),this.filterClinicalProviderLocations=u=>this.data.userSelectClinicalProviderLocations({input:{name:u}}).pipe((0,N._b)(h=>{let p=h.data.items;return this.patchState({clinicalProviderLocations:p}),p},h=>this.patchState({errors:h.graphQLErrors?h.graphQLErrors:h})),(0,pt.U)(h=>h.data.items)),this.addPatient=this.updater((u,h)=>Object.assign(Object.assign({},u),{patients:u.patients.concat(h)})),this.addLegalCase=this.updater((u,h)=>Object.assign(Object.assign({},u),{legalCases:u.legalCases.concat(h)})),this.addClinicalProvider=this.updater((u,h)=>Object.assign(Object.assign({},u),{clinicalProviders:u.clinicalProviders.concat(h)})),this.addClinicalProviderLocation=this.updater((u,h)=>Object.assign(Object.assign({},u),{clinicalProviderLocations:u.clinicalProviderLocations.concat(h)})),this.setItem=this.updater((u,h)=>Object.assign(Object.assign({},u),{item:h})),this.addNewReferralRequest=this.updater((u,h)=>Object.assign(Object.assign({},u),{referralRequests:[...u.referralRequests,h]})),this.updateReferralRequest=this.updater((u,h)=>Object.assign(Object.assign({},u),{referralRequests:u.referralRequests.map(p=>p.id===h.id?h:p)})),this.addReferralRequests=this.updater((u,h)=>Object.assign(Object.assign({},u),{referralRequests:u.referralRequests.concat(h)})),this.updateReferralRequests=this.updater((u,h)=>Object.assign(Object.assign({},u),{referralRequests:u.referralRequests.map(p=>h.find(M=>M.id===p.id)||p)})),this.setSearchQuery=this.updater((u,h)=>Object.assign(Object.assign({},u),{searchQuery:h})),this.loadReferralRequestEffect=this.effect(u=>u.pipe((0,I.b)(()=>this.patchState({loading:!0})),(0,P.w)(h=>this.data.userReferralRequest({referralRequestId:h}).pipe((0,N._b)(p=>{this.patchState({item:p.data.item,errors:p.errors,loading:!1})},p=>this.patchState({loading:!1,errors:p.graphQLErrors?p.graphQLErrors:p})))))),this.loadReferralRequestsEffect=this.effect(u=>u.pipe((0,I.b)(()=>this.patchState({loading:!0})),(0,L.M)(this.input$),(0,P.w)(([h,p])=>this.data.userReferralRequests({input:p}).pipe((0,N._b)(m=>this.patchState({paging:{limit:p.limit,skip:p.skip,total:m.data.count.total},referralRequests:m.data.items,errors:m.errors,loading:!1}),m=>this.patchState({loading:!1,errors:m.graphQLErrors?m.graphQLErrors:m})))))),this.createReferralRequestEffect=this.effect(u=>u.pipe((0,I.b)(()=>this.patchState({loading:!0})),(0,P.w)(h=>this.referralRequestService.createReferralRequest(Object.assign({},h)).pipe((0,N._b)(p=>{this.addNewReferralRequest(p),this.toast.success("Created Successfully!"),setTimeout(()=>this.patchState({item:p,loading:!1,done:!0}),300),setTimeout(()=>this.patchState({done:!1,item:null}),600)},p=>{console.log(p),p.graphQLErrors?(this.toast.error(p.graphQLErrors[0].message,{duration:3e3}),this.patchState({loading:!1,errors:p.graphQLErrors?p.graphQLErrors:p})):(this.toast.error(p.Message),this.formService.setErrors(p.Data))}))))),this.updateReferralRequestEffect=this.effect(u=>u.pipe((0,I.b)(()=>this.patchState({loading:!0})),(0,L.M)(this.item$),(0,P.w)(([h,p])=>this.referralRequestService.updateReferralRequest(h,h.id).pipe((0,N._b)(m=>{this.updateReferralRequest(m),this.toast.success("Updated Successfully!"),setTimeout(()=>this.patchState({item:m,loading:!1,done:!0}),300),setTimeout(()=>this.patchState({done:!1,item:null}),600)},m=>{m.graphQLErrors?(this.toast.error(m.graphQLErrors[0].message,{duration:3e3}),this.patchState({loading:!1,errors:m.graphQLErrors?m.graphQLErrors:m})):(this.toast.error(m.Message),this.formService.setErrors(m.Data))}))))),this.deleteReferralRequestEffect=this.effect(u=>u.pipe((0,I.b)(()=>this.patchState({loading:!0})),(0,L.M)(this.item$),(0,P.w)(([h,p])=>this.data.userDeleteReferralRequest({referralRequestId:p.id}).pipe((0,N._b)(m=>{this.toast.success("Deleted successfully!",{duration:3e3}),setTimeout(()=>this.patchState({item:m.data.deleted,loading:!1,done:!0}),300),setTimeout(()=>this.patchState({done:!1,item:null}),600)},m=>{m.graphQLErrors?(this.toast.error(m.graphQLErrors[0].message,{duration:3e3}),this.patchState({loading:!1,errors:m.graphQLErrors?m.graphQLErrors:m})):(this.toast.error(m.Message),this.formService.setErrors(m.Data))}))))),this.importExcelEffect=this.effect(u=>u.pipe((0,I.b)(()=>this.patchState({loading:!0})),(0,P.w)(h=>this.referralRequestService.importReferralRequests(h).pipe((0,Et.K)(p=>{var m;return this.toast.error(null!==(m=p.Message)&&void 0!==m?m:"Failed to save",{duration:3e3}),vt.E}),(0,I.b)(p=>{const m=JSON.parse(p.created),M=JSON.parse(p.updated),_=JSON.parse(p.failed),x=m.length+M.length+_.length;this.addReferralRequests(m),this.updateReferralRequests(M),this.toast.success(`${m.length} created, ${M.length} updated, ${_.length} failed of total ${x}`,{duration:3e3})}))))),this.route.snapshot.paramMap.has("referralRequestId")?(this.route.snapshot.paramMap.get("referralRequestId"),this.setFormName("referralRequest_edit")):this.setFormName("referralRequest_create"),this.route.snapshot.paramMap.has("patientId")){var l=this.route.snapshot.paramMap.get("patientId");this.setPatientId(l)}if(this.route.snapshot.paramMap.has("legalCaseId")){var f=this.route.snapshot.paramMap.get("legalCaseId");this.setLegalCaseId(f)}if(this.route.snapshot.paramMap.has("requestingProviderId")){var b=this.route.snapshot.paramMap.get("requestingProviderId");this.setRequestingProviderId(b)}if(this.route.snapshot.paramMap.has("referredToId")){var S=this.route.snapshot.paramMap.get("referredToId");this.setReferredToId(S)}if(this.route.snapshot.paramMap.has("clinicalProviderLocationId")){var D=this.route.snapshot.paramMap.get("clinicalProviderLocationId");this.setClinicalProviderLocationId(D)}}validateImportData(t){return this.vm$.pipe((0,P.w)(i=>this.referralRequestService.validateReferralRequestExcelData(t,i.patients,i.legalCases,i.clinicalProviders,i.clinicalProviders,i.clinicalProviderLocations)))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(H.q),e.LFG(it.F0),e.LFG(it.gz),e.LFG(et.F),e.LFG(jt.o),e.LFG(Ge))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})(),Bt=(()=>{class o extends N.m1{constructor(t,i,s){super({query:"",loading:!1,centerLocation:void 0,centerLatitude:void 0,centerLongitude:void 0}),this.specialtyStore=t,this.referralRequestStore=i,this.clinicalProviderLocationStore=s,this.centerLongitude$=this.select(n=>n.centerLongitude),this.centerLatitude$=this.select(n=>n.centerLatitude),this.centerLocation$=this.select(n=>n.centerLocation),this.loading$=this.select(n=>n.loading),this.created$=this.select(n=>n.created),this.searchable$=this.select(this.centerLongitude$,this.centerLatitude$,(n,c)=>n&&c),this.providerLocationsAll$=this.select(this.clinicalProviderLocationStore.formattedClinicalProviderLocations$,n=>n.map(c=>Object.assign(Object.assign({},c),{viewSelectProvider:!0}))),this.providerLocations$=this.providerLocationsAll$.pipe((0,I.b)(n=>{var c;return null===(c=this.referralModalCtrl)||void 0===c?void 0:c.update({doctorsCount:n.length},{})})),this.mapProviderLocations$=this.select(this.providerLocations$,n=>n.map(c=>{var r,a;return Object.assign(Object.assign({},c),{latitude:null===(r=c.location)||void 0===r?void 0:r.latitude,longitude:null===(a=c.location)||void 0===a?void 0:a.longitude})})),this.specialties$=this.specialtyStore.specialties$,this.locationsCount$=this.select(this.providerLocations$,n=>n?.length),this.vm$=this.select(this.loading$,this.locationsCount$,this.centerLatitude$,this.centerLongitude$,(n,c,r,a)=>({loading:n,doctorsCount:c,centerLatitude:r,centerLongitude:a})),this.setCenterLatitude=this.updater((n,c)=>Object.assign(Object.assign({},n),{centerLatitude:c?.toString()})),this.setCenterLongitude=this.updater((n,c)=>Object.assign(Object.assign({},n),{centerLongitude:c?.toString()})),this.setCenterLocation=this.updater((n,c)=>Object.assign(Object.assign({},n),{centerLocation:c})),this.searchProviderLocationsEffect=this.effect(n=>n.pipe((0,I.b)(()=>{this.patchState({loading:!0})}),(0,L.M)(this.searchable$),(0,P.w)(([,c])=>(console.log({searchable:c}),c&&this.clinicalProviderLocationStore.loadClinicalProviderLocationsEffect(),(0,F.of)(!0))))),this.specialtyStore.loadSpecialtiesEffect(),this.clinicalProviderLocationStore.setDistance(15)}setModalCtrl(t){this.referralModalCtrl=t}filterByLocation(t){var i;console.log("location",t),this.clinicalProviderLocationStore.setCenterLocation(t),null===(i=this.referralModalCtrl)||void 0===i||i.update({centerlatitude:t[0],centerlongitude:t[1]},{}),this.searchProviderLocationsEffect()}filterByDistance(t){t&&(localStorage.setItem("distanceFilter",t?.toString()),this.clinicalProviderLocationStore.setDistance(Number(t)),this.searchProviderLocationsEffect())}searchQueryDidChange(t){localStorage.setItem("queryFilter",t),this.clinicalProviderLocationStore.setProviderName(t),this.searchProviderLocationsEffect()}filterBySpecialist(t){localStorage.setItem("specialtyFilter",t.join(",")),this.clinicalProviderLocationStore.setSpecialties(t),this.searchProviderLocationsEffect()}createReferralRequestEffect(t){console.log(t);const i=this.referralRequestStore.actionResult$.subscribe(s=>{const{done:n}=s;n&&(this.patchState({created:!0}),setTimeout(()=>{this.patchState({created:!1})},600),i.unsubscribe())});this.referralRequestStore.createReferralRequestEffect(t)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(dt.T),e.LFG(qt),e.LFG(w.j))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();class ft extends rt.T_{constructor(d){super(),this.showRuleMessages=!0,this.hideRuleMessages=!1,this.actionName=d}Do(d){return this.businessProvider=d,this.serviceContext=d.serviceContext,this.loggingService=d.loggingService,this.execute(),this.response}}class He extends ft{constructor(d){super("ValidateProcedureOrTreatmentRequestExcelDataAction"),this.valid=!1,this.excelData=d}preValidateAction(){const d=[];this.excelData.map((t,i)=>{d.push(t.name)}),this.validationContext.addRule(new Q.cL("nameIsUnique","Name should be unique",d,!0))}performAction(){}finish(){super.finish();const d={};let t=[];this.validationContext.hasRuleViolations()?(this.valid=!1,this.validationContext.rules.map(i=>{i instanceof Q.mi?i.isValid||(d[i.columnName]?d[i.columnName].newNames.includes(i.newName)||d[i.columnName].newNames.push(i.newName):d[i.columnName]={options:i.possibleValueList.map(s=>s.name),newNames:[i.newName]}):i instanceof Q.cL&&(i.isValid||(t=i.conflicts))})):this.valid=!0,this.response=(0,F.of)({valid:this.valid,excelData:this.excelData,conflictNames:t,unknownNames:d})}}class Ue extends Q.wS{constructor(d,t,i,s,n){super(d,t,i,s,n,!0)}}class Ve extends Q.ul{constructor(d,t,i,s=!1){super(d,t,s),this.displayToUser=!0,this.doNotDisplayToUser=!1,this.target=i,this.configureRules()}configureRules(){this.rules.push(new Q.DJ("NotificationIsNotNull","The form message cannot be null or undefined.",this.target,this.doNotDisplayToUser)),this.rules.push(new Ue("name","The procedureortreatmentrequest name is not valid. Must be within 2 and 255 characters.",this.target.name,2,255))}}class Je extends ft{constructor(d){super("CreateProcedureOrTreatmentRequestAction"),this.input=d}preValidateAction(){this.validationContext.addRule(new Ve("InputIsNotNull","The input information is not valid.",this.input,this.showRuleMessages))}performAction(){this.response=this.businessProvider.data.userCreateProcedureOrTreatmentRequest({input:this.input}).pipe((0,P.w)(d=>(0,Tt.of)(d.data.created)))}}class ze extends ft{constructor(d){super("UpdateProcedureOrTreatmentRequestsAction"),this.procedureOrTreatmentRequests=d}preValidateAction(){this.validationContext.addRule(new Q.DJ("Input","Input should have values",this.procedureOrTreatmentRequests,!0))}performAction(){this.response=this.businessProvider.data.userUpdateProcedureOrTreatmentRequests({input:{procedureOrTreatmentRequests:this.procedureOrTreatmentRequests}}).pipe((0,P.w)(d=>(0,F.of)(d.data.updated)))}}class Ze extends ft{constructor(d,t){super("UpdateProcedureOrTreatmentRequestAction"),this.procedureOrTreatmentRequest=d,this.procedureOrTreatmentRequestId=t}preValidateAction(){this.validationContext.addRule(new Q.DJ("Input","Input should have values",this.procedureOrTreatmentRequest,!0)).addRule(new Q.xF("Id","Id should be a CUID and not null",this.procedureOrTreatmentRequestId,!0))}performAction(){this.response=this.businessProvider.data.userUpdateProcedureOrTreatmentRequest({procedureOrTreatmentRequestId:this.procedureOrTreatmentRequestId,input:this.procedureOrTreatmentRequest}).pipe((0,P.w)(d=>(0,F.of)(d.data.updated)))}}let Gt=(()=>{class o extends rt.nH{constructor(t,i,s){super("NotificationService.ProcedureOrTreatmentRequestBusinessProviderService",t,s),this.data=i}createProcedureOrTreatmentRequest(t){const i=new Je(t);return i.Do(this),i.response}updateProcedureOrTreatmentRequest(t,i){const s=new Ze(t,i);return s.Do(this),s.response}importProcedureOrTreatmentRequests(t){const i=new ze(t);return i.Do(this),i.response}validateProcedureOrTreatmentRequestExcelData(t){const i=new He(t);return i.Do(this),i.response}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(mt.ed),e.LFG(H.q),e.LFG(rt.oI))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),Qe=(()=>{class o extends rt.nH{constructor(t,i,s){super("ProcedureOrTreatmentRequestService",s,t),this.businessProvider=i}createProcedureOrTreatmentRequest(t){return this.businessProvider.createProcedureOrTreatmentRequest(t)}updateProcedureOrTreatmentRequest(t,i){return this.businessProvider.updateProcedureOrTreatmentRequest(t,i)}importProcedureOrTreatmentRequests(t){return this.businessProvider.importProcedureOrTreatmentRequests(t)}validateProcedureOrTreatmentRequestExcelData(t){return this.businessProvider.validateProcedureOrTreatmentRequestExcelData(t)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(Gt,8),e.LFG(Gt),e.LFG(mt.ed))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),Ht=(()=>{class o extends N.m1{constructor(t,i,s,n,c,r){super({loading:!1,procedureOrTreatmentRequests:[],done:!1,searchQuery:"",formName:void 0,paging:{limit:1e4,skip:0}}),this.data=t,this.router=i,this.route=s,this.toast=n,this.formService=c,this.procedureOrTreatmentRequestService=r,this.errors$=this.select(l=>l.errors),this.loading$=this.select(l=>l.loading),this.done$=this.select(l=>l.done),this.item$=this.select(l=>l.item),this.procedureOrTreatmentRequests$=this.select(l=>l.procedureOrTreatmentRequests),this.paging$=this.select(l=>l.paging),this.searchQuery$=this.select(l=>l.searchQuery),this.formName$=this.select(l=>l.formName),this.actionResult$=this.select(this.item$,this.done$,(l,f)=>({item:l,done:f}),{debounce:!0}),this.vm$=this.select(this.errors$,this.loading$,this.item$,this.formName$,this.procedureOrTreatmentRequests$,(l,f,b,S,D)=>({errors:l,loading:f,item:b,formName:S,procedureOrTreatmentRequests:D}),{debounce:!0}),this.input$=this.select(this.paging$,this.searchQuery$,(l,f)=>({limit:l.limit,skip:l.skip,name:f,total:l.total})),this.setFormName=this.updater((l,f)=>Object.assign(Object.assign({},l),{formName:f})),this.setItem=this.updater((l,f)=>Object.assign(Object.assign({},l),{item:f})),this.addNewProcedureOrTreatmentRequest=this.updater((l,f)=>Object.assign(Object.assign({},l),{procedureOrTreatmentRequests:[...l.procedureOrTreatmentRequests,f]})),this.updateProcedureOrTreatmentRequest=this.updater((l,f)=>Object.assign(Object.assign({},l),{procedureOrTreatmentRequests:l.procedureOrTreatmentRequests.map(b=>b.id===f.id?f:b)})),this.addProcedureOrTreatmentRequests=this.updater((l,f)=>Object.assign(Object.assign({},l),{procedureOrTreatmentRequests:l.procedureOrTreatmentRequests.concat(f)})),this.updateProcedureOrTreatmentRequests=this.updater((l,f)=>Object.assign(Object.assign({},l),{procedureOrTreatmentRequests:l.procedureOrTreatmentRequests.map(b=>f.find(D=>D.id===b.id)||b)})),this.setSearchQuery=this.updater((l,f)=>Object.assign(Object.assign({},l),{searchQuery:f})),this.loadProcedureOrTreatmentRequestEffect=this.effect(l=>l.pipe((0,I.b)(()=>this.patchState({loading:!0})),(0,P.w)(f=>this.data.userProcedureOrTreatmentRequest({procedureOrTreatmentRequestId:f}).pipe((0,N._b)(b=>{this.patchState({item:b.data.item,errors:b.errors,loading:!1})},b=>this.patchState({loading:!1,errors:b.graphQLErrors?b.graphQLErrors:b})))))),this.loadProcedureOrTreatmentRequestsEffect=this.effect(l=>l.pipe((0,I.b)(()=>this.patchState({loading:!0})),(0,L.M)(this.input$),(0,P.w)(([f,b])=>this.data.userProcedureOrTreatmentRequests({input:b}).pipe((0,N._b)(S=>this.patchState({paging:{limit:b.limit,skip:b.skip,total:S.data.count.total},procedureOrTreatmentRequests:S.data.items,errors:S.errors,loading:!1}),S=>this.patchState({loading:!1,errors:S.graphQLErrors?S.graphQLErrors:S})))))),this.createProcedureOrTreatmentRequestEffect=this.effect(l=>l.pipe((0,I.b)(()=>this.patchState({loading:!0})),(0,P.w)(f=>this.procedureOrTreatmentRequestService.createProcedureOrTreatmentRequest(Object.assign({},f)).pipe((0,N._b)(b=>{this.addNewProcedureOrTreatmentRequest(b),this.toast.success("Created Successfully!"),setTimeout(()=>this.patchState({item:b,loading:!1,done:!0}),300),setTimeout(()=>this.patchState({done:!1,item:null}),600)},b=>{b.graphQLErrors?(this.toast.error(b.graphQLErrors[0].message,{duration:3e3}),this.patchState({loading:!1,errors:b.graphQLErrors?b.graphQLErrors:b})):(this.toast.error(b.Message),this.formService.setErrors(b.Data))}))))),this.updateProcedureOrTreatmentRequestEffect=this.effect(l=>l.pipe((0,I.b)(()=>this.patchState({loading:!0})),(0,L.M)(this.item$),(0,P.w)(([f,b])=>this.procedureOrTreatmentRequestService.updateProcedureOrTreatmentRequest(f,f.id).pipe((0,N._b)(S=>{this.updateProcedureOrTreatmentRequest(S),this.toast.success("Updated Successfully!"),setTimeout(()=>this.patchState({item:S,loading:!1,done:!0}),300),setTimeout(()=>this.patchState({done:!1,item:null}),600)},S=>{S.graphQLErrors?(this.toast.error(S.graphQLErrors[0].message,{duration:3e3}),this.patchState({loading:!1,errors:S.graphQLErrors?S.graphQLErrors:S})):(this.toast.error(S.Message),this.formService.setErrors(S.Data))}))))),this.deleteProcedureOrTreatmentRequestEffect=this.effect(l=>l.pipe((0,I.b)(()=>this.patchState({loading:!0})),(0,L.M)(this.item$),(0,P.w)(([f,b])=>this.data.userDeleteProcedureOrTreatmentRequest({procedureOrTreatmentRequestId:b.id}).pipe((0,N._b)(S=>{this.toast.success("Deleted successfully!",{duration:3e3}),setTimeout(()=>this.patchState({item:S.data.deleted,loading:!1,done:!0}),300),setTimeout(()=>this.patchState({done:!1,item:null}),600)},S=>{S.graphQLErrors?(this.toast.error(S.graphQLErrors[0].message,{duration:3e3}),this.patchState({loading:!1,errors:S.graphQLErrors?S.graphQLErrors:S})):(this.toast.error(S.Message),this.formService.setErrors(S.Data))}))))),this.importExcelEffect=this.effect(l=>l.pipe((0,I.b)(()=>this.patchState({loading:!0})),(0,P.w)(f=>this.procedureOrTreatmentRequestService.importProcedureOrTreatmentRequests(f).pipe((0,Et.K)(b=>{var S;return this.toast.error(null!==(S=b.Message)&&void 0!==S?S:"Failed to save",{duration:3e3}),vt.E}),(0,I.b)(b=>{const S=JSON.parse(b.created),D=JSON.parse(b.updated),u=JSON.parse(b.failed),h=S.length+D.length+u.length;this.addProcedureOrTreatmentRequests(S),this.updateProcedureOrTreatmentRequests(D),this.toast.success(`${S.length} created, ${D.length} updated, ${u.length} failed of total ${h}`,{duration:3e3})}))))),this.route.snapshot.paramMap.has("procedureOrTreatmentRequestId")?(this.route.snapshot.paramMap.get("procedureOrTreatmentRequestId"),this.setFormName("procedureOrTreatmentRequest_edit")):this.setFormName("procedureOrTreatmentRequest_create")}validateImportData(t){return this.vm$.pipe((0,P.w)(i=>this.procedureOrTreatmentRequestService.validateProcedureOrTreatmentRequestExcelData(t)))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(H.q),e.LFG(it.F0),e.LFG(it.gz),e.LFG(et.F),e.LFG(jt.o),e.LFG(Qe))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})(),Ut=(()=>{class o extends N.m1{constructor(t,i){super({query:"",loading:!1}),this.toast=t,this.store=i,this.loading$=this.select(s=>s.loading),this.vm$=this.select(this.loading$,s=>({loading:s}))}setListener(t){this.listener=t}createProcedureRequest(t){const{patientName:i,patientId:s,legalCaseId:n,mrn:c,status:r,requestingProviderId:a}=t;console.log({patientName:i,patientId:s,legalCaseId:n,mrn:c,status:r,requestingProviderId:a});const l=`${i}_${c}_${a}`,f=this.store.actionResult$.subscribe(b=>{var S;const{done:D}=b;D&&(f.unsubscribe(),null===(S=this.listener)||void 0===S||S.procedureRequestModalActionCompleted())});this.store.createProcedureOrTreatmentRequestEffect({name:l,patientId:s,legalCaseId:n,requestingProviderId:a,status:r})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(et.F),e.LFG(Ht))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();var Vt=C(44288);let Jt=(()=>{class o extends N.m1{constructor(t){super({query:"",loading:!1}),this.store=t,this.loading$=this.select(i=>i.loading),this.vm$=this.select(this.loading$,i=>({loading:i}))}setListener(t){this.listener=t}createRecommendOrder(t){console.log("recorder-model",t);const{patientId:i,legalCaseId:s,patientName:n,mrn:c,status:r,requestingProviderId:a,diagnosisCodes:l}=t,f=`${n}_${c}_${a}_${W()(new Date).format("DD/MMMM/yyyy hh:mm:ss")}`,b=l?.map(D=>({diagnosisCodeId:D,name:""})),S=this.store.actionResult$.subscribe(D=>{var u;const{done:h}=D;h&&(S.unsubscribe(),null===(u=this.listener)||void 0===u||u.RecommendOrderModalActionCompleted())});this.store.createRecommendedOrderEffect({name:f,patientId:i,legalCaseId:s,status:r,requestingProviderId:a,diagnosisCodes:b})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(Vt.I))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})(),zt=(()=>{class o extends j{constructor(t,i,s,n,c,r,a,l,f,b,S,D,u,h,p,m,M,_,x){var q;if(super(n),this.calendarAppointmentStore=t,this.priorAppointmentStore=i,this.upcomingAppointmentStore=s,this.authorizationTypeStore=c,this.authorizationStore=r,this.data=a,this.datePipe=l,this.documentStore=f,this.medicalRecordStore=b,this.patientStore=S,this.prescriptionStore=D,this.route=u,this.toast=h,this.diagnosisCodeStore=p,this.referralCreateStore=m,this.procedureRequestStore=M,this.recommendOrderStore=_,this.providerStore=x,this.currentProviderId="",this.currentDateFilter={startDate:void 0,endDate:void 0,operator:"In"},this.providerOptionsForFilter$=this.select(this.providerStore.clinicalProviders$,g=>{const y=g?.map(v=>{const{id:O,name:B}=v;return{id:O,name:B}});return[{id:"all",name:"All"},...y]}),this.appointment$=this.select(g=>g.appointment),this.selectedMrn$=this.select(g=>g.selectedMrn),this.loading$=this.select(g=>g.loading),this.dateFilter$=this.select(g=>g.dateFilter),this.prescriptions$=this.prescriptionStore.prescriptions$,this.prescriptionsPaging$=this.prescriptionStore.paging$,this.medicalRecords$=this.select(this.medicalRecordStore.medicalRecords$,g=>{const y=g;return y.sort((v,O)=>T(v.createdAt).diff(T(O.createdAt))<0?1:-1),y.map(v=>{var O;return Object.assign(Object.assign({},v),{createdAt:null!==(O=this.datePipe.transform(v.createdAt,"MM/dd/yyyy","UTC"))&&void 0!==O?O:""})})}),this.authorizationTypes$=this.authorizationTypeStore.authorizationTypes$,this.authorizations$=this.authorizationStore.authorizations$,this.authorizationUpdateData$=this.select(this.authorizations$,g=>g?.map(y=>{const{id:v,name:O,unit:B,durationOrQuantity:z}=y;return{id:v,name:O,unit:B,durationOrQuantity:z}})),this.centerLongitude$=this.select(g=>g.centerLongitude),this.centerLatitude$=this.select(g=>g.centerLatitude),this.medicalRecordsPaging$=this.medicalRecordStore.paging$,this.patient$=this.select(this.patientStore.item$,g=>{var y,v,O,B;let z;g?.users&&g?.users.length>0&&(z=null===(y=g?.users[0])||void 0===y?void 0:y.avatarUrl);const G=(0,V.Ay)(null!==(v=g?.dateOfBirth)&&void 0!==v?v:new Date);return Object.assign(Object.assign({},g),{age:G,avatarUrl:z,gender:null!==(O=g?.gender)&&void 0!==O&&O.name?null===(B=g?.gender)||void 0===B?void 0:B.name:""})}),this.mrns$=this.select(this.patient$,g=>{var y;return null===(y=g.legalCases)||void 0===y?void 0:y.map(v=>({id:v.id,mrn:v.medicalRecordNumber}))}),this.legalCase$=this.select(this.patient$,this.selectedMrn$,(g,y)=>{var v;const O=null===(v=g?.legalCases)||void 0===v?void 0:v.find(B=>B.id===y);return console.log(O),O}),this.priorAppointments$=this.select(this.priorAppointmentStore.formattedAppointments$,this.patient$,(g,y)=>g.map(v=>Object.assign(Object.assign({},v),{patientLocation:{latitude:y?.latitude,longitude:y?.longitude}}))),this.priorAppointmentsPaging$=this.priorAppointmentStore.paging$,this.upcomingAppointments$=this.select(this.upcomingAppointmentStore.formattedAppointments$,this.patient$,(g,y)=>g.map(v=>Object.assign(Object.assign({},v),{patientLocation:{latitude:y?.latitude,longitude:y?.longitude}}))),this.upcomingAppointmentsPaging$=this.upcomingAppointmentStore.paging$,this.appointmentEvents$=this.select(this.calendarAppointmentStore.formattedAppointments$,g=>{const y=[];return g.forEach(v=>{var O,B,z,G,K;v?.end||(v.end=(0,V.xZ)(null!==(O=v.start)&&void 0!==O?O:"0:0",null!==(B=v.duration)&&void 0!==B?B:0)),v.appointmentDateAndTime&&v.start&&v.end>v.start&&y.push({id:v.id,start:new Date(`${T(v.appointmentDateAndTime).format("MM-DD-yyyy")} ${v.start}`),end:new Date(`${T(v.appointmentDateAndTime).format("MM-DD-yyyy")} ${null!==(z=v.end)&&void 0!==z?z:"?"}`),title:`${null===(G=v.clinicalProvider)||void 0===G?void 0:G.name} ${v.start} - ${null!==(K=v.end)&&void 0!==K?K:"?"}`,data:v})}),y}),this.diagnosisCodes$=this.select(this.diagnosisCodeStore.diagnosisCodes$,g=>g.map(y=>({id:y.id,title:y?.name}))),this.attachment$=this.documentStore.item$.pipe((0,I.b)(g=>{g&&!g.attachment&&this.toast.error("Cannot find attachment file!",{duration:2e3})})),this.vm$=this.select(this.loading$,this.upcomingAppointments$,this.priorAppointments$,this.appointmentEvents$,this.prescriptions$,this.medicalRecords$,this.patient$,this.legalCase$,(g,y,v,O,B,z,G,K)=>({loading:g,upcomingAppointments:y,priorAppointments:v,prescriptions:B,medicalRecords:z,patient:G,appointmentEvents:O,legalCase:K})),this.setDateFilter=this.updater((g,y)=>Object.assign(Object.assign({},g),{dateFilter:y})),this.setAppointment=this.updater((g,y)=>Object.assign(Object.assign({},g),{appointment:y})),this.setCenterLatitude=this.updater((g,y)=>Object.assign(Object.assign({},g),{centerLatitude:y.toString()})),this.setSelectedMrn=this.updater((g,y)=>Object.assign(Object.assign({},g),{selectedMrn:y})),this.setCenterLongitude=this.updater((g,y)=>Object.assign(Object.assign({},g),{centerLongitude:y.toString()})),this.setPatientIdForRecOrder=this.updater((g,y)=>Object.assign(Object.assign({},g),{patientIdForRecOrder:y})),this.uploadMedicalReportEffect=this.effect(g=>g.pipe((0,I.b)(()=>{this.patchState({loading:!0})}),(0,L.M)(this.appointment$),(0,P.w)(([y,v])=>{const{document:O}=y;return this.data.userUpdateAppointment({appointmentId:v?.id,input:{medicalReport:O,name:v?.name}}).pipe((0,N._b)(()=>{this.toast.success("Successfully uploaded medical report",{duration:2e3})},B=>{this.toast.error(B.graphQLErrors[0].message,{duration:2e3})}))}))),this.uploadBillEffect=this.effect(g=>g.pipe((0,I.b)(()=>{this.patchState({loading:!0})}),(0,L.M)(this.appointment$),(0,P.w)(([y,v])=>{const{document:O}=y;return this.data.userUpdateAppointment({appointmentId:v?.id,input:{bill:O,name:v?.name}}).pipe((0,N._b)(()=>{this.toast.success("Successfully uploaded bill document",{duration:2e3})},B=>{this.toast.error(B.graphQLErrors[0].message,{duration:2e3})}))}))),this.uploadImageEffect=this.effect(g=>g.pipe((0,I.b)(()=>{this.patchState({loading:!0})}),(0,L.M)(this.appointment$),(0,P.w)(([y,v])=>{const{document:O}=y;return this.data.userUpdateAppointment({appointmentId:v?.id,input:{imaging:O,name:v?.name}}).pipe((0,N._b)(()=>{this.toast.success("Successfully uploaded imaging document",{duration:2e3})},B=>{this.toast.error(B.graphQLErrors[0].message,{duration:2e3})}))}))),this.printEffect=this.effect(g=>g.pipe((0,I.b)(()=>{this.patchState({loading:!0})}),(0,P.w)(y=>this.data.getDocument(y).pipe((0,N._b)(v=>{if(!v?.attachment)return void this.toast.error("Cannot find attachment file!",{duration:2e3});const O=v?.attachment;if(O)if(O.search("image")>0){const z=window.open("","Image");z?.document.write("<img src='"+O+"''>"),z?.print()}else{const G=O.split("data:application/pdf;base64,")[1];Rt()({printable:G,type:"pdf",base64:!0})}},()=>{this.patchState({loading:!1})}))))),this.downloadEffect=this.effect(g=>g.pipe((0,I.b)(()=>{this.patchState({loading:!0})}),(0,P.w)(y=>this.data.getDocument(y).pipe((0,N._b)(v=>{if(!v?.attachment)return void this.toast.error("Cannot find attachment file!",{duration:2e3});const O=v?.attachment,B=v?.name;if(O){const z=O,G=document.createElement("a");G.href=z,G.download=B??"noname",G.click()}},()=>{this.patchState({loading:!1})}))))),this.updateAuthorizationsEffect=this.effect(g=>g.pipe((0,I.b)(()=>{this.patchState({loading:!0})}),(0,L.M)(this.authorizationUpdateData$),(0,P.w)(([,y])=>(console.log(y),(0,F.of)(!0))))),this.procedureRequestStore.setListener(this),this.recommendOrderStore.setListener(this),this.route.snapshot.paramMap.has("patientId")){const g=null!==(q=this.route.snapshot.paramMap.get("patientId"))&&void 0!==q?q:"",y=this.patientStore.item$.subscribe(v=>{var O;if(v){y.unsubscribe();const B=null===(O=v?.legalCases)||void 0===O?void 0:O.at(0);B&&this.patchState({selectedMrn:B.id})}});this.patientStore.loadPatientEffect(g)}this.authorizationStore.loadAuthorizationsEffect(),this.authorizationTypeStore.loadAuthorizationTypesEffect(),this.selectedProviderId$.subscribe(g=>{this.currentProviderId=g}),this.prescriptionStore.setLimit(10),this.medicalRecordStore.setLimit(10),this.priorAppointmentStore.setDateFilter({startDate:new Date,operator:"<"}),this.upcomingAppointmentStore.setDateFilter({startDate:new Date,operator:">="}),this.priorAppointmentStore.setLimit(10),this.upcomingAppointmentStore.setLimit(10);const A=localStorage.getItem("addressFilter");this.referralCreateStore.setCenterLatitude(A?JSON.parse(A).lat:void 0),this.referralCreateStore.setCenterLongitude(A?JSON.parse(A).lng:void 0),this.diagnosisCodeStore.loadDiagnosisCodesEffect(),this.providerStore.loadClinicalProvidersEffect()}tabSelectionDidChange(t){switch(t){case 0:default:break;case 1:this.upcomingAppointmentStore.loadAppointmentsEffect(),this.priorAppointmentStore.loadAppointmentsEffect();break;case 2:this.prescriptionStore.setSkip(0),this.prescriptionStore.loadPrescriptionsEffect();break;case 3:this.medicalRecordStore.setSkip(0),this.medicalRecordStore.loadMedicalRecordsEffect()}}dateFilterDidChange(t){const i={};i.startDate=t.start,i.endDate=t.end,i.operator="In",this.calendarAppointmentStore.setDateFilter(i),this.calendarAppointmentStore.loadAppointmentsEffect()}setPriorAppointmentsSkip(t){this.priorAppointmentStore.setSkip(t),this.priorAppointmentStore.loadAppointmentsEffect()}setUpcomingAppointmentsSkip(t){this.upcomingAppointmentStore.setSkip(t),this.upcomingAppointmentStore.loadAppointmentsEffect()}setPrescriptionsSkip(t){this.prescriptionStore.setSkip(t),this.prescriptionStore.loadPrescriptionsEffect()}setMedicalRecordsSkip(t){this.medicalRecordStore.setSkip(t),this.medicalRecordStore.loadMedicalRecordsEffect()}setMedicalReportModalController(t){this.medicalReportModalController=t}openMedicalReportDialog(t){var i;this.setAppointment(t),null===(i=this.medicalReportModalController)||void 0===i||i.open()}setBillModalController(t){this.billModalController=t}openBillReportDialog(t){var i;this.setAppointment(t),null===(i=this.billModalController)||void 0===i||i.open()}setImageModalController(t){this.imageModalController=t}openImageDialog(t){var i;this.setAppointment(t),null===(i=this.imageModalController)||void 0===i||i.open()}setSvgCardModalController(t){this.svgCardModalController=t}openSvgCardDialog(){var t;null===(t=this.svgCardModalController)||void 0===t||t.open()}setSubmitAuthorizationModalCtrl(t){this.submitAuthorizationModalCtrl=t}setImagingModalCtrl(t){this.imagingModalCtrl=t}setRequestMoreVisitsModalCtrl(t){this.requestMoreVisitsModalCtrl=t}setProcedureAuthorizationModalCtrl(t){this.procedureAuthorizationModalCtrl=t}openProcedureAuthorizationModalCtrl(){this.vm$.subscribe(({patient:t,legalCase:i})=>{var s;null===(s=this.procedureAuthorizationModalCtrl)||void 0===s||s.open({patientName:t?.name,patientId:t?.id,legalCaseId:i?.id,mrn:i?.medicalRecordNumber,status:"Pending"},{providers:this.providers$},this.procedureRequestStore)}).unsubscribe()}procedureRequestModalActionCompleted(){var t;null===(t=this.procedureAuthorizationModalCtrl)||void 0===t||t.close()}setRecOrderModalCtrl(t){this.recOrderModalCtrl=t}openRecOrderModalCtrl(){this.vm$.subscribe(({patient:t,legalCase:i})=>{var s;null===(s=this.recOrderModalCtrl)||void 0===s||s.open({patientId:t?.id,legalCaseId:i?.id,dol:i?.dateOfLoss,patientName:t?.name,patientDob:t?.dateOfBirth,mrn:i?.medicalRecordNumber,status:"Pending"},{providers:this.providers$,diagnosisCodes:this.diagnosisCodes$},this.recommendOrderStore)}).unsubscribe()}RecommendOrderModalActionCompleted(){var t;null===(t=this.recOrderModalCtrl)||void 0===t||t.close()}setReferralModalCtrl(t){this.referralModalCtrl=t}openReferralModalCtrl(){const t=this.referralCreateStore.created$.subscribe(r=>{var a;r&&(null===(a=this.referralModalCtrl)||void 0===a||a.close(),t.unsubscribe())}),i=localStorage.getItem("queryFilter"),s=localStorage.getItem("distanceFilter"),n=localStorage.getItem("addressFilter"),c=localStorage.getItem("specialtyFilter");this.referralCreateStore.setModalCtrl(this.referralModalCtrl),this.vm$.subscribe(({patient:r,legalCase:a})=>{var l;if(r){const f=T(new Date).format("DD/MMMM/yyyy hh:mm:ss");null===(l=this.referralModalCtrl)||void 0===l||l.open({patientName:r.name,patientId:r.id,status:"Pending",legalCaseName:a?.name,legalCaseId:a?.id,referredToId:"",centerLocation:n?JSON.parse(n):void 0,providerName:i,distance:s||"15",doctorsCount:0,multiSelect:""==c?.split(",")[0]?[]:c?.split(","),centerlatitude:n?JSON.parse(n).lat:void 0,centerlongitude:n?JSON.parse(n).lng:void 0,name:`${r.name?`${r.name}`:""} ${a?.name?`on ${a?.name}`:""} ${f?`on ${f}`:""}`},{specialties:this.referralCreateStore.specialties$,providerLocations:this.referralCreateStore.mapProviderLocations$,providers:this.providers$},this.referralCreateStore)}}).unsubscribe()}setDmeModalCtrl(t){this.dmeModalCtrl=t}openDmeModalCtrl(){var t;null===(t=this.dmeModalCtrl)||void 0===t||t.open({},{authorizations:this.authorizations$},this)}increaseAuthorizationQuantity(t){}decreaseAuthorizationQuantity(t){}filterByProvider(t){this.medicalRecordStore.setClinicalProviderId("all"==t?void 0:t),this.medicalRecordStore.setSkip(0),this.medicalRecordStore.loadMedicalRecordsEffect()}filterByName(t){this.medicalRecordStore.setSearchQuery(t),this.medicalRecordStore.setSkip(0),this.medicalRecordStore.loadMedicalRecordsEffect()}filterByStartDate(t){t=null==t||null==t?new Date("1970-01-01T00:00:00Z"):t,this.currentDateFilter=Object.assign(Object.assign({},this.currentDateFilter),{startDate:t}),console.log("currentDateFilter",this.currentDateFilter),this.medicalRecordStore.setDateFilter(this.currentDateFilter),this.medicalRecordStore.setSkip(0),this.medicalRecordStore.loadMedicalRecordsEffect()}filterByEndDate(t){var i,s,n;t=null==t||null==t?new Date("2099-12-31T23:59:59Z"):t,this.currentDateFilter=Object.assign(Object.assign({},this.currentDateFilter),{startDate:null==(null===(i=this.currentDateFilter)||void 0===i?void 0:i.startDate)||null==(null===(s=this.currentDateFilter)||void 0===s?void 0:s.startDate)?new Date("1970-01-01T00:00:00Z"):null===(n=this.currentDateFilter)||void 0===n?void 0:n.startDate,endDate:t}),console.log("currentDateFilter",this.currentDateFilter,t),this.medicalRecordStore.setDateFilter(this.currentDateFilter),this.medicalRecordStore.setSkip(0),this.medicalRecordStore.loadMedicalRecordsEffect()}openSubmitAutorizationModalCtrl(){var t;null===(t=this.submitAuthorizationModalCtrl)||void 0===t||t.open({},{},this)}openImagingModalCtrl(){var t;null===(t=this.imagingModalCtrl)||void 0===t||t.open({},{},this)}openRequestMoreVisitsModalCtrl(){var t;null===(t=this.requestMoreVisitsModalCtrl)||void 0===t||t.open({},{},this)}addPrescription(t){const i=this.prescriptionStore.actionResult$.subscribe(({done:a})=>{a&&i.unsubscribe()}),{name:s,document:n,quantity:c,strength:r}=t;this.prescriptionStore.createPrescriptionEffect({name:s,document:n,quantity:c,strength:r})}loadDocumentDetails(t){this.documentStore.loadDocumentEffect(t)}addMedicalRecord(t){const i=this.medicalRecordStore.actionResult$.subscribe(({done:r})=>{r&&i.unsubscribe()}),{clinicalProviderId:s,document:n,description:c}=t;this.patient$.subscribe(r=>{const a=s+(new Date).valueOf().toString()+r.id;this.medicalRecordStore.createMedicalRecordEffect({name:a,document:n,clinicalProviderId:s,description:c})})}addImaging(t){const i=this.medicalRecordStore.actionResult$.subscribe(({done:r})=>{r&&i.unsubscribe()}),{clinicalProviderId:s,document:n,description:c}=t;this.patient$.subscribe(r=>{const a=s+(new Date).valueOf().toString()+r.id;this.medicalRecordStore.createMedicalRecordEffect({name:a,document:n,clinicalProviderId:s,description:c})})}checkInAppointment(t,i){"upcoming"===t?this.upcomingAppointmentStore.checkInAppointmentEffect(i):"prior"===t&&this.priorAppointmentStore.checkInAppointmentEffect(i)}hideAppointment(t,i){"upcoming"===t?this.upcomingAppointmentStore.hideAppointmentEffect(i):"prior"===t&&this.priorAppointmentStore.hideAppointmentEffect(i)}getInitialState(){return{query:"",loading:!1,centerLatitude:void 0,centerLongitude:void 0,patientIdForRecOrder:""}}setAppointmentViewModalController(t){super.setAppointmentViewModalController(t)}setRequestsMoreVisitsModalController(t){super.setRequestsMoreVisitsModalController(t)}openAppointmentViewModal(t){super.openAppointmentViewModal(t)}openRequestsMoreVisitsModal(t){super.openRequestsMoreVisitsModal(t)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG("calendarAppointmentStore"),e.LFG("priorAppointmentStore"),e.LFG("upcomingAppointmentStore"),e.LFG(e.zs3),e.LFG(Ot.y),e.LFG(wt.B),e.LFG(H.q),e.LFG(J.uU),e.LFG(st.F),e.LFG(Dt.t),e.LFG(lt.d),e.LFG(xt.r),e.LFG(it.gz),e.LFG(et.F),e.LFG(xe.r),e.LFG(Bt),e.LFG(Ut),e.LFG(Jt),e.LFG(E.D))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();function ke(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"ui-formly-json-form",1),e.NdJ("formIsReady",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onResize())}),e.qZA()}if(2&o){const t=d.ngIf,i=e.oxw();e.Q6J("showSubmitButton",!1)("componentStore",i.store)("formData",i.getFormData(t))("model",i.model)}}let We=(()=>{class o extends Z{constructor(t){super(),this.store=t,this.portalName="Vendor",this.pageName="Patient Details",this.vm$=this.store.vm$,this.model={}}ngOnInit(){this.subscriber=this.store.selectedMrn$.subscribe(t=>{this.model.selectedMrn=t})}ngOnDestroy(){var t;null===(t=this.subscriber)||void 0===t||t.unsubscribe()}getFormData(t){return Object.assign(Object.assign({},t),{pageName:this.pageName,portalName:this.portalName,mrns:this.store.mrns$,attachment:this.store.attachment$,upcomingAppointmentsPaging:this.store.upcomingAppointmentsPaging$,priorAppointmentsPaging:this.store.priorAppointmentsPaging$,prescriptionsPaging:this.store.prescriptionsPaging$,medicalRecordsPaging:this.store.medicalRecordsPaging$,providers:this.store.providerOptionsForFilter$})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(zt))},o.\u0275cmp=e.Xpm({type:o,selectors:[["provider-patient-profile"]],features:[e._Bn([zt,Bt,Ut,Jt,wt.B,lt.d,xt.r,Dt.t,st.F,qt,dt.T,Ot.y,w.j,Ht,Vt.I,E.D,{provide:"priorAppointmentStore",useClass:X.L6},{provide:"upcomingAppointmentStore",useClass:X.L6},{provide:"calendarAppointmentStore",useClass:X.L6}]),e.qOj],decls:2,vars:3,consts:[["class","w-full h-full","formName","page_provider_patient_profile",3,"showSubmitButton","componentStore","formData","model","formIsReady",4,"ngIf"],["formName","page_provider_patient_profile",1,"w-full","h-full",3,"showSubmitButton","componentStore","formData","model","formIsReady"]],template:function(t,i){1&t&&(e.YNc(0,ke,1,4,"ui-formly-json-form",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,i.vm$))},dependencies:[J.O5,Y.M,J.Ov],styles:["[_nghost-%COMP%]     .ngneat-dialog-content{width:60%}"]}),o})();var Zt=C(86820);let Qt=(()=>{class o extends j{constructor(t,i,s,n){super(n),this.patientDataStore=t,this.providerLocationStore=i,this.vendorLocationStore=s,this.loading$=this.select(c=>c.loading),this.patientList$=this.select(this.patientDataStore.patients$,c=>c.map(r=>{var a,l,f,b,S,D,u;let h;r?.users&&r?.users.length>0&&(h=null===(a=r?.users[0])||void 0===a?void 0:a.avatarUrl);const p=(0,V.Ay)(null!==(l=r?.dateOfBirth)&&void 0!==l?l:new Date),m=null===(f=r?.legalCases)||void 0===f?void 0:f.map(M=>({mrn:M.medicalRecordNumber}));return Object.assign(Object.assign({},r),{avatarUrl:h,age:p,mrns:m,mobileNumber:null!==(b=r?.mobileNumber)&&void 0!==b?b:null!==(S=r?.primaryPhoneNumber)&&void 0!==S?S:"",gender:null!==(D=r?.gender)&&void 0!==D&&D.name?(null===(u=r?.gender)||void 0===u?void 0:u.name)+" - ":""})})),this.vm$=this.select(this.loading$,this.user$,this.vendor$,(c,r,a)=>({loading:c,user:r,vendor:a})),this.paging$=this.patientDataStore.paging$,this.providerLocationOptions$=this.select(this.providerLocationStore.clinicalProviderLocations$,c=>{const r=c?.map(a=>{var l,f;return{id:null===(l=a.location)||void 0===l?void 0:l.id,name:null===(f=a.location)||void 0===f?void 0:f.name}});return[{id:"all",name:"All"},...r]}),this.vendorLocationOptions$=this.select(this.vendorLocationStore.vendorLocations$,c=>{const r=c?.map(a=>({id:a.id,name:a.name}));return[{id:"all",name:"All"},...r]}),this.loadProviderLocationsEffect=this.effect(c=>c.pipe((0,I.b)(()=>{this.patchState({loading:!0})}),(0,L.M)(this.selectedProviderId$),(0,P.w)(([,r])=>(this.providerLocationStore.setClinicalProviderId(r),this.providerLocationStore.loadClinicalProviderLocationsEffect(),(0,F.of)(!0))))),this.vendorLocationStore.loadVendorLocationsEffect(),this.patientDataStore.setLimit(12),this.subscriber=this.selectedProviderId$.subscribe(c=>{this.setSelectedProviderId(c),this.loadPatientList()})}loadPatientList(){this.patientDataStore.loadPatientsEffect()}loadProviderLocations(){this.providerLocationStore.loadClinicalProviderLocationsEffect()}valueChangedByName(t){this.patientDataStore.setSearchQuery(t),this.skipDidChange(0)}valueChangedByMRN(t){this.patientDataStore.setmedicalRecordNumber(t),this.skipDidChange(0)}valueChangedByFromDate(t){this.patientDataStore.setFromDate(t),this.skipDidChange(0)}valueChangedByToDate(t){this.patientDataStore.setToDate(t),this.skipDidChange(0)}filterByVendorLocation(t){this.patientDataStore.setVendorLocationId(""!==t&&"all"!==t?t:void 0),this.skipDidChange(0)}skipDidChange(t){this.patientDataStore.setSkip(t),this.patientDataStore.loadPatientsEffect()}getInitialState(){return{query:"",loading:!1}}providerIdDidChange(t){this.patientDataStore.setClinicalProviderId(""!==t&&"all"!==t?t:""),this.skipDidChange(0)}providerLocationIdDidChange(t){this.patientDataStore.setLocationId(""!==t&&"all"!==t?t:""),this.skipDidChange(0)}ngOnDestroy(){var t;null===(t=this.subscriber)||void 0===t||t.unsubscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(lt.d),e.LFG(w.j),e.LFG(Zt.X),e.LFG(e.zs3))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();const Ye=function(o){return{providerId:o}};function Ke(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"ui-formly-json-form",2),e.NdJ("formIsReady",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onResize())}),e.qZA()}if(2&o){const t=d.ngIf,i=e.oxw().ngIf,s=e.oxw();e.Q6J("showSubmitButton",!1)("componentStore",s.store)("formData",s.getFormData(t))("model",e.VKq(4,Ye,i))}}function Xe(o,d){if(1&o&&(e.ynx(0),e.YNc(1,Ke,1,6,"ui-formly-json-form",1),e.ALo(2,"async"),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.vm$))}}let ti=(()=>{class o extends Z{constructor(t){super(),this.store=t,this.portalName="Vendor",this.pageName="My Patients",this.model={},this.selectedProviderId$=this.store.selectedProviderId$,this.vm$=this.store.vm$,this.subscriber=this.store.selectedProviderId$.subscribe(i=>{this.model.providerId=i})}ngOnDestroy(){var t;null===(t=this.subscriber)||void 0===t||t.unsubscribe()}getFormData(t){return Object.assign(Object.assign({},t),{patientList:this.store.patientList$,pageName:this.pageName,providers:this.store.providerOptions$,portalName:this.portalName,paging:this.store.paging$,providerLocations:this.store.providerLocationOptions$,vendorLocations:this.store.vendorLocationOptions$})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Qt))},o.\u0275cmp=e.Xpm({type:o,selectors:[["provider-patients"]],features:[e._Bn([Qt,lt.d,Zt.X,w.j]),e.qOj],decls:2,vars:3,consts:[[4,"ngIf"],["class","w-full h-full","formName","page_provider_patients",3,"showSubmitButton","componentStore","formData","model","formIsReady",4,"ngIf"],["formName","page_provider_patients",1,"w-full","h-full",3,"showSubmitButton","componentStore","formData","model","formIsReady"]],template:function(t,i){1&t&&(e.YNc(0,Xe,3,3,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,i.selectedProviderId$))},dependencies:[J.O5,Y.M,J.Ov]}),o})();var ei=C(69751),ii=C(38421),oi=C(75797),si=C(25403),ri=C(63269);let kt=(()=>{class o extends N.m1{constructor(t,i,s,n){super({query:"",loading:!1}),this.authStore=t,this.specialtyStore=i,this.data=s,this.toast=n,this.loading$=this.select(c=>c.loading),this.specialites$=this.data.userClinicalProviderSpecialties().pipe((0,P.w)(c=>{var r;return(0,F.of)(null===(r=c.data.items)||void 0===r?void 0:r.map(a=>{var l;return null===(l=a.specialty)||void 0===l?void 0:l.id}))})),this.profile$=this.data.me().pipe((0,P.w)(c=>{var r;return(0,F.of)(Object.assign(Object.assign({},c.data.me),{document:null!==(r=c.data.me)&&void 0!==r&&r.avatarUrl?{name:"ProfileImage.png",attachment:c.data.me.avatarUrl}:void 0}))})),this.me$=function ni(...o){const d=(0,ri.jO)(o),t=(0,oi.k)(o);return t.length?new ei.y(i=>{let s=t.map(()=>[]),n=t.map(()=>!1);i.add(()=>{s=n=null});for(let c=0;!i.closed&&c<t.length;c++)(0,ii.Xf)(t[c]).subscribe((0,si.x)(i,r=>{if(s[c].push(r),s.every(a=>a.length)){const a=s.map(l=>l.shift());i.next(d?d(...a):a),s.some((l,f)=>!l.length&&n[f])&&i.complete()}},()=>{n[c]=!0,!s[c].length&&i.complete()}));return()=>{s=n=null}}):vt.E}(this.specialites$,this.profile$).pipe((0,P.w)(([c,r])=>(0,F.of)(Object.assign(Object.assign({},r),{specialties:c})))),this.allSpecialties$=this.specialtyStore.specialties$,this.vm$=this.select(this.loading$,this.me$,(c,r)=>({loading:c,me:r})),this.updateUserProfileEffect=this.effect(c=>c.pipe((0,I.b)(()=>{this.patchState({loading:!0})}),(0,P.w)(r=>{const{firstName:a,lastName:l,document:f,cellPhone:b,dateOfBirth:S,bio:D,line1:u,line2:h,city:p,state:m,postalCode:M}=r;return this.data.accountUpdateProfile({input:{firstName:a,lastName:l,document:f,phone:b,dateOfBirth:S,bio:D,line1:u,line2:h,city:p,state:m,postalCode:M}}).pipe((0,N._b)(()=>{this.toast.success("Successfully updated profile",{duration:3e3}),this.authStore.meEffect(),this.patchState({loading:!1})},_=>{this.toast.error("Failed to update profile",{duration:3e3}),this.patchState({loading:!1})}))})))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(R.Q),e.LFG(dt.T),e.LFG(H.q),e.LFG(et.F))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();function ai(o,d){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"ui-formly-json-form",1),e.NdJ("save",function(s){e.CHM(t);const n=e.oxw();return e.KtG(n.store.updateUserProfileEffect(s))})("formIsReady",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onResize())}),e.qZA(),e.BQk()}if(2&o){const t=d.ngIf,i=e.oxw();e.xp6(1),e.Q6J("model",t)("showSubmitButton",!1)("componentStore",i.store)("formData",i.formData)}}let li=(()=>{class o extends Z{constructor(t){super(),this.store=t,this.portalName="Vendor",this.pageName="Profile",this.me$=this.store.me$,this.formData={portalName:this.portalName,pageName:this.pageName}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(kt))},o.\u0275cmp=e.Xpm({type:o,selectors:[["provider-profile"]],features:[e._Bn([kt,dt.T]),e.qOj],decls:2,vars:3,consts:[[4,"ngIf"],["formName","page_provider_profile",1,"w-full","h-full",3,"model","showSubmitButton","componentStore","formData","save","formIsReady"]],template:function(t,i){1&t&&(e.YNc(0,ai,2,4,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,i.me$))},dependencies:[J.O5,Y.M,J.Ov]}),o})();var Wt=C(22412),Yt=C(3866),Kt=C(62336),Xt=C(45101);let te=(()=>{class o extends j{constructor(t,i,s,n,c,r,a,l,f,b,S){var D;if(super(S),this.toast=t,this.providerStore=i,this.locationStore=s,this.clinialProviderLocationStore=n,this.route=c,this.documentStore=r,this.reviewStore=a,this.data=l,this.tagStore=f,this.specialtyStore=b,this.setModalController=this.updater((u,h)=>Object.assign(Object.assign({},u),{modalController:h})),this.setSelectedReview=this.updater((u,h)=>Object.assign(Object.assign({},u),{selectedReview:h})),this.businessHours$=this.select(u=>{const p=(0,Wt.vM)(u.businessHours,y=>y.day),m=[];let M=!1;const _=T().format("ll")+"",x=T().format("dddd")+"";let q;for(const y in p){let v=p[y];v.sort((O,B)=>Date.parse(O.startTime)-Date.parse(B.startTime)),v=v.map(O=>(O.startTime=T(O.startTime,"hh:mm A").format("HH:mm"),O.endTime=T(O.endTime,"hh:mm A").format("HH:mm"),O)),y===x&&(q=v),m.push({day:y,hours:v}),"Sunday"===y&&(M=!0)}const A={day:_,hours:q},g=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return m.sort((y,v)=>g.indexOf(y.day)-g.indexOf(v.day)),{todayHours:A,others:m,sundayFlag:M}}),this.providerDetails$=this.providerStore.item$,this.doctor$=this.providerDetails$.pipe((0,P.w)(u=>{var h,p,m,M,_,x,q,A,g,y;return(0,F.of)(Object.assign(Object.assign({},u),{mainLocation:null===(m=null===(p=null===(h=u?.clinicalProviderLocations)||void 0===h?void 0:h.at(0))||void 0===p?void 0:p.location)||void 0===m?void 0:m.name,mainSpecialty:null===(x=null===(_=null===(M=u?.clinicalProviderSpecialties)||void 0===M?void 0:M.at(0))||void 0===_?void 0:_.specialty)||void 0===x?void 0:x.name,educations:null===(q=u?.educations)||void 0===q?void 0:q.map(v=>Object.assign(Object.assign({},v),{from:T(v.from).format("YYYY"),to:T(v.to).format("YYYY")})),experiences:null===(A=u?.experiences)||void 0===A?void 0:A.map(v=>Object.assign(Object.assign({},v),{from:T(v.from).format("YYYY"),to:T(v.to).format("YYYY"),duration:Math.abs(Number(T(v.to).format("YYYY"))-Number(T(v.from).format("YYYY")))})),awards:null===(g=u?.awards)||void 0===g?void 0:g.map(v=>Object.assign(Object.assign({},v),{awardedAt:T(v.awardedAt).format("MMM")+" "+T(v.awardedAt).format("YYYY")})),services:null===(y=u?.services)||void 0===y?void 0:y.map(v=>{var O;return Object.assign(Object.assign({},v),{name:null===(O=v.service)||void 0===O?void 0:O.name})}),disableEditing:!1,hideViewProfile:!0}))})),this.reviews$=this.reviewStore.reviews$,this.attachment$=this.documentStore.item$.pipe((0,I.b)(u=>{u&&!u.attachment&&this.toast.error("Cannot find attachment file!",{duration:2e3})})),this.loading$=this.select(u=>u.loading),this.vm$=this.select(this.loading$,this.doctor$,this.reviews$,this.user$,this.vendor$,this.businessHours$,(u,h,p,m,M,_)=>{var x,q,A,g,y,v,O;return{loading:u,doctor:Object.assign(Object.assign({},h),{locationImages:null===(A=null===(q=null===(x=h?.clinicalProviderLocations)||void 0===x?void 0:x.at(0))||void 0===q?void 0:q.location)||void 0===A?void 0:A.locationImages,mainLocation:null===(y=null===(g=h.clinicalProviderLocations)||void 0===g?void 0:g.at(0))||void 0===y?void 0:y.location,locations:null===(v=h?.clinicalProviderLocations)||void 0===v?void 0:v.map(({location:G,clinicalProviderLocationAvailabilities:K})=>{var nt,at;return{id:G?.id,name:G?.name,document:null===(nt=G?.locationImages)||void 0===nt?void 0:nt.at(0),vendor:null===(at=h?.vendor)||void 0===at?void 0:at.name,rating:h?.rating,businessHours:(0,Wt.f1)(K??[],ot=>ot.day)}}),specialties:null===(O=h.clinicalProviderSpecialties)||void 0===O?void 0:O.map(({specialty:G})=>({name:G?.name})),recommendPercent:Math.floor(100*Math.random())}),reviews:p.map(G=>{var K,nt,at;return{reviewId:G.id,passedDays:T().diff(T(G.reivewDateAndTime),"days")+" days ago",recommeneded:!0,rate:G?.rating,notes:G?.comment,patient:{id:G.patientId,name:(null===(K=G.patient)||void 0===K?void 0:K.firstName)+" "+(null===(nt=G.patient)||void 0===nt?void 0:nt.lastName),avatar:"https://images.unsplash.com/photo-1677658992560-e63ac0fa9e02?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8M3x8fGVufDB8fHx8&auto=format&fit=crop&w=300&q=60"},replies:null===(at=G?.childrenReviews)||void 0===at?void 0:at.map(ot=>{var gt,bt,St;return{passedDays:T().diff(T(ot.reivewDateAndTime),"days")+" days ago",notes:ot.comment,patient:{patientId:null===(gt=ot?.patient)||void 0===gt?void 0:gt.id,name:(null===(bt=ot.patient)||void 0===bt?void 0:bt.firstName)+" "+(null===(St=ot.patient)||void 0===St?void 0:St.lastName),avatar:"https://images.unsplash.com/photo-1677658992560-e63ac0fa9e02?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8M3x8fGVufDB8fHx8&auto=format&fit=crop&w=300&q=60"}}})}}),businessHours:_,user:m,vendor:M}}),this.loadBusinessHoursEffect=this.effect(u=>u.pipe((0,I.b)(h=>{this.patchState({loading:!0})}),(0,P.w)(h=>this.data.userClinicalProviderBusinessHours({clinicalProviderId:h}).pipe((0,N._b)(p=>this.patchState({loading:!1,businessHours:p.data.items}),p=>{this.patchState({loading:!1})}))))),this.patchState({query:"",loading:!1}),this.route.snapshot.paramMap.has("providerId")){const u=null!==(D=this.route.snapshot.paramMap.get("providerId"))&&void 0!==D?D:"";this.currentProviderId=u,this.providerStore.loadClinicalProviderEffect(u),this.reviewStore.setClinicalProviderId(u),this.reviewStore.loadReviewsEffect(),this.loadBusinessHoursEffect(u)}this.tagStore.loadTagsEffect(),this.specialtyStore.loadSpecialtiesEffect()}loadImageDetail(t){this.documentStore.loadDocumentEffect(t)}setProviderUpdateFormlyModalController(t){this.providerUpdateFormlyModalController=t}openProviderUpdateFormlyModalController(){this.doctor$.subscribe(t=>{var i;const{id:s,name:n,bio:c,profileImage:r,npi:a,honorific:l,firstName:f,lastName:b,suffix:S,phoneNumber:D,emailAddress:u,educations:h,experiences:p,awards:m,clinicalProviderTags:M,clinicalProviderSpecialties:_}=t;null===(i=this.providerUpdateFormlyModalController)||void 0===i||i.open({id:s,name:n,bio:c,profileImage:r,npi:a,honorific:l,firstName:f,lastName:b,suffix:S,phoneNumber:D,emailAddress:u,educations:h,experiences:p,awards:m,clinicalProviderTags:M,clinicalProviderSpecialties:_},{tags:this.tagStore.tags$,specialties:this.specialtyStore.specialties$},this)}).unsubscribe()}saveClinicalProvider(t){const{id:i,name:s,npi:n,honorific:c,firstName:r,lastName:a,bio:l,profileImage:f,suffix:b,phoneNumber:S,emailAddress:D,profilePictureId:u,compressProfilePictureId:h,educations:p,experiences:m,awards:M,clinicalProviderTags:_,clinicalProviderSpecialties:x}=t,q=this.providerStore.actionResult$.subscribe(A=>{var g;const{done:y}=A;y&&(q.unsubscribe(),null===(g=this.providerUpdateFormlyModalController)||void 0===g||g.close())});p.map(A=>{null==A||delete A.__typename}),m.map(A=>{null==A||delete A.__typename,null==A||delete A.duration}),M.map(A=>{null==A||delete A.__typename}),_.map(A=>{var g;null===(g=A.tag)||void 0===g||delete g.__typename,null==A||delete A.__typename}),x.map(A=>{var g,y;null==A||delete A.__typename,null===(g=A?.specialty)||void 0===g||delete g.__typename,null===(y=A?.clinicalProvider)||void 0===y||delete y.__typename,null==A||delete A.updatedAt,null==A||delete A.createdAt}),this.providerStore.updateClinicalProviderEffect({id:i,name:s,npi:n,honorific:c,bio:l,profileImage:f,firstName:r,lastName:a,suffix:b,phoneNumber:S,emailAddress:D,profilePictureId:u,compressProfilePictureId:h,educations:p,experiences:m,awards:M,clinicalProviderTags:_,clinicalProviderSpecialties:x})}addLocation(t){const i=this.locationStore.actionResult$.subscribe(({done:x})=>{x&&i.unsubscribe()}),{name:s,locationName:n,line1:c,line2:r,city:a,state:l,postalCode:f,latitude:b,longitude:S,abbrev:D,division:u,country:h,officePhone:p,fax:m,attentionTo:M}=t,_={name:s,locationName:n,line1:c,line2:r,city:a,state:l,postalCode:f,latitude:b,longitude:S,abbrev:D,division:u,country:h,officePhone:p,fax:m,attentionTo:M};this.doctor$.subscribe(x=>{const q=x.id,A=T(new Date).format("yyyy-MMMM-DD hh:mm:ss");this.clinialProviderLocationStore.createClinicalProviderLocationEffect({name:`location ${x.name} at ${A}`,clinicalProviderId:q,location:_})}).unsubscribe(),this.currentProviderId&&this.providerStore.loadClinicalProviderEffect(this.currentProviderId)}getInitialState(){return{query:"",loading:!1,modalController:void 0,selectedReview:void 0,businessHours:[]}}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(et.F),e.LFG(E.D),e.LFG(Yt.v),e.LFG(w.j),e.LFG(it.gz),e.LFG(st.F),e.LFG(Kt.J),e.LFG(H.q),e.LFG(Xt.J),e.LFG(dt.T),e.LFG(e.zs3))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();function di(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"ui-formly-json-form",1),e.NdJ("formIsReady",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onResize())}),e.qZA()}if(2&o){const t=d.ngIf,i=e.oxw();e.Q6J("showSubmitButton",!1)("componentStore",i.store)("formData",i.getFormData(t))}}let ci=(()=>{class o extends Z{constructor(t){super(),this.store=t,this.vm$=this.store.vm$,this.pageName="Providers",this.portalName="Details"}getFormData(t){return Object.assign(Object.assign({},t),{pageName:this.pageName,portalName:this.portalName,previewImage:this.store.attachment$})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(te))},o.\u0275cmp=e.Xpm({type:o,selectors:[["provider-provider-details"]],features:[e._Bn([te,E.D,st.F,Xt.J,dt.T]),e.qOj],decls:2,vars:3,consts:[["class","w-full h-full","formName","page_provider_provider_details",3,"showSubmitButton","componentStore","formData","formIsReady",4,"ngIf"],["formName","page_provider_provider_details",1,"w-full","h-full",3,"showSubmitButton","componentStore","formData","formIsReady"]],template:function(t,i){1&t&&(e.YNc(0,di,1,3,"ui-formly-json-form",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,i.vm$))},dependencies:[J.O5,Y.M,J.Ov]}),o})(),ee=(()=>{class o extends j{constructor(t,i,s,n,c){super(c),this.toast=t,this.providerStore=i,this.documentStore=s,this.providerLocationStore=n,this.loading$=this.select(r=>r.loading),this.providersAll$=this.providerStore.clinicalProviders$,this.providers$=this.providersAll$.pipe((0,P.w)(r=>(0,F.of)(r.map(a=>{var l,f,b;const S=null!==(f=null===(l=a?.clinicalProviderSpecialties)||void 0===l?void 0:l.length)&&void 0!==f?f:0;return Object.assign(Object.assign({},a),{rating:Math.floor(50*Math.random())/10,specialitesCount:S-3,clinicalProviderSpecialties:null===(b=a.clinicalProviderSpecialties)||void 0===b?void 0:b.slice(0,3),recommendPercent:Math.floor(100*Math.random()),disableEditing:!0,hideViewProfile:!1})})))),this.providersCount$=this.select(this.providers$,r=>{var a;return null!==(a=r.length)&&void 0!==a?a:0}),this.providerLocationOptions$=this.select(this.providerLocationStore.clinicalProviderLocations$,r=>{const a=r?.map(l=>{var f;const b=l?.id;return{id:b,name:null===(f=l.location)||void 0===f?void 0:f.name}});return[{id:"all",name:"All"},...a]}),this.vm$=this.select(this.loading$,this.providers$,this.providersCount$,this.providers$,this.user$,this.vendor$,(r,a,l,f,b,S)=>{const D=[];return f.forEach(u=>{var h;null===(h=u.clinicalProviderLocations)||void 0===h||h.forEach(p=>{var m,M;D.push(Object.assign(Object.assign({},u),{mainLocation:p.location,locations:null===(M=null===(m=p?.location)||void 0===m?void 0:m.locationImages)||void 0===M?void 0:M.map(_=>{var x,q;return{id:null===(x=p?.location)||void 0===x?void 0:x.id,name:null===(q=p?.location)||void 0===q?void 0:q.name,document:_}})}))})}),{loading:r,providers:a,providersCount:l,clincicalProviders:D,user:b,vendor:S}}),this.attachment$=this.documentStore.item$.pipe((0,I.b)(r=>{r&&!r.attachment&&this.toast.error("Cannot find attachment file!",{duration:2e3})})),this.setModalController=this.updater((r,a)=>Object.assign(Object.assign({},r),{modalController:a})),this.loadProviderLocationsEffect=this.effect(r=>r.pipe((0,I.b)(()=>{this.patchState({loading:!0})}),(0,L.M)(this.selectedProviderId$),(0,P.w)(([,a])=>(this.providerLocationStore.setClinicalProviderId(a),this.providerLocationStore.loadClinicalProviderLocationsEffect(),(0,F.of)(!0))))),this.providerStore.setIsDoctorsPage(!0),this.subscriber=this.selectedProviderId$.subscribe(r=>{this.setSelectedProviderId(r),this.loadProviders()})}ngOnDestroy(){var t;null===(t=this.subscriber)||void 0===t||t.unsubscribe()}setProviderUpdateFormlyModalController(t){this.providerUpdateFormlyModalController=t}openProviderUpdateFormlyModalController(){var t;null===(t=this.providerUpdateFormlyModalController)||void 0===t||t.open({},{},this)}loadProviders(){this.providerStore.loadClinicalProvidersEffect()}loadProviderLocations(){this.providerLocationStore.loadClinicalProviderLocationsEffect()}loadImageDetail(t){this.documentStore.loadDocumentEffect(t)}getInitialState(){return{query:"",loading:!1,modalController:void 0}}providerIdDidChange(t){this.providerStore.setClinicalProviderId(""!==t&&"all"!==t?t:""),this.providerLocationStore.setClinicalProviderId(""!==t&&"all"!==t?t:""),this.loadProviderLocationsEffect(),this.loadProviders()}providerLocationIdDidChange(t){this.providerStore.setClinicalProviderLocationId(""!==t&&"all"!==t?t:""),this.loadProviders()}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(et.F),e.LFG(E.D),e.LFG(st.F),e.LFG(w.j),e.LFG(e.zs3))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();const ui=function(o){return{providerId:o}};function pi(o,d){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"ui-formly-json-form",1),e.NdJ("formIsReady",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.onResize())}),e.qZA(),e.BQk()}if(2&o){const t=e.oxw().ngIf,i=e.oxw().ngIf,s=e.oxw();e.xp6(1),e.Q6J("showSubmitButton",!1)("componentStore",s.store)("model",e.VKq(4,ui,i))("formData",s.getFormData(t))}}function mi(o,d){if(1&o&&(e.ynx(0),e.YNc(1,pi,2,6,"ng-container",0),e.BQk()),2&o){const t=d.ngIf;e.xp6(1),e.Q6J("ngIf",t.providers)}}function hi(o,d){if(1&o&&(e.ynx(0),e.YNc(1,mi,2,1,"ng-container",0),e.ALo(2,"async"),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.vm$))}}let fi=(()=>{class o extends Z{constructor(t){super(),this.store=t,this.vm$=this.store.vm$,this.pageName="Providers",this.portalName="Vendor",this.selectedProviderId$=this.store.selectedProviderId$}getFormData(t){return Object.assign(Object.assign({},t),{pageName:this.pageName,portalName:this.portalName,providers:this.store.providerOptions$,providerLocations:this.store.providerLocationOptions$,previewImage:this.store.attachment$})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ee))},o.\u0275cmp=e.Xpm({type:o,selectors:[["provider-providers"]],features:[e._Bn([ee,E.D,st.F,w.j]),e.qOj],decls:2,vars:3,consts:[[4,"ngIf"],["formName","page_provider_providers",1,"w-full","h-full",3,"showSubmitButton","componentStore","model","formData","formIsReady"]],template:function(t,i){1&t&&(e.YNc(0,hi,3,3,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,i.selectedProviderId$))},dependencies:[J.O5,Y.M,J.Ov]}),o})(),vi=(()=>{class o{constructor(){this.formData={}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["provider-register"]],decls:1,vars:2,consts:[["formName","page_provider_register",1,"w-full","h-full",3,"showSubmitButton","formData"]],template:function(t,i){1&t&&e._UZ(0,"ui-formly-json-form",0),2&t&&e.Q6J("showSubmitButton",!1)("formData",i.formData)},dependencies:[Y.M]}),o})(),ie=(()=>{class o extends j{constructor(t,i,s){super(s),this.data=t,this.reviewStore=i,this.reviewsAll$=this.reviewStore.reviews$,this.loading$=this.select(n=>n.loading),this.reviews$=this.reviewsAll$.pipe((0,P.w)(n=>(0,F.of)(n.map(c=>{var r;const a=(0,V.eV)(c.reivewDateAndTime),l=null===(r=c.childrenReviews)||void 0===r?void 0:r.map(f=>{const b=(0,V.eV)(f.reivewDateAndTime);return Object.assign(Object.assign({},f),{passedDays:b})});return Object.assign(Object.assign({},c),{passedDays:a,childrenReviews:l})})))),this.loadReviewsEffect=this.effect(n=>n.pipe((0,I.b)(()=>{this.patchState({loading:!0})}),(0,L.M)(this.selectedProviderId$),(0,P.w)(([,c])=>"all"===c?(0,F.of)(!1):(this.reviewStore.setClinicalProviderId(c),this.reviewStore.loadReviewsEffect(),(0,F.of)(!0))))),this.vm$=this.select(this.loading$,this.user$,this.vendor$,this.reviews$,(n,c,r,a)=>({loading:n,user:c,vendor:r,reviews:a})),this.reviewStore.loadReviewsEffect()}getInitialState(){return{query:"",loading:!1}}providerIdDidChange(t){this.loadReviewsEffect()}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(H.q),e.LFG(Kt.J),e.LFG(e.zs3))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();const gi=function(o){return{providerId:o}};function bi(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"ui-formly-json-form",2),e.NdJ("formIsReady",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onResize())}),e.qZA()}if(2&o){const t=d.ngIf,i=e.oxw().ngIf,s=e.oxw();e.Q6J("showSubmitButton",!1)("componentStore",s.store)("model",e.VKq(4,gi,i))("formData",s.getFormData(t))}}function Si(o,d){if(1&o&&(e.ynx(0),e.YNc(1,bi,1,6,"ui-formly-json-form",1),e.ALo(2,"async"),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.vm$))}}let yi=(()=>{class o extends Z{constructor(t){super(),this.store=t,this.portalName="Vendor",this.pageName="Reviews",this.selectedProviderId$=this.store.selectedProviderId$,this.vm$=this.store.vm$}getFormData(t){return Object.assign(Object.assign({},t),{pageName:this.pageName,providers:this.store.providerOptions$,portalName:this.portalName})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ie))},o.\u0275cmp=e.Xpm({type:o,selectors:[["provider-reviews"]],features:[e._Bn([ie]),e.qOj],decls:2,vars:3,consts:[[4,"ngIf"],["class","w-full h-full","formName","page_provider_reviews",3,"showSubmitButton","componentStore","model","formData","formIsReady",4,"ngIf"],["formName","page_provider_reviews",1,"w-full","h-full",3,"showSubmitButton","componentStore","model","formData","formIsReady"]],template:function(t,i){1&t&&(e.YNc(0,Si,3,3,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,i.selectedProviderId$))},dependencies:[J.O5,Y.M,J.Ov]}),o})();var Ii=C(46277);let oe=(()=>{class o extends j{constructor(t,i){super(t),this.formlySettingStore=i,this.loading$=this.select(s=>s.loading),this.formlySetting$=this.formlySettingStore.formlySetting$,this.vm$=this.select(this.loading$,this.user$,this.vendor$,(s,n,c)=>({loading:s,user:n,vendor:c}))}loadFormlySetting(){this.formlySettingStore.loadFormlySettingsEffect()}updateFormlySetting(t){if(console.log(t),t?.id){const{id:i,selectCurrency:s,selectDateFormat:n,selectLanguage:c,timeFormat:r}=t;this.formlySettingStore.updateFormlySettingsEffect({id:i,selectCurrency:s,timeFormat:r,selectDateFormat:n,selectLanguage:c})}else{const{selectCurrency:i,selectDateFormat:s,selectLanguage:n,timeFormat:c}=t;this.formlySettingStore.createFormlySettingsEffect({selectCurrency:i,selectDateFormat:s,timeFormat:c,selectLanguage:n})}}getInitialState(){return{query:"",loading:!1}}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(e.zs3),e.LFG(Ii.h))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();var Ci=C(77579),se=C(82722);function Mi(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"ui-formly-json-form",1),e.NdJ("formIsReady",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.formIsReady())})("save",function(s){e.CHM(t);const n=e.oxw();return e.KtG(n.save(s))}),e.qZA()}if(2&o){const t=d.ngIf,i=e.oxw();e.Q6J("showSubmitButton",!1)("model",i.model)("formData",i.getFormData(t))}}let Pi=(()=>{class o extends Z{constructor(t){super(),this.store=t,this.pageName="Setting",this.portalName="Provider",this._unsubscribeAll=new Ci.x,this.vm$=this.store.vm$,this.model={},this.store.selectedProviderId$.pipe((0,se.R)(this._unsubscribeAll)).subscribe(i=>{this.model.providerId=i}),this.store.formlySetting$.pipe((0,se.R)(this._unsubscribeAll)).subscribe(i=>{this.model=Object.assign(Object.assign({},this.model),i.value)})}ngOnDestroy(){this._unsubscribeAll.complete()}formIsReady(){this.onResize(),this.store.loadFormlySetting()}getFormData(t){return Object.assign(Object.assign({},t),{pageName:this.pageName,providers:this.store.providerOptions$,portalName:this.portalName})}save(t){this.store.updateFormlySetting(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(oe))},o.\u0275cmp=e.Xpm({type:o,selectors:[["provider-setting"]],features:[e._Bn([oe]),e.qOj],decls:2,vars:3,consts:[["class","w-full h-full","formName","page_provider_setting",3,"showSubmitButton","model","formData","formIsReady","save",4,"ngIf"],["formName","page_provider_setting",1,"w-full","h-full",3,"showSubmitButton","model","formData","formIsReady","save"]],template:function(t,i){1&t&&(e.YNc(0,Mi,1,3,"ui-formly-json-form",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,i.vm$))},dependencies:[J.O5,Y.M,J.Ov]}),o})();var _i=C(23387),re=C(60908);let ne=(()=>{class o extends j{constructor(t,i,s,n,c){super(c),this.toast=t,this.clinicalProviderLocationAvailabilityFeatureStore=i,this.providerLocationStore=s,this.datePipe=n,this.loading$=this.select(r=>r.loading),this.locationId$=this.select(r=>r.locationId),this.dayOfWeek$=this.select(r=>r.dayOfWeek),this.clinicalProviderLocationAvailabilities$=this.clinicalProviderLocationAvailabilityFeatureStore.clinicalProviderLocationAvailabilities$,this.locations$=this.providerLocationStore.clinicalProviderLocations$.pipe((0,P.w)(r=>(0,F.of)(r.map(a=>{var l;return{id:a.id,title:null===(l=a?.location)||void 0===l?void 0:l.name}})))),this.slotList$=this.clinicalProviderLocationAvailabilities$.pipe((0,P.w)(r=>(0,F.of)(r.map(a=>Object.assign(Object.assign({},a),{startTime:T(a.startTime,"HH:mm").format("hh:mm A"),endTime:T(a.endTime,"HH:mm").format("hh:mm A")}))))),this.setLocationId=this.updater((r,a)=>Object.assign(Object.assign({},r),{locationId:a})),this.setDayOfWeek=this.updater((r,a)=>Object.assign(Object.assign({},r),{dayOfWeek:a})),this.vm$=this.select(this.loading$,this.slotList$,this.user$,this.vendor$,(r,a,l,f)=>({loading:r,clinicalProviderLocationAvailabilities:a,user:l,vendor:f})),this.loadProviderLocationsEffect=this.effect(r=>r.pipe((0,I.b)(()=>{this.patchState({loading:!0})}),(0,L.M)(this.selectedProviderId$),(0,P.w)(([,a])=>(this.providerLocationStore.setClinicalProviderId(a),this.clinicalProviderLocationAvailabilityFeatureStore.setDay("Sunday"),this.loadSlots(),this.providerLocationStore.loadClinicalProviderLocationsEffect(),(0,F.of)(!0))))),this.addLocationAvailabiltyEffect=this.effect(r=>r.pipe((0,I.b)(()=>{this.patchState({loading:!0})}),(0,L.M)(this.dayOfWeek$,this.locationId$),(0,P.w)(([a,l,f])=>{if(!f)return(0,F.of)(!1);const{start:b,end:S}=a,D=(0,V.rJ)(b),u=(0,V.rJ)(S),h=f+(new Date).toString();return this.clinicalProviderLocationAvailabilityFeatureStore.createClinicalProviderLocationAvailabilityEffect({name:h,day:l,startTime:D,endTime:u,clinicalProviderLocationId:f}),(0,F.of)(!0)}))),this.setDayOfWeek("Sunday"),this.clinicalProviderLocationAvailabilityFeatureStore.setDay("Sunday"),this.loadSlots(),this.loadProviderLocationsEffect()}getInitialState(){return{query:"",loading:!1}}providerIdDidChange(t){this.loadProviderLocationsEffect()}loadSlots(){this.clinicalProviderLocationAvailabilityFeatureStore.loadClinicalProviderLocationAvailabilitiesEffect()}locationDidChange(t){this.setLocationId(t),this.clinicalProviderLocationAvailabilityFeatureStore.setClinicalProviderLocationId(t),this.loadSlots()}dayOfWeekDidChange(t){this.setDayOfWeek(t),this.clinicalProviderLocationAvailabilityFeatureStore.setDay(t),this.loadSlots()}deleteSlot(t){this.clinicalProviderLocationAvailabilityFeatureStore.setItem(t),this.clinicalProviderLocationAvailabilityFeatureStore.deleteClinicalProviderLocationAvailabilityInScheduleTimeEffect()}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(et.F),e.LFG(re.R),e.LFG(w.j),e.LFG(J.uU),e.LFG(e.zs3))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();function $i(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"ui-formly-json-form",1),e.NdJ("formIsReady",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onResize())}),e.qZA()}if(2&o){const t=d.ngIf,i=e.oxw();e.Q6J("showSubmitButton",!1)("componentStore",i.store)("formData",i.getFormData(t))("model",i.model)}}let Ri=(()=>{class o extends Z{constructor(t){super(),this.store=t,this.portalName="Vendor",this.pageName="Schedule Timing",this.vm$=this.store.vm$,this.selectedProviderId$=this.store.selectedProviderId$,this.model={},this.store.selectedProviderId$.subscribe(i=>{this.model.providerId=i}),this.store.locations$.subscribe(i=>{this.model=Object.assign(Object.assign({},this.model),i.length>0?{providerLocationId:i[0].id}:{providerLocationId:""})})}getFormData(t){return Object.assign(Object.assign({},t),{providers:this.store.providerOptions$,locations:this.store.locations$,pageName:this.pageName,portalName:this.portalName})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ne))},o.\u0275cmp=e.Xpm({type:o,selectors:[["provider-shedule-timing"]],features:[e._Bn([ne,re.R,E.D,w.j]),e.qOj],decls:2,vars:3,consts:[["class","w-full h-full","formName","page_provider_shedule_timing",3,"showSubmitButton","componentStore","formData","model","formIsReady",4,"ngIf"],["formName","page_provider_shedule_timing",1,"w-full","h-full",3,"showSubmitButton","componentStore","formData","model","formIsReady"]],template:function(t,i){1&t&&(e.YNc(0,$i,1,4,"ui-formly-json-form",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,i.vm$))},dependencies:[J.O5,Y.M,J.Ov]}),o})();var Ai=C(77504),Li=C(63808),Fi=C(27503),Oi=C(10265);let ae=(()=>{class o extends j{constructor(t){super(t),this.loading$=this.select(i=>i.loading),this.vm$=this.select(this.loading$,this.user$,this.vendor$,(i,s,n)=>({loading:i,user:s,vendor:n})),this.setLoading=this.updater((i,s)=>Object.assign(Object.assign({},i),{loading:s})),this.setQuery=this.updater((i,s)=>Object.assign(Object.assign({},i),{query:s}))}providerIdDidChange(t){}getInitialState(){return{query:"",loading:!1}}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(e.zs3))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();function wi(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"ui-formly-json-form",1),e.NdJ("formIsReady",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onResize())}),e.qZA()}if(2&o){const t=d.ngIf,i=e.oxw();e.Q6J("showSubmitButton",!1)("componentStore",i.store)("model",i.model)("formData",i.getFormData(t))}}let Di=(()=>{class o extends Z{getFormData(t){return Object.assign(Object.assign({},t),{pageName:this.pageName,portalName:this.portalName,providers:this.store.providerOptions$})}constructor(t){super(),this.store=t,this.portalName="Vendor",this.pageName="Eligibility",this.model={},this.vm$=this.store.vm$,this.selectedProviderId$=this.store.selectedProviderId$,this.subscriber=this.store.selectedProviderId$.subscribe(i=>{this.model.providerId=i})}ngOnDestroy(){var t;null===(t=this.subscriber)||void 0===t||t.unsubscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ae))},o.\u0275cmp=e.Xpm({type:o,selectors:[["provider-eligibility"]],features:[e._Bn([ae]),e.qOj],decls:2,vars:3,consts:[["class","w-full h-full","formName","page_provider_eligibility",3,"showSubmitButton","componentStore","model","formData","formIsReady",4,"ngIf"],["formName","page_provider_eligibility",1,"w-full","h-full",3,"showSubmitButton","componentStore","model","formData","formIsReady"]],template:function(t,i){1&t&&(e.YNc(0,wi,1,4,"ui-formly-json-form",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,i.vm$))},dependencies:[J.O5,Y.M,J.Ov]}),o})(),xi=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[$,R.Q,E.D,U.m,Yt.v],imports:[J.ez,Me.i,_i.m,Ai.o,Li.B,Fi.G,Oi.t,it.Bz.forChild([{path:"",component:$t},{path:"dashboard",component:$t},{path:"eligibility",component:Di},{path:"appointments",children:[{path:"",component:de},{path:":appointmentId",children:[{path:"checkIn",component:Ce},{path:"",pathMatch:"full",redirectTo:"checkIn"}]}]},{path:"schedule-timing",component:Ri},{path:"profile",component:li},{path:"setting",component:Pi},{path:"change-password",component:ge},{path:"payments",component:Le},{path:"reviews",component:yi},{path:"notifications",component:De},{path:"register",component:vi},{path:"providers",children:[{path:"",component:fi},{path:":providerId",children:[{path:"details",component:ci},{path:"",pathMatch:"full",redirectTo:"details"}]}]},{path:"patients",children:[{path:"",component:ti},{path:":patientId",children:[{path:"details",component:We},{path:"",pathMatch:"full",redirectTo:"details"}]}]},{path:"blogs",children:[{path:"",component:fe},{path:"add",component:ce},{path:":blogId",children:[{path:"details",component:ue},{path:"",pathMatch:"full",redirectTo:"details"}]}]}])]}),o})()},1064:yt=>{window,yt.exports=function(k){var C={};function I(L){if(C[L])return C[L].exports;var P=C[L]={i:L,l:!1,exports:{}};return k[L].call(P.exports,P,P.exports,I),P.l=!0,P.exports}return I.m=k,I.c=C,I.d=function(L,P,F){I.o(L,P)||Object.defineProperty(L,P,{enumerable:!0,get:F})},I.r=function(L){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(L,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(L,"__esModule",{value:!0})},I.t=function(L,P){if(1&P&&(L=I(L)),8&P||4&P&&"object"==typeof L&&L&&L.__esModule)return L;var F=Object.create(null);if(I.r(F),Object.defineProperty(F,"default",{enumerable:!0,value:L}),2&P&&"string"!=typeof L)for(var N in L)I.d(F,N,function(e){return L[e]}.bind(null,N));return F},I.n=function(L){var P=L&&L.__esModule?function(){return L.default}:function(){return L};return I.d(P,"a",P),P},I.o=function(L,P){return Object.prototype.hasOwnProperty.call(L,P)},I.p="",I(I.s=0)}({"./src/index.js":
/*!**********************!*\
                !*** ./src/index.js ***!
                \**********************/
/*! exports provided: default */function(k,C,I){"use strict";I.r(C),I(
/*! ./sass/index.scss */
"./src/sass/index.scss");var N=I(
/*! ./js/init */
"./src/js/init.js").default.init;typeof window<"u"&&(window.printJS=N),C.default=N},"./src/js/browser.js":
/*!***************************!*\
                !*** ./src/js/browser.js ***!
                \***************************/
/*! exports provided: default */function(k,C,I){"use strict";I.r(C);var L={isFirefox:function(){return typeof InstallTrigger<"u"},isIE:function(){return-1!==navigator.userAgent.indexOf("MSIE")||!!document.documentMode},isEdge:function(){return!L.isIE()&&!!window.StyleMedia},isChrome:function(){return!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||-1!==navigator.userAgent.toLowerCase().indexOf("safari")},isIOSChrome:function(){return-1!==navigator.userAgent.toLowerCase().indexOf("crios")}};C.default=L},"./src/js/functions.js":
/*!*****************************!*\
                !*** ./src/js/functions.js ***!
                \*****************************/
/*! exports provided: addWrapper, capitalizePrint, collectStyles, addHeader, cleanUp, isRawHTML */function(k,C,I){"use strict";I.r(C),I.d(C,"addWrapper",function(){return N}),I.d(C,"capitalizePrint",function(){return e}),I.d(C,"collectStyles",function(){return E}),I.d(C,"addHeader",function(){return R}),I.d(C,"cleanUp",function(){return U}),I.d(C,"isRawHTML",function(){return H});var L=I(
/*! ./modal */
"./src/js/modal.js"),P=I(
/*! ./browser */
"./src/js/browser.js");function F($){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})($)}function N($,j){return'<div style="font-family:'+j.font+" !important; font-size: "+j.font_size+' !important; width:100%;">'+$+"</div>"}function e($){return $.charAt(0).toUpperCase()+$.slice(1)}function E($,j){for(var W="",V=(document.defaultView||window).getComputedStyle($,""),tt=0;tt<V.length;tt++)(-1!==j.targetStyles.indexOf("*")||-1!==j.targetStyle.indexOf(V[tt])||w(j.targetStyles,V[tt]))&&V.getPropertyValue(V[tt])&&(W+=V[tt]+":"+V.getPropertyValue(V[tt])+";");return W+"max-width: "+j.maxWidth+"px !important; font-size: "+j.font_size+" !important;"}function w($,j){for(var T=0;T<$.length;T++)if("object"===F(j)&&-1!==j.indexOf($[T]))return!0;return!1}function R($,j){var T=document.createElement("div");if(H(j.header))T.innerHTML=j.header;else{var W=document.createElement("h1"),V=document.createTextNode(j.header);W.appendChild(V),W.setAttribute("style",j.headerStyle),T.appendChild(W)}$.insertBefore(T,$.childNodes[0])}function U($){$.showModal&&L.default.close(),$.onLoadingEnd&&$.onLoadingEnd(),($.showModal||$.onLoadingStart)&&window.URL.revokeObjectURL($.printable);var j="mouseover";(P.default.isChrome()||P.default.isFirefox())&&(j="focus");window.addEventListener(j,function W(){window.removeEventListener(j,W),$.onPrintDialogClose();var V=document.getElementById($.frameId);V&&V.remove()})}function H($){return new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>").test($)}},"./src/js/html.js":
/*!************************!*\
                !*** ./src/js/html.js ***!
                \************************/
/*! exports provided: default */function(k,C,I){"use strict";I.r(C);var L=I(
/*! ./functions */
"./src/js/functions.js"),P=I(
/*! ./print */
"./src/js/print.js");function F(E){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(E)}function N(E,w){for(var R=E.cloneNode(),U=Array.prototype.slice.call(E.childNodes),H=0;H<U.length;H++)if(-1===w.ignoreElements.indexOf(U[H].id)){var $=N(U[H],w);R.appendChild($)}switch(w.scanStyles&&1===E.nodeType&&R.setAttribute("style",Object(L.collectStyles)(E,w)),E.tagName){case"SELECT":R.value=E.value;break;case"CANVAS":R.getContext("2d").drawImage(E,0,0)}return R}C.default={print:function(w,R){var U=function e(E){return"object"===F(E)&&E&&(E instanceof HTMLElement||1===E.nodeType)}(w.printable)?w.printable:document.getElementById(w.printable);U?(w.printableElement=N(U,w),w.header&&Object(L.addHeader)(w.printableElement,w),P.default.send(w,R)):window.console.error("Invalid HTML element id: "+w.printable)}}},"./src/js/image.js":
/*!*************************!*\
                !*** ./src/js/image.js ***!
                \*************************/
/*! exports provided: default */function(k,C,I){"use strict";I.r(C);var L=I(
/*! ./functions */
"./src/js/functions.js"),P=I(
/*! ./print */
"./src/js/print.js"),F=I(
/*! ./browser */
"./src/js/browser.js");C.default={print:function(e,E){e.printable.constructor!==Array&&(e.printable=[e.printable]),e.printableElement=document.createElement("div"),e.printable.forEach(function(w){var R=document.createElement("img");R.setAttribute("style",e.imageStyle),R.src=w,F.default.isFirefox()&&(R.src=R.src);var H=document.createElement("div");H.appendChild(R),e.printableElement.appendChild(H)}),e.header&&Object(L.addHeader)(e.printableElement,e),P.default.send(e,E)}}},"./src/js/init.js":
/*!************************!*\
                !*** ./src/js/init.js ***!
                \************************/
/*! exports provided: default */function(k,C,I){"use strict";I.r(C);var L=I(
/*! ./browser */
"./src/js/browser.js"),P=I(
/*! ./modal */
"./src/js/modal.js"),F=I(
/*! ./pdf */
"./src/js/pdf.js"),N=I(
/*! ./html */
"./src/js/html.js"),e=I(
/*! ./raw-html */
"./src/js/raw-html.js"),E=I(
/*! ./image */
"./src/js/image.js"),w=I(
/*! ./json */
"./src/js/json.js");function R(H){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(j){return typeof j}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(H)}var U=["pdf","html","image","json","raw-html"];C.default={init:function(){var $={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(X){throw X},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},j=arguments[0];if(void 0===j)throw new Error("printJS expects at least 1 attribute.");switch(R(j)){case"string":$.printable=encodeURI(j),$.fallbackPrintable=$.printable,$.type=arguments[1]||$.type;break;case"object":for(var T in $.printable=j.printable,$.fallbackPrintable=typeof j.fallbackPrintable<"u"?j.fallbackPrintable:$.printable,$.fallbackPrintable=$.base64?"data:application/pdf;base64,".concat($.fallbackPrintable):$.fallbackPrintable,$)"printable"===T||"fallbackPrintable"===T||($[T]=typeof j[T]<"u"?j[T]:$[T]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+R(j))}if(!$.printable)throw new Error("Missing printable information.");if(!$.type||"string"!=typeof $.type||-1===U.indexOf($.type.toLowerCase()))throw new Error("Invalid print type. Available types are: pdf, html, image and json.");$.showModal&&P.default.show($),$.onLoadingStart&&$.onLoadingStart();var W=document.getElementById($.frameId);W&&W.parentNode.removeChild(W);var V=document.createElement("iframe");switch(L.default.isFirefox()?V.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):V.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),V.setAttribute("id",$.frameId),"pdf"!==$.type&&(V.srcdoc="<html><head><title>"+$.documentTitle+"</title>",$.css&&(Array.isArray($.css)||($.css=[$.css]),$.css.forEach(function(Z){V.srcdoc+='<link rel="stylesheet" href="'+Z+'">'})),V.srcdoc+="</head><body></body></html>"),$.type){case"pdf":if(L.default.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer."),window.open($.fallbackPrintable,"_blank").focus(),$.onIncompatibleBrowser()}catch(Z){$.onError(Z)}finally{$.showModal&&P.default.close(),$.onLoadingEnd&&$.onLoadingEnd()}else F.default.print($,V);break;case"image":E.default.print($,V);break;case"html":N.default.print($,V);break;case"raw-html":e.default.print($,V);break;case"json":w.default.print($,V)}}}},"./src/js/json.js":
/*!************************!*\
                !*** ./src/js/json.js ***!
                \************************/
/*! exports provided: default */function(k,C,I){"use strict";I.r(C);var L=I(
/*! ./functions */
"./src/js/functions.js"),P=I(
/*! ./print */
"./src/js/print.js");function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(e)}C.default={print:function(E,w){if("object"!==F(E.printable))throw new Error("Invalid javascript data object (JSON).");if("boolean"!=typeof E.repeatTableHeader)throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!E.properties||!Array.isArray(E.properties))throw new Error("Invalid properties array for your JSON data.");E.properties=E.properties.map(function(R){return{field:"object"===F(R)?R.field:R,displayName:"object"===F(R)?R.displayName:R,columnSize:"object"===F(R)&&R.columnSize?R.columnSize+";":100/E.properties.length+"%;"}}),E.printableElement=document.createElement("div"),E.header&&Object(L.addHeader)(E.printableElement,E),E.printableElement.innerHTML+=function N(e){var E=e.printable,w=e.properties,R='<table style="border-collapse: collapse; width: 100%;">';e.repeatTableHeader&&(R+="<thead>"),R+="<tr>";for(var U=0;U<w.length;U++)R+='<th style="width:'+w[U].columnSize+";"+e.gridHeaderStyle+'">'+Object(L.capitalizePrint)(w[U].displayName)+"</th>";R+="</tr>",e.repeatTableHeader&&(R+="</thead>"),R+="<tbody>";for(var H=0;H<E.length;H++){R+="<tr>";for(var $=0;$<w.length;$++){var j=E[H],T=w[$].field.split(".");if(T.length>1)for(var W=0;W<T.length;W++)j=j[T[W]];else j=j[w[$].field];R+='<td style="width:'+w[$].columnSize+e.gridStyle+'">'+j+"</td>"}R+="</tr>"}return R+"</tbody></table>"}(E),P.default.send(E,w)}}},"./src/js/modal.js":
/*!*************************!*\
                !*** ./src/js/modal.js ***!
                \*************************/
/*! exports provided: default */function(k,C,I){"use strict";I.r(C);var L={show:function(F){var e=document.createElement("div");e.setAttribute("style","font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;"),e.setAttribute("id","printJS-Modal");var E=document.createElement("div");E.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var w=document.createElement("div");w.setAttribute("class","printClose"),w.setAttribute("id","printClose"),E.appendChild(w);var R=document.createElement("span");R.setAttribute("class","printSpinner"),E.appendChild(R);var U=document.createTextNode(F.modalMessage);E.appendChild(U),e.appendChild(E),document.getElementsByTagName("body")[0].appendChild(e),document.getElementById("printClose").addEventListener("click",function(){L.close()})},close:function(){var F=document.getElementById("printJS-Modal");F&&F.parentNode.removeChild(F)}};C.default=L},"./src/js/pdf.js":
/*!***********************!*\
                !*** ./src/js/pdf.js ***!
                \***********************/
/*! exports provided: default */function(k,C,I){"use strict";I.r(C);var L=I(
/*! ./print */
"./src/js/print.js"),P=I(
/*! ./functions */
"./src/js/functions.js");function F(N,e,E){var w=new window.Blob([E],{type:"application/pdf"});w=window.URL.createObjectURL(w),e.setAttribute("src",w),L.default.send(N,e)}C.default={print:function(e,E){if(e.base64){var w=Uint8Array.from(atob(e.printable),function(U){return U.charCodeAt(0)});F(e,E,w)}else{e.printable=/^(blob|http|\/\/)/i.test(e.printable)?e.printable:window.location.origin+("/"!==e.printable.charAt(0)?"/"+e.printable:e.printable);var R=new window.XMLHttpRequest;R.responseType="arraybuffer",R.addEventListener("error",function(){Object(P.cleanUp)(e),e.onError(R.statusText,R)}),R.addEventListener("load",function(){if(-1===[200,201].indexOf(R.status))return Object(P.cleanUp)(e),void e.onError(R.statusText,R);F(e,E,R.response)}),R.open("GET",e.printable,!0),R.send()}}}},"./src/js/print.js":
/*!*************************!*\
                !*** ./src/js/print.js ***!
                \*************************/
/*! exports provided: default */function(k,C,I){"use strict";I.r(C);var L=I(
/*! ./browser */
"./src/js/browser.js"),P=I(
/*! ./functions */
"./src/js/functions.js");function N(w,R){try{if(w.focus(),L.default.isEdge()||L.default.isIE())try{w.contentWindow.document.execCommand("print",!1,null)}catch{w.contentWindow.print()}else w.contentWindow.print()}catch(U){R.onError(U)}finally{L.default.isFirefox()&&(w.style.visibility="hidden",w.style.left="-1px"),Object(P.cleanUp)(R)}}function e(w){var R=w.map(function(U){if(U.src&&U.src!==window.location.href)return function E(w){return new Promise(function(R){!function H(){!w||typeof w.naturalWidth>"u"||0===w.naturalWidth||!w.complete?setTimeout(H,500):R()}()})}(U)});return Promise.all(R)}C.default={send:function(R,U){document.getElementsByTagName("body")[0].appendChild(U);var H=document.getElementById(R.frameId);H.onload=function(){if("pdf"!==R.type){var $=H.contentWindow||H.contentDocument;if($.document&&($=$.document),$.body.appendChild(R.printableElement),"pdf"!==R.type&&R.style){var j=document.createElement("style");j.innerHTML=R.style,$.head.appendChild(j)}var T=$.getElementsByTagName("img");T.length>0?e(Array.from(T)).then(function(){return N(H,R)}):N(H,R)}else L.default.isFirefox()?setTimeout(function(){return N(H,R)},1e3):N(H,R)}}}},"./src/js/raw-html.js":
/*!****************************!*\
                !*** ./src/js/raw-html.js ***!
                \****************************/
/*! exports provided: default */function(k,C,I){"use strict";I.r(C);var L=I(
/*! ./print */
"./src/js/print.js");C.default={print:function(F,N){F.printableElement=document.createElement("div"),F.printableElement.setAttribute("style","width:100%"),F.printableElement.innerHTML=F.printable,L.default.send(F,N)}}},"./src/sass/index.scss":
/*!*****************************!*\
                !*** ./src/sass/index.scss ***!
                \*****************************/
/*! no static exports found */function(k,C,I){},0:
/*!****************************!*\
                !*** multi ./src/index.js ***!
                \****************************/
/*! no static exports found */function(k,C,I){k.exports=I(
/*! ./src/index.js */
"./src/index.js")}}).default}}]);