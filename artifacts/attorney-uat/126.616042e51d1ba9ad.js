"use strict";(self.webpackChunkattorney=self.webpackChunkattorney||[]).push([[126],{61126:(dr,jt,l)=>{l.r(jt),l.d(jt,{RegisterModule:()=>or});var w=l(36895),Me=l(30144),Se=l(34643),Ae=l(57267),Gt=l(70655),B=l(75886),H=l(39646),$t=l(18505),Qt=l(12138),Re=l(24280),a=l(94650),Ie=l(90562),Te=l(73602),Ee=l(80529),Be=l(34077);let Oe=(()=>{class e{constructor(t,i,r){this.store=t,this.data=i,this.http=r,this.vm$=this.store.vm$,this.pageTitle="Register",this.errors=null,this.canProgress=!1,this.alert={type:"success",message:""},this.showAlert=!1,this.document$=(0,H.of)({name:"SignatureDocument",attachment:"<div>Hello World</div>",encoding:"WordprocessingML",extension:".docx"}),this.fileName="",this.url="",this.signatureBoxName="",this.redirectUrlAfterSignature="",this.ownerName="",this.signerName="",this.signatureName="",this.signerInitials="",this.fields=[B.F.email("email",{label:"Email",required:!0}),B.F.password("password",{label:"Password",required:!0}),B.F.input("username",{label:"Username",required:!1}),B.F.input("firstName",{label:"First name",required:!1}),B.F.input("lastName",{label:"Last name",required:!1})],this.formRowClasses="flex flex-auto",this.model={},this.options={formState:{mainModel:this.model}},this.signatureDoc="",this.steps=[{type:"stepper",templateOptions:{formClass:"flex flex-auto",onComplete:()=>this.submit()},fieldGroup:[{templateOptions:{label:"User Registration"},fieldGroup:[...this.fields]},{key:"registrantSignature",type:"file-viewer",templateOptions:{label:"Please Sign",document$:(0,H.of)(this.signatureDoc),signatureBoxName:"",redirectUrlAfterSignature:"/apps/dashboard",ownerName:"PCH",signerName:"",signerInitials:"",documentSubmit:o=>{console.log("signature",o)}},hooks:{afterViewChecked:()=>{setTimeout(()=>{this.GetTemplate("ckyuloscl0097y0veddmeuxwh")},100)},onDestroy:()=>{null!==document.getElementById("txViewer")&&typeof TXDocumentViewer<"u"&&(console.log("in the destroy",TXDocumentViewer),TXDocumentViewer)}}},{key:"thankYou",templateOptions:{label:"Thank You"},fieldGroupClassName:"grid grid-cols-1",fieldGroup:[B.F.template("\n            <div>\n              <h2>\n                Thank you for applying!\n                Ready to submit your application?\n                Click the green button below to finish the application process.\n              </h2>\n            </div>\n\n            ")]}]}]}ngOnDestroy(){null!==document.getElementById("txViewer")&&typeof TXDocumentViewer<"u"&&console.log("in the destroy",TXDocumentViewer)}submit(){return(0,Gt.mG)(this,void 0,void 0,function*(){console.log("submi data = ",this.model),yield this.register(this.model)})}register(t){return(0,Gt.mG)(this,void 0,void 0,function*(){let i="";const{name:r}=t;i=""===r||null==r?"Loan Application":r;const{email:o,phoneNumber:s,firstName:d,lastName:h,username:p,password:u}=t.userRegistration;this.store.registerEffect({email:o,phone:s,firstName:d,lastName:h,username:p,password:u})})}checkDocumentViewer(){null!==TXDocumentViewer&&(TXDocumentViewer.init({containerID:"txViewer",viewerSettings:{signatureSettings:this.GetSignatureSettingsForUser(),userNames:[],dock:1,documentData:this.signatureDoc,documentPath:"test.docx",toolbarDocked:!0,isSelectionActivated:!0,showThumbnailPane:!0,resources:null,basePath:"https://documentserver.caseclinical.com:443/MemberOnboarding"}}),TXDocumentViewer.setSubmitCallback(this.documentSubmit.bind(this)))}documentSubmit(t){this.store.user$.pipe((0,$t.b)(()=>{})).subscribe()}GetSignatureSettingsForUser(){var t,i,r,o;return{ownerName:"PCH",signatureBoxName:"txsign",signerName:(null===(t=this.model)||void 0===t?void 0:t.firstName)+" "+(null===(i=this.model)||void 0===i?void 0:i.lastName),signerInitials:(null===(r=this.model)||void 0===r?void 0:r.firstName.substring(0,1))+(null===(o=this.model)||void 0===o?void 0:o.lastName.substring(0,1)),showSignatureBar:!0}}GetTemplate(t){return this.data.userTemplate({templateId:t}).pipe((0,Re._b)(i=>{console.log(i.data),this.signatureDoc=i.data.item.attachment},i=>console.log(i)),(0,$t.b)(()=>this.http.post("https://documentserver.caseclinical.com:443/MemberOnboarding/MergeRawStringDocument",{data:JSON.stringify(this.model),template:this.signatureDoc}).subscribe(r=>{const o=r.document;return this.signatureDoc=o,this.checkDocumentViewer(),o}))).subscribe()}toggleProgress(t){this.canProgress=t}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(Ie.Q),a.Y36(Te.q),a.Y36(Ee.eN))},e.\u0275cmp=a.Xpm({type:e,selectors:[["ng-component"]],features:[a._Bn([{provide:Qt.gx,useValue:{showError:!0}}])],decls:2,vars:3,consts:[[1,"bg-white","dark:bg-gray-800","py-8","px-4","shadow"],[3,"fields","model","options"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0),a._UZ(1,"ui-form",1),a.qZA()),2&t&&(a.xp6(1),a.Q6J("fields",i.steps)("model",i.model)("options",i.options))},dependencies:[Be.a],encapsulation:2}),e})();var Fe=l(19859),Le=l(70383),T=l(12687),Ne=l(48580),Ve=l(64425),Pe=l(73555),Q=l(84080),Z=l(67376),x=(l(40445),l(21281),l(95017),l(83353),l(77579));l(80188),l(61135),l(45191),l(82722),l(95698);let Jt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[Z.Cl]}),e})(),te=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({}),e})();var ni=l(47957),m=l(3238);let ri=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[T.rt,m.BQ,m.BQ]}),e})();var oi=l(97855);l(37340);let si=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[oi.Su,m.BQ,Q.eL,m.BQ]}),e})();var Tt=l(4859),di=l(90811);let Ri=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[m.BQ,w.ez,m.BQ]}),e})();var Ii=l(56709),b=(l(56451),l(68675),l(63900),l(29521)),C=l(24006);l(59549);const ct=new a.OlP("mat-chips-default-options");let da=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({providers:[m.rD,{provide:ct,useValue:{separatorKeyCodes:[b.K5]}}],imports:[m.BQ,w.ez,m.si,m.BQ]}),e})();var ca=l(58425),ht=l(98184),de=(l(50727),l(44144));let ha=(()=>{class e{constructor(){this.changes=new x.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(t,i){return`${t} \u2013 ${i}`}formatYearRangeLabel(t,i){return`${t} to ${i}`}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const xa={provide:new a.OlP("mat-datepicker-scroll-strategy"),deps:[ht.aV],useFactory:function ya(e){return()=>e.scrollStrategies.reposition()}};let Ra=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({providers:[ha,xa],imports:[w.ez,Tt.ot,ht.U8,T.rt,Q.eL,m.BQ,Z.ZD]}),e})();var Ia=l(65938),pe=l(44850),Ta=l(49652);let Oa=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[m.uc,m.BQ,m.uc,m.BQ]}),e})();var Fa=l(97392),_e=l(49643);let hn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[_e.Q8,w.ez,m.BQ,m.si,m.us,pe.t]}),e})();var pn=l(28255),un=l(98739),_n=l(73162),gn=l(51572),fn=l(71948),vn=l(84385),bn=l(23267),wn=l(87314),yn=l(90455);let Cn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[ht.U8,Q.eL,w.ez,Tt.ot,m.BQ,m.BQ]}),e})(),Yt=(()=>{class e{constructor(){this.changes=new x.x}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Sn={provide:Yt,deps:[[new a.FiY,new a.tp0,Yt]],useFactory:function Mn(e){return e||new Yt}};let An=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({providers:[Sn],imports:[w.ez,m.BQ]}),e})(),$n=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[m.BQ,Jt,m.BQ]}),e})();var Zn=l(3848);let Un=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[m.BQ,m.BQ]}),e})();var qn=l(10266);let ar=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[te,m.BQ,m.BQ]}),e})(),nr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[T.rt,Ne.XD,Ve.Iq,Qt.U5,Jt,te,Pe._t,ni.Bb,ri,si,Tt.ot,di.vV,Ri,Ii.p9,da,ca.T5,Ra,Ia.Is,pe.t,Ta.To,Oa,Fa.Ps,de.c,hn,pn.Tx,m.XK,un.TU,_n.Cv,gn.Cq,fn.Fk,m.si,vn.LD,bn.SJ,wn.KP,yn.rP,Cn,An,$n,Zn.Nh,Un,qn.AV,ar,ht.U8,Q.eL,Z.Cl]}),e})();const rr=[{path:"",component:Oe}];let or=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[w.ez,Fe.t,C.u5,C.UX,nr,Le.L,Me.Bz.forChild(rr),Ae.I,Se.z]}),e})()}}]);