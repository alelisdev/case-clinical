"use strict";(self.webpackChunkattorney=self.webpackChunkattorney||[]).push([[757],{56757:(Ze,tt,g)=>{g.r(tt),g.d(tt,{AttorneyPagesModule:()=>Se});var y=g(36895),e=g(94650);let A=(()=>{class o{onResize(){this.determinePosition()}onLoad(){this.determinePosition()}onChange(){this.determinePosition()}determinePosition(){const t=document.body,s=document.documentElement;let i=960;i=Math.min(t.scrollHeight,t.offsetHeight,s.clientHeight,s.offsetHeight);const n=document.querySelector(".header"),f=+window.getComputedStyle(n??s,null).getPropertyValue("height").replace("px",""),l=document.querySelector(".breadcrum"),d=+window.getComputedStyle(l??s,null).getPropertyValue("height").replace("px",""),h=document.querySelector(".footer");let u=i-+window.getComputedStyle(h??s,null).getPropertyValue("height").replace("px","")-d-f;u<500&&(u=500)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["attorney-base-component"]],hostBindings:function(t,s){1&t&&e.NdJ("resize",function(n){return s.onResize(n)},!1,e.Jf7)("load",function(n){return s.onLoad(n)},!1,e.Jf7)("change",function(n){return s.onChange(n)},!1,e.Jf7)},decls:0,vars:0,template:function(t,s){},encapsulation:2}),o})();var M=g(24280),Z=g(84264),k=g(4523),H=g(1463),O=g(71873),K=g(30269),U=g(90562),x=g(73602);let et=(()=>{class o extends M.m1{constructor(t,s,i,n,a,f){super({query:"",loading:!1,selectedAttorneyId:"all"}),this.formService=t,this.loading=s,this.toast=i,this.attorneyStore=n,this.authStore=a,this.data=f,this.attorneys$=this.attorneyStore.attorneys$,this.user$=this.select(this.authStore.user$,l=>{let p="";if(l?.dateOfBirth){const h=(0,Z.Ay)(l.dateOfBirth);p?p+=` - ${h} Years`:p=`${h} Years`}return Object.assign(Object.assign({},l),{genderAndDob:p})}),this.attorneyId=this.select(this.authStore.user$,l=>l?.attorneyId),this.selectedAttorneyId$=this.select(l=>{var p;return null!==(p=l.selectedAttorneyId)&&void 0!==p?p:"all"}),this.attorneyOptions$=this.select(this.attorneys$,l=>[{id:"all",name:"All"},...l]),this.firmId$=this.select(this.attorneys$,l=>{if(l?.length>0)return l[0].firmId}),this.loading$=this.select(l=>l.loading),this.vm$=this.select(this.loading$,l=>({loading:l})),this.setSelectedAttorneyId=this.updater((l,p)=>Object.assign(Object.assign({},l),{selectedAttorneyId:p})),this.loadData()}loadData(){this.attorneyStore.loadAttorneysEffect()}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(k.o),e.LFG(H.c),e.LFG(O.F),e.LFG(K.I),e.LFG(U.Q),e.LFG(x.q))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),F=(()=>{class o extends M.m1{constructor(t){super(),this.attorneyPortalStore=t.get(et),this.selectedAttorneyId$=this.attorneyPortalStore.selectedAttorneyId$,this.attorneyOptions$=this.attorneyPortalStore.attorneyOptions$,this.firmId$=this.attorneyPortalStore.firmId$,this.attorneyId$=this.attorneyPortalStore.attorneyId,this.setState(this.getInitialState()),this.user$=this.select(this.attorneyPortalStore.user$,s=>{var i,n,a,f;let l=0,p=0;return!(null===(i=s?.vendor)||void 0===i)&&i.latitude&&(l=null===(n=s.vendor)||void 0===n?void 0:n.latitude),!(null===(a=s?.vendor)||void 0===a)&&a.longitude&&(p=null===(f=s.vendor)||void 0===f?void 0:f.longitude),Object.assign(Object.assign({},s),{latitude:l,longitude:p})})}attorneyIdDidChange(t){}setSelectedAttorneyId(t){this.attorneyPortalStore.setSelectedAttorneyId(t),this.attorneyIdDidChange(t)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(e.zs3))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();var C=g(18505),$=g(63900),b=g(39646),j=g(11365),$t=g(60515),E=g(15439),P=g(19647),ot=g(3866),It=g(94214),V=g(53783);let st=(()=>{class o extends F{constructor(t,s,i,n,a,f,l,p,d,h){super(n),this.calendarAppointmentStore=t,this.listAppointmentStore=s,this.listProviderLocationStore=i,this.data=a,this.legalCasestore=f,this.locationStore=l,this.serviceStore=p,this.specialtyStore=d,this.toast=h,this.distance="100",this.loading$=this.select(m=>m.loading),this.centerLongitude$=this.select(m=>m.centerLongitude),this.centerLatitude$=this.select(m=>m.centerLatitude),this.searchable$=this.select(this.centerLongitude$,this.centerLatitude$,(m,c)=>m&&c),this.stats$=this.select(m=>m.stats),this.appointmentEvents$=this.select(this.calendarAppointmentStore.formattedAppointments$,m=>m.map(c=>{var u,v,_,I,S;return c?.end||(c.end=(0,Z.xZ)(null!==(u=c.start)&&void 0!==u?u:"00:00",null!==(v=c.duration)&&void 0!==v?v:0)),Object.assign(Object.assign({},c),{id:c.id,start:new Date(`${E(c.appointmentDateAndTime).format("MM-DD-yyyy")} ${c.start}`),end:new Date(`${E(c.appointmentDateAndTime).format("MM-DD-yyyy")} ${null!==(_=c.end)&&void 0!==_?_:"?"}`),title:`${null===(I=c.clinicalProvider)||void 0===I?void 0:I.name} ${c.start} - ${null!==(S=c.end)&&void 0!==S?S:"?"}`,data:c})}).filter(c=>c.appointmentDateAndTime&&c.start&&c.end>c.start)),this.providerLocations$=this.listProviderLocationStore.formattedClinicalProviderLocations$.pipe((0,C.b)(m=>console.log(m))),this.mapProviderLocations$=this.select(this.providerLocations$,m=>m.map(c=>{var u,v;return Object.assign(Object.assign({},c),{latitude:null===(u=c.location)||void 0===u?void 0:u.latitude,longitude:null===(v=c.location)||void 0===v?void 0:v.longitude})})),this.locationsCount$=this.select(this.providerLocations$,m=>{var c;return null!==(c=m?.length)&&void 0!==c?c:0}),this.appointments$=this.listAppointmentStore.appointments$.pipe((0,$.w)(m=>(0,b.of)(m.filter(c=>c.clinicalProviderId)))),this.legalCases$=this.legalCasestore.legalCases$,this.legalCasesPaging$=this.legalCasestore.paging$,this.legalCaseUpdates$=this.legalCasestore.legalCaseUpdates$,this.locations$=this.locationStore.locations$,this.selectedDate$=this.select(m=>m.selectedDate),this.dayAppointments$=this.select(this.appointments$,this.selectedDate$,(m,c)=>m.filter(u=>!!E(E(u.appointmentDateAndTime).format("MM-DD-yyyy")).isSame(E(c)))),this.legalCaseUpdatesCount$=this.legalCaseUpdates$.pipe((0,$.w)(m=>{var c;return(0,b.of)(null!==(c=m.length)&&void 0!==c?c:0)})),this.services$=this.serviceStore.services$,this.specialties$=this.specialtyStore.specialties$,this.bills$=this.appointments$.pipe((0,$.w)(m=>{const c=[];return m.map(u=>{var v,_,I,S;u?.medicalReportId&&c.push(Object.assign(Object.assign({},u),{name:null===(v=u?.clinicalProvider)||void 0===v?void 0:v.name,document:null===(_=u?.medicalReport)||void 0===_?void 0:_.name})),u?.billId&&c.push(Object.assign(Object.assign({},u),{name:null===(I=u?.clinicalProvider)||void 0===I?void 0:I.name,document:null===(S=u?.bill)||void 0===S?void 0:S.name}))}),(0,b.of)(c)})),this.vm$=this.select(this.loading$,this.stats$,this.appointments$,this.bills$,this.user$,this.legalCaseUpdates$,this.legalCaseUpdatesCount$,this.searchable$,this.locationsCount$,(m,c,u,v,_,I,S,D,N)=>({loading:m,stats:c,user:_,bills:v,dayOfWeek:(new Date).toLocaleDateString("en-US",{weekday:"long"}),today:(new Date).toLocaleDateString("en-US",{month:"long",day:"numeric"}),legalCaseUpdates:I,legalCaseUpdatesCount:S,searchable:D,locationsCount:N})),this.loadVendorStatsEffect=this.effect(m=>m.pipe((0,C.b)(()=>{this.patchState({loading:!0})}),(0,j.M)(this.attorneyId$),(0,$.w)(([,c])=>this.data.userVendorStats({providorId:c}).pipe((0,M._b)(u=>{var v,_,I,S,D,N,T,G,J,z,Q,Y;this.setStats({totalPatientCount:null!==(_=null===(v=u.data.stats)||void 0===v?void 0:v.totalPatientCount)&&void 0!==_?_:0,todayPatientCount:null!==(S=null===(I=u.data.stats)||void 0===I?void 0:I.todayPatientCount)&&void 0!==S?S:0,appointmentCount:null!==(N=null===(D=u.data.stats)||void 0===D?void 0:D.appointmentCount)&&void 0!==N?N:0,totalPatientPercent:null!==(G=null===(T=u.data.stats)||void 0===T?void 0:T.totalPatientPercent)&&void 0!==G?G:0,todayPatientPercent:null!==(z=null===(J=u.data.stats)||void 0===J?void 0:J.todayPatientPercent)&&void 0!==z?z:0,appointmentsPercent:null!==(Y=null===(Q=u.data.stats)||void 0===Q?void 0:Q.appointmentsPercent)&&void 0!==Y?Y:0})},u=>{this.patchState({loading:!1})}))))),this.setSelectedDate=this.updater((m,c)=>Object.assign(Object.assign({},m),{selectedDate:c})),this.setCenterLatitude=this.updater((m,c)=>Object.assign(Object.assign({},m),{centerLatitude:c.toString()})),this.setStats=this.updater((m,c)=>Object.assign(Object.assign({},m),{stats:c})),this.setCenterLongitude=this.updater((m,c)=>Object.assign(Object.assign({},m),{centerLongitude:c.toString()})),this.setAppointmentsEffect=this.effect(m=>m.pipe((0,C.b)(()=>{this.patchState({loading:!0})}),(0,j.M)(this.user$),(0,$.w)(([c,u])=>{if(!u)return $t.E;const{attorneyId:v}=u;return"all"==c&&this.listAppointmentStore.setAttorneyId("all"),"me"==c&&this.listAppointmentStore.setAttorneyId(v),this.listAppointmentStore.setLimit(10),this.calendarAppointmentStore.loadAppointmentsEffect(),(0,b.of)(!0)}))),this.loadLegalCasesEffect=this.effect(m=>m.pipe((0,C.b)(()=>{this.patchState({loading:!0})}),(0,j.M)(this.attorneyId$),(0,$.w)(([c,u])=>("all"==c&&this.legalCasestore.setAttorneyId(void 0),"me"==c&&this.legalCasestore.setAttorneyId(u),this.legalCasestore.loadLegalCasesEffect(),(0,b.of)(!0))))),this.updateFavoriteProviderEffect=this.effect(m=>m.pipe((0,C.b)(()=>{this.patchState({loading:!0})}),(0,$.w)(({clinicalProviderId:c,like:u})=>u?this.data.userAddToFavorites({clinicalProviderId:c}).pipe((0,M._b)(v=>{var _;this.toast.success("Successfully added to favorites",{duration:2e3}),this.listProviderLocationStore.updateClinicalProvider(null===(_=v.data)||void 0===_?void 0:_.updated)},v=>{this.toast.error(v.graphQLErrors[0].message)})):this.data.userRemoveFromFavorites({clinicalProviderId:c}).pipe((0,M._b)(v=>{var _;this.toast.success("Removed from favorites",{duration:2e3}),this.listProviderLocationStore.updateClinicalProvider(null===(_=v.data)||void 0===_?void 0:_.updated)},v=>{this.toast.error(v.graphQLErrors[0].message)}))))),this.listAppointmentStore.setLimit(10),this.listAppointmentStore.loadAppointmentsEffect(),this.legalCasestore.setLimit(10),this.loadLegalCasesEffect("me"),this.legalCasestore.loadLegalCasesUpdatesEffect(),this.listProviderLocationStore.setDistance(100),this.serviceStore.loadServicesEffect(),this.specialtyStore.loadSpecialtiesEffect(),this.loadVendorStatsEffect()}openLeadCreateModal(){var t;null===(t=this.leadCreateModalControl)||void 0===t||t.open()}closeLeadCreateModal(){var t;null===(t=this.leadCreateModalControl)||void 0===t||t.close()}setLeadCreateModalControl(t){this.leadCreateModalControl=t}openTruamaCreateModal(){var t;null===(t=this.truamaModalControl)||void 0===t||t.open()}setTruamaCreateModalControl(t){this.truamaModalControl=t}openRatingbarCreateModal(){var t;null===(t=this.ratingbarModalControl)||void 0===t||t.open({},{},this)}closeRatingbarCreateModal(){var t;null===(t=this.ratingbarModalControl)||void 0===t||t.close()}setRatingbarCreateModalControl(t){this.ratingbarModalControl=t}openProviderSearchModal(){var t;null===(t=this.providerSearchModalControl)||void 0===t||t.open({selectedSpecialty:this.selectedSpecialites,selectedServices:this.selectedServices,searchValue:this.searchValue,searchRange:this.distance})}setProviderSearchModalControl(t){this.providerSearchModalControl=t}setBodySpcialities(t){const s=[];t.forEach(i=>{s.push(i?.id)}),this.selectedSpecialites=s}saveTruamaCashData(){console.log("Save Data")}setLegalCasesSkip(t){this.legalCasestore.setSkip(t),this.legalCasestore.loadLegalCasesEffect()}setRxFormlyModalController(t){this.rxFormlyModalController=t}setImagingFormlyModalContoller(t){this.imagingFormlyModalContoller=t}setRecOrdersFormlyModalController(t){this.recOrdersFormlyModalController=t}setReferralsFormlyModalController(t){this.referralsFormlyModalController=t}setAppointmentsFormlyModalController(t){this.appointmentsFormlyModalController=t}openRxFormlyModalController(){var t;null===(t=this.rxFormlyModalController)||void 0===t||t.open({},{},{})}openImagingFormlyModalContoller(){var t;null===(t=this.imagingFormlyModalContoller)||void 0===t||t.open({},{},{})}openRecOrdersFormlyModalController(){var t;null===(t=this.recOrdersFormlyModalController)||void 0===t||t.open({},{},{})}openReferralsFormlyModalController(){var t;null===(t=this.referralsFormlyModalController)||void 0===t||t.open({},{},{})}openAppointmentsFormlyModalController(){var t;null===(t=this.appointmentsFormlyModalController)||void 0===t||t.open({},{},{})}setClickAppointmentFormlyModalController(t){this.clickAppointmentFormlyModalController=t}setSearchFilterFormlyModalController(t){this.searchFilterFormlyModalController=t}setAddAppointmentFormlyModalController(t){this.addAppointmentFormlyModalController=t}setAddRatingFormlyModalController(t){this.addRatingFormlyModalController=t}openAddAppointmentDialog(){var t;null===(t=this.addAppointmentModalController)||void 0===t||t.open()}loadClinicalProviderLocations(t){this.locationStore.setClinicalProviderId(t),this.locationStore.loadLocationsEffect()}openClickAppointmentDialog(){var t;null===(t=this.clickAppointmentFormlyModalController)||void 0===t||t.open({},{},{})}createAppointment(t){this.setSelectedDate(t),this.dayAppointments$.subscribe(s=>{var i;null===(i=this.addAppointmentFormlyModalController)||void 0===i||i.open({},{dayAppointments:s},{})}).unsubscribe()}saveAppointment(t){this.listAppointmentStore.createAppointmentEffect(t)}valueChangedByName(t){this.searchValue=t}filterBySpecialist(t){this.selectedSpecialites=t}setLocationFilter(t){this.listProviderLocationStore.setCenterLocation(t)}setDistanceFilter(t){t&&(this.listProviderLocationStore.setDistance(Number(t)),this.distance=t)}filterByServicelist(t){this.selectedServices=t}searchProvider(){var t,s,i;null===(t=this.providerSearchModalControl)||void 0===t||t.close(),this.listProviderLocationStore.setProviderName(null!==(s=this.searchValue)&&void 0!==s?s:(0,b.of)("")),this.listProviderLocationStore.setSpecialties(null!==(i=this.selectedSpecialites)&&void 0!==i?i:(0,b.of)([])),this.listProviderLocationStore.loadClinicalProviderLocationsEffect()}clearProviderSearchFilter(){this.listProviderLocationStore.setProviderName(void 0),this.listProviderLocationStore.setSpecialties(void 0),this.selectedSpecialites=[],this.selectedServices=[],this.searchValue="",this.listProviderLocationStore.clear()}valueChangedLegalCaseByName(t){this.legalCasestore.setSearchQuery(t),this.legalCasestore.loadLegalCasesEffect()}calendarDateRangeDidChange(t){const s={};s.startDate=t.start,s.endDate=t.end,s.operator="In",this.calendarAppointmentStore.setDateFilter(s),this.calendarAppointmentStore.loadAppointmentsEffect()}attorneyIdDidChange(t){this.listAppointmentStore.setAttorneyId(t),this.listAppointmentStore.loadAppointmentsEffect()}getInitialState(){return{query:"",loading:!1,selectedDate:void 0,centerLatitude:void 0,centerLongitude:void 0}}}return o.\u0275fac=function(t){return new(t||o)(e.LFG("calendarAppointmentStore"),e.LFG("listAppointmentStore"),e.LFG("listProviderLocationStore"),e.LFG(e.zs3),e.LFG(x.q),e.LFG(P.d),e.LFG(ot.v),e.LFG(It.m),e.LFG(V.T),e.LFG(O.F))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();var w=g(95614),q=g(30760),X=g(6489),it=g(62336),L=g(92518);function bt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"ui-formly-json-form",1),e.NdJ("formIsReady",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onResize())}),e.qZA()}if(2&o){const t=r.ngIf,s=e.oxw();e.Q6J("showSubmitButton",!1)("componentStore",s.store)("model",s.model)("formData",s.getFormData(t))}}let At=(()=>{class o extends A{getFormData(t){return Object.assign(Object.assign({},t),{pageName:this.pageName,portalName:this.portalName,attorneys:this.store.attorneyOptions$,locations:this.store.locations$,legalCasesPaging:this.store.legalCasesPaging$,legalCases:this.store.legalCases$,appointmentEvents:this.store.appointmentEvents$,specialties:this.store.specialties$,services:this.store.services$,providerLocations:this.store.providerLocations$,mapProviderLocations:this.store.mapProviderLocations$})}constructor(t){super(),this.store=t,this.pageName="Dashboard",this.portalName="Attorney",this.vm$=this.store.vm$,this.selectedAttorneyId$=this.store.selectedAttorneyId$,this.model={searchRange:"100"}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(st))},o.\u0275cmp=e.Xpm({type:o,selectors:[["case-clinical-dashboard"]],features:[e._Bn([st,w.L6,{provide:"calendarAppointmentStore",useClass:w.L6},{provide:"listAppointmentStore",useClass:w.L6},{provide:"listProviderLocationStore",useClass:q.j},K.I,X.O,P.d,ot.v,it.J]),e.qOj],decls:2,vars:3,consts:[["class","w-full h-full","formName","page_attorney_dashboard",3,"showSubmitButton","componentStore","model","formData","formIsReady",4,"ngIf"],["formName","page_attorney_dashboard",1,"w-full","h-full",3,"showSubmitButton","componentStore","model","formData","formIsReady"]],template:function(t,s){1&t&&(e.YNc(0,bt,1,4,"ui-formly-json-form",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.vm$))},dependencies:[y.O5,L.M,y.Ov],styles:[".blur_button:hover{zoom:1.05}"]}),o})(),nt=(()=>{class o extends F{constructor(t,s,i){super(i),this.calendarAppointmentStore=t,this.listAppointmentStore=s,this.loading$=this.select(n=>n.loading),this.skip$=this.select(n=>n.skip),this.limit$=this.select(n=>n.limit),this.dateFilter$=this.select(n=>n.dateFilter),this.viewMode$=this.select(n=>n.viewMode),this.appointments$=this.select(this.listAppointmentStore.formattedAppointments$,n=>n.map(a=>{var f,l,p,d,h,m,c,u;return Object.assign(Object.assign({},a),{mainLocation:null!==(f=a?.clinicalProvider)&&void 0!==f&&f.clinicalProviderLocations&&(null===(p=null===(l=a?.clinicalProvider)||void 0===l?void 0:l.clinicalProviderLocations)||void 0===p?void 0:p.length)>0?null===(h=null===(d=a?.clinicalProvider)||void 0===d?void 0:d.clinicalProviderLocations[0].location)||void 0===h?void 0:h.name:"",avatar:null!==(m=a.patient)&&void 0!==m&&m.users?null===(u=null===(c=a.patient)||void 0===c?void 0:c.users[0])||void 0===u?void 0:u.avatarUrl:""})})),this.paging$=this.listAppointmentStore.paging$,this.appointmentEvents$=this.select(this.calendarAppointmentStore.formattedAppointments$,n=>n.map(a=>{var f,l,p,d,h;return a?.end||(a.end=(0,Z.xZ)(null!==(f=a.start)&&void 0!==f?f:"00:00",null!==(l=a.duration)&&void 0!==l?l:0)),Object.assign(Object.assign({},a),{id:a.id,start:new Date(`${E(a.appointmentDateAndTime).format("MM-DD-yyyy")} ${a.start}`),end:new Date(`${E(a.appointmentDateAndTime).format("MM-DD-yyyy")} ${null!==(p=a.end)&&void 0!==p?p:"?"}`),title:`${null===(d=a.clinicalProvider)||void 0===d?void 0:d.name} ${a.start} - ${null!==(h=a.end)&&void 0!==h?h:"?"}`,data:a})}).filter(a=>a.appointmentDateAndTime&&a.start&&a.end>a.start)),this.vm$=this.select(this.loading$,this.appointments$,this.appointmentEvents$,this.user$,(n,a,f,l)=>(console.log("appointmentEvent",f),{loading:n,user:l,appointments:a,timeEvents:f})),this.setDateFilter=this.updater((n,a)=>Object.assign(Object.assign({},n),{dateFilter:a})),this.setSkip=this.updater((n,a)=>Object.assign(Object.assign({},n),{skip:a})),this.setViewMode=this.updater((n,a)=>Object.assign(Object.assign({},n),{viewMode:a})),this.loadAppoinmentsEffect=this.effect(n=>n.pipe((0,C.b)(()=>{this.patchState({loading:!0})}),(0,j.M)(this.selectedAttorneyId$,this.viewMode$,this.skip$,this.limit$,this.dateFilter$),(0,$.w)(([,a,f,l,p,d])=>("List"===f?(this.listAppointmentStore.setDateFilter(void 0),this.listAppointmentStore.setLimit(p),this.listAppointmentStore.setSkip(l),this.listAppointmentStore.setAttorneyId("all"!==a?a:void 0),this.listAppointmentStore.loadAppointmentsEffect()):(this.calendarAppointmentStore.setDateFilter(d),this.calendarAppointmentStore.setLimit(1e4),this.calendarAppointmentStore.setSkip(0),this.calendarAppointmentStore.setAttorneyId("all"!==a?a:void 0),this.calendarAppointmentStore.loadAppointmentsEffect()),(0,b.of)(!0))))),this.listAppointmentStore.setLimit(10),this.loadAppoinmentsEffect()}viewModeDidChange(t){this.setViewMode(t),this.loadAppoinmentsEffect()}dateFilterDidChange(t){const s={};s.startDate=t.start,s.endDate=t.end,s.operator="In",this.setDateFilter(s),this.loadAppoinmentsEffect()}skipDidChange(t){this.setSkip(t),this.loadAppoinmentsEffect()}checkInAppointment(t){this.listAppointmentStore.checkInAppointmentEffect(t)}cancelAppointment(t){this.listAppointmentStore.cancelAppointmentEffect(t)}hideAppointment(t){this.listAppointmentStore.hideAppointmentEffect(t)}attorneyIdDidChange(t){this.loadAppoinmentsEffect()}getInitialState(){return{query:"",loading:!1,skip:0,viewMode:"List",dateFilter:void 0,limit:10}}}return o.\u0275fac=function(t){return new(t||o)(e.LFG("calendarAppointmentStore"),e.LFG("listAppointmentStore"),e.LFG(e.zs3))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();function Ft(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"ui-formly-json-form",1),e.NdJ("formIsReady",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onResize())}),e.qZA()}if(2&o){const t=r.ngIf,s=e.oxw();e.Q6J("showSubmitButton",!1)("componentStore",s.store)("model",s.model)("formData",s.getFormData(t))}}let Lt=(()=>{class o extends A{constructor(t){super(),this.store=t,this.pageName="Appointments",this.portalName="Attorney",this.model={},this.vm$=this.store.vm$,this.subscriber=this.store.selectedAttorneyId$.subscribe(s=>{this.model.attorneyId=s})}ngOnDestroy(){var t;null===(t=this.subscriber)||void 0===t||t.unsubscribe()}getFormData(t){return Object.assign(Object.assign({},t),{portalName:this.portalName,pageName:this.pageName,attorneys:this.store.attorneyOptions$,paging:this.store.paging$})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(nt))},o.\u0275cmp=e.Xpm({type:o,selectors:[["case-clinical-appointments"]],features:[e._Bn([nt,w.L6,{provide:"calendarAppointmentStore",useClass:w.L6},{provide:"listAppointmentStore",useClass:w.L6}]),e.qOj],decls:2,vars:3,consts:[["class","w-full h-full","formName","page_attorney_appointments",3,"showSubmitButton","componentStore","model","formData","formIsReady",4,"ngIf"],["formName","page_attorney_appointments",1,"w-full","h-full",3,"showSubmitButton","componentStore","model","formData","formIsReady"]],template:function(t,s){1&t&&(e.YNc(0,Ft,1,4,"ui-formly-json-form",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.vm$))},dependencies:[y.O5,L.M,y.Ov]}),o})();var R=g(56794);let at=(()=>{class o extends F{constructor(t,s,i,n,a,f,l,p){super(t),this.appointmentstore=s,this.data=i,this.documentStore=n,this.legalCaseStore=a,this.specialtyStore=f,this.toast=l,this.listProviderLocationStore=p,this.centerLongitude$=this.select(d=>d.centerLongitude),this.centerLatitude$=this.select(d=>d.centerLatitude),this.loading$=this.select(d=>d.loading),this.legalCases$=this.legalCaseStore.legalCases$,this.specialties$=this.specialtyStore.specialties$,this.providerLocations$=this.listProviderLocationStore.formattedClinicalProviderLocations$.pipe((0,C.b)(d=>console.log(d))),this.mapProviderLocations$=this.select(this.providerLocations$,d=>d.map(h=>{var m,c;return Object.assign(Object.assign({},h),{latitude:null===(m=h.location)||void 0===m?void 0:m.latitude,longitude:null===(c=h.location)||void 0===c?void 0:c.longitude})})),this.locationsCount$=this.select(this.providerLocations$,d=>{var h;return null!==(h=d?.length)&&void 0!==h?h:0}),this.listProviderLocationsPaging$=this.listProviderLocationStore.paging$,this.attachment$=this.documentStore.item$.pipe((0,C.b)(d=>{d&&!d.attachment&&this.toast.error("Cannot find attachment file!",{duration:2e3})})),this.searchable$=this.select(this.centerLongitude$,this.centerLatitude$,(d,h)=>d&&h),this.vm$=this.select(this.loading$,this.user$,this.centerLongitude$,this.centerLatitude$,this.searchable$,this.locationsCount$,(d,h,m,c,u,v)=>({loading:d,doctorsCount:v,user:h,centerLongitude:m,centerLatitude:c,searchable:u})),this.setCenterLatitude=this.updater((d,h)=>Object.assign(Object.assign({},d),{centerLatitude:h.toString()})),this.setCenterLongitude=this.updater((d,h)=>Object.assign(Object.assign({},d),{centerLongitude:h.toString()})),this.loadLegalCasesEffect=this.effect(d=>d.pipe((0,C.b)(()=>{this.patchState({loading:!0})}),(0,j.M)(this.attorneyId$),(0,$.w)(([,h])=>(this.legalCaseStore.setAttorneyId(h),this.legalCaseStore.loadLegalCasesEffect(),(0,b.of)(!0))))),this.updateFavoriteProviderEffect=this.effect(d=>d.pipe((0,C.b)(()=>{this.patchState({loading:!0})}),(0,$.w)(({clinicalProviderId:h,like:m})=>m?this.data.userAddToFavorites({clinicalProviderId:h}).pipe((0,M._b)(c=>{var u;this.toast.success("Successfully added to favorites",{duration:2e3}),this.listProviderLocationStore.updateClinicalProvider(null===(u=c.data)||void 0===u?void 0:u.updated)},c=>{this.toast.error(c.graphQLErrors[0].message)})):this.data.userRemoveFromFavorites({clinicalProviderId:h}).pipe((0,M._b)(c=>{var u;this.toast.success("Removed from favorites",{duration:2e3}),this.listProviderLocationStore.updateClinicalProvider(null===(u=c.data)||void 0===u?void 0:u.updated)},c=>{this.toast.error(c.graphQLErrors[0].message)}))))),this.searchProviderLocationsEffect=this.effect(d=>d.pipe((0,C.b)(()=>{this.patchState({loading:!0})}),(0,j.M)(this.searchable$),(0,$.w)(([,h])=>(h&&this.listProviderLocationStore.loadClinicalProviderLocationsEffect(),(0,b.of)(!0))))),this.loadLegalCasesEffect(),this.specialtyStore.loadSpecialtiesEffect(),this.listProviderLocationStore.setDistance(100)}setAddAppointmentModalController(t){this.addAppointmentModalController=t}openAddAppointmentDialog(t){var s,i;null===(s=this.addAppointmentModalController)||void 0===s||s.open({clinicalProviderId:t?.clinicalProviderId,locationId:null===(i=t.location)||void 0===i?void 0:i.id,provider:t.clinicalProvider,location:t.location},{legalCases:this.legalCases$,provider:t.clinicalProvider,location:t.location},this)}saveAppointment(t){const s=this.appointmentstore.actionResult$.subscribe(h=>{var m;if(h){const{done:c}=h;c&&(null===(m=this.addAppointmentModalController)||void 0===m||m.close(),s.unsubscribe())}}),{appointmentDateAndTime:i,clinicalProviderId:n,legalCaseId:a,locationId:f,name:l,patientId:p,start:d}=t;this.appointmentstore.createAppointmentEffect({appointmentDateAndTime:i,clinicalProviderId:n,legalCaseId:a,locationId:f,name:l,patientId:p,start:d})}searchQueryDidChange(t){localStorage.setItem("queryFilter",t),this.listProviderLocationStore.setProviderName(t),this.searchProviderLocationsEffect()}filterBySpecialist(t){localStorage.setItem("specialtyFilter",t.join(",")),this.listProviderLocationStore.setSpecialties(t),this.searchProviderLocationsEffect()}filterByLocation(t){this.listProviderLocationStore.setCenterLocation(t),this.searchProviderLocationsEffect()}filterByDistance(t){t&&(localStorage.setItem("distanceFilter",t.toString()),this.listProviderLocationStore.setDistance(Number(t)),this.searchProviderLocationsEffect())}loadImageDetail(t){this.documentStore.loadDocumentEffect(t)}filterByFavorites(t){this.listProviderLocationStore.setFavorite(t),this.listProviderLocationStore.setSkip(0),this.searchProviderLocationsEffect()}getInitialState(){return{centerLatitude:void 0,centerLongitude:void 0,loading:!1,query:""}}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(e.zs3),e.LFG(w.L6),e.LFG(x.q),e.LFG(R.F),e.LFG(P.d),e.LFG(V.T),e.LFG(O.F),e.LFG("listProviderLocationStore"))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();function Dt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"ui-formly-json-form",1),e.NdJ("formIsReady",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onResize())}),e.qZA()}if(2&o){const t=r.ngIf,s=e.oxw();e.Q6J("showSubmitButton",!1)("componentStore",s.store)("model",s.model)("formData",s.getFormData(t))}}let Mt=(()=>{class o extends A{constructor(t){super(),this.store=t,this.pageName="Doctors Search",this.portalName="Attorney",this.model={distance:"100"},this.vm$=this.store.vm$;const s=localStorage.getItem("queryFilter"),i=localStorage.getItem("distanceFilter"),n=localStorage.getItem("addressFilter"),a=localStorage.getItem("specialtyFilter");s&&(this.model.providerName=s),i&&(this.model.distance=i),n&&(this.model.centerLocation=JSON.parse(n)),a&&(this.model.multiSelect=""==a?.split(",")[0]?[]:a?.split(","))}getFormData(t){return Object.assign(Object.assign({},t),{portalName:this.portalName,pageName:this.pageName,previewImage:this.store.attachment$,attorneys:this.store.attorneyOptions$,specialties:this.store.specialties$,providerLocations:this.store.providerLocations$,mapProviderLocations:this.store.mapProviderLocations$})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(at))},o.\u0275cmp=e.Xpm({type:o,selectors:[["case-clinical-doctors-search"]],features:[e._Bn([at,w.L6,R.F,P.d,V.T,{provide:"listProviderLocationStore",useClass:q.j}]),e.qOj],decls:2,vars:3,consts:[["class","w-full h-full","formName","page_attorney_doctors",3,"showSubmitButton","componentStore","model","formData","formIsReady",4,"ngIf"],["formName","page_attorney_doctors",1,"w-full","h-full",3,"showSubmitButton","componentStore","model","formData","formIsReady"]],template:function(t,s){1&t&&(e.YNc(0,Dt,1,4,"ui-formly-json-form",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.vm$))},dependencies:[y.O5,L.M,y.Ov]}),o})(),rt=(()=>{class o extends F{constructor(t,s,i){super(t),this.legalCaseStore=s,this.leadStore=i,this.loading$=this.select(n=>n.loading),this.legalCases$=this.legalCaseStore.legalCases$,this.leads$=this.leadStore.leads$,this.vm$=this.select(this.loading$,this.user$,this.legalCases$,this.leads$,(n,a,f,l)=>({loading:n,user:a,legalCases:f,leads:l})),this.loadLegalCasesEffect=this.effect(n=>n.pipe((0,C.b)(()=>{this.patchState({loading:!0})}),(0,j.M)(this.selectedAttorneyId$,this.firmId$),(0,$.w)(([,a,f])=>(this.legalCaseStore.setAttorneyId("all"!==a?a:void 0),this.legalCaseStore.setFirmId(f),this.legalCaseStore.loadLegalCasesEffect(),(0,b.of)(!0))))),this.loadLeadsEffect=this.effect(n=>n.pipe((0,C.b)(()=>{this.patchState({loading:!0})}),(0,j.M)(this.selectedAttorneyId$),(0,$.w)(([,a])=>(this.leadStore.setSubmittedById("all"!==a?a:void 0),this.leadStore.loadLeadsEffect(),(0,b.of)(!0))))),this.loadLegalCasesEffect(),this.loadLeadsEffect()}openLeadCreateModal(){var t;null===(t=this.leadCreateModalControl)||void 0===t||t.open()}closeLeadCreateModal(){var t;null===(t=this.leadCreateModalControl)||void 0===t||t.close()}setLeadCreateModalControl(t){this.leadCreateModalControl=t}attorneyIdDidChange(){this.loadLegalCasesEffect()}getInitialState(){return{query:"",loading:!1}}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(e.zs3),e.LFG(P.d),e.LFG(X.O))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();const Pt=function(o){return{attorneyId:o}};function jt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"ui-formly-json-form",2),e.NdJ("formIsReady",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onResize())}),e.qZA()}if(2&o){const t=r.ngIf,s=e.oxw().ngIf,i=e.oxw();e.Q6J("showSubmitButton",!1)("componentStore",i.store)("model",e.VKq(4,Pt,s))("formData",i.getFormData(t))}}function wt(o,r){if(1&o&&(e.ynx(0),e.YNc(1,jt,1,6,"ui-formly-json-form",1),e.ALo(2,"async"),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.vm$))}}let Nt=(()=>{class o extends A{constructor(t){super(),this.store=t,this.pageName="Members",this.portalName="Attorney",this.selectedAttorneyId$=this.store.selectedAttorneyId$,this.vm$=this.store.vm$}getFormData(t){return Object.assign(Object.assign({},t),{portalName:this.portalName,pageName:this.pageName,attorneys:this.store.attorneyOptions$})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(rt))},o.\u0275cmp=e.Xpm({type:o,selectors:[["case-clinical-members"]],features:[e._Bn([rt,P.d,X.O]),e.qOj],decls:2,vars:3,consts:[[4,"ngIf"],["class","w-full h-full","formName","page_attorney_members",3,"showSubmitButton","componentStore","model","formData","formIsReady",4,"ngIf"],["formName","page_attorney_members",1,"w-full","h-full",3,"showSubmitButton","componentStore","model","formData","formIsReady"]],template:function(t,s){1&t&&(e.YNc(0,wt,3,3,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.selectedAttorneyId$))},dependencies:[y.O5,L.M,y.Ov]}),o})();var lt=g(11913);let ct=(()=>{class o extends F{constructor(t,s){super(s),this.invoiceStore=t,this.loading$=this.select(i=>i.loading),this.invoices$=this.invoiceStore.invoices$,this.selectedInvoices$=this.select(i=>i.selectedInvoices),this.promiseAttorneyAmount$=this.select(i=>i.promiseAttorneyAmount),this.invoiceAll$=this.invoices$.pipe((0,$.w)(i=>(0,b.of)(i.map(n=>({id:n.id,name:n.name}))))),this.vm$=this.select(this.loading$,this.user$,this.invoices$,this.invoiceAll$,this.selectedInvoices$,this.promiseAttorneyAmount$,(i,n,a,f,l,p)=>{const d=l.length;return{loading:i,user:n,invoices:a,invoiceAll:f,selectedInvoices:l,promiseToPayModel:{promiseToPays:l.map(h=>Object.assign(Object.assign({},h),{pay:Math.ceil(p/d)})),promisePay:p}}}),this.setSelectedInvoices=this.updater((i,n)=>Object.assign(Object.assign({},i),{selectedInvoices:n})),this.setSettleAmount=this.updater((i,n)=>Object.assign(Object.assign({},i),{promiseAttorneyAmount:n})),this.invoiceStore.loadInvoicesEffect()}setAddPromisePayModalController(t){this.addPromisePayModalController=t}setAddPaymentPayModalController(t){this.addPaymentPayModalController=t}openAddPromisePayModalDialog(){var t;null===(t=this.addPromisePayModalController)||void 0===t||t.open()}openAddPaymentPayModalDialog(){var t;null===(t=this.addPaymentPayModalController)||void 0===t||t.open()}formatSettleAmount(t){"manual"===t&&this.patchState({promiseAttorneyAmount:0})}attorneyIdDidChange(t){this.invoiceStore.setAttorneyId("all"!==t?t:void 0),this.invoiceStore.loadInvoicesEffect()}getInitialState(){return{query:"",loading:!1,selectedInvoices:[],promiseAttorneyAmount:0}}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(lt.I),e.LFG(e.zs3))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();const Ot=function(o){return{attorneyId:o}};function xt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"ui-formly-json-form",2),e.NdJ("formIsReady",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onResize())}),e.qZA()}if(2&o){const t=r.ngIf,s=e.oxw().ngIf,i=e.oxw();e.Q6J("showSubmitButton",!1)("componentStore",i.store)("model",e.VKq(4,Ot,s))("formData",i.getFormData(t))}}function Et(o,r){if(1&o&&(e.ynx(0),e.YNc(1,xt,1,6,"ui-formly-json-form",1),e.ALo(2,"async"),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.vm$))}}let Tt=(()=>{class o extends A{constructor(t){super(),this.store=t,this.pageName="Invoices",this.portalName="Attorney",this.selectedAttorneyId$=this.store.selectedAttorneyId$,this.vm$=this.store.vm$}getFormData(t){return Object.assign(Object.assign({},t),{portalName:this.portalName,pageName:this.pageName,attorneys:this.store.attorneyOptions$})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ct))},o.\u0275cmp=e.Xpm({type:o,selectors:[["case-clinical-invoices"]],features:[e._Bn([ct,lt.I]),e.qOj],decls:2,vars:3,consts:[[4,"ngIf"],["class","w-full h-full","formName","page_attorney_invoices",3,"showSubmitButton","componentStore","model","formData","formIsReady",4,"ngIf"],["formName","page_attorney_invoices",1,"w-full","h-full",3,"showSubmitButton","componentStore","model","formData","formIsReady"]],template:function(t,s){1&t&&(e.YNc(0,Et,3,3,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.selectedAttorneyId$))},dependencies:[y.O5,L.M,y.Ov]}),o})();var dt=g(78649);let mt=(()=>{class o extends F{constructor(t,s,i){super(i),this.legalCasestore=t,this.caseStatusStore=s,this.setSelectedLegalCaseId=this.updater((n,a)=>Object.assign(Object.assign({},n),{selectedLegalCaseId:a})),this.caseStatuses$=this.caseStatusStore.caseStatuses$,this.loading$=this.select(n=>n.loading),this.legalCaseUpdates$=this.legalCasestore.legalCaseUpdates$,this.selectedLegalCaseId$=this.select(n=>n.selectedLegalCaseId),this.$gridData=this.select(this.attorneyOptions$,this.selectedAttorneyId$,(n,a)=>{console.log(a),console.log(n);const f=[];return JSON.parse(JSON.stringify(n)).forEach(l=>{var p;l.id&&"all"!==l.id&&""!==l.id&&a===l.id&&(null===(p=l?.legalCases)||void 0===p||p.forEach(d=>{var h;f.push({name:d?.name,callRecordData:null===(h=d?.caseProcedures)||void 0===h?void 0:h.map(m=>({id:m?.id,name:m?.name}))})}))}),f}),this.legalcaseItem$=this.legalCasestore.item$,this.vm$=this.select(this.loading$,this.user$,this.legalCaseUpdates$,this.caseStatuses$,this.selectedLegalCaseId$,(n,a,f,l,p)=>({loading:n,user:a,legalCaseUpdates:f,caseStatuses:l,selectedLegalCaseId:p})),this.legalCasestore.loadLegalCasesUpdatesEffect(),this.caseStatusStore.loadCaseStatusesEffect()}setEditModalController(t){this.editModalController=t}openEditDialog(){setTimeout(()=>{var t;null===(t=this.editModalController)||void 0===t||t.open()},200)}onSave(t){this.legalcaseItem$.subscribe(i=>{if(i&&"string"==typeof t?.caseStatusId){const n=t?.caseStatusId,{id:a,name:f,accidentTypeId:l,patientId:p,medLevelId:d,firmId:h,attorneyId:m,agentId:c,caseTypeId:u,patientTreatmentStatusId:v,dateOfLoss:_,caseStatusDate:I,caseStatusOther:S,paralegal:D,paralegalContact:N,caseNoteSummary:T,policyLimit:G,attorneyFee:J,referringPhysician:z,noMoreTreatment:Q,medpay:Y,fileNumber:Ce,caseNumber:$e,accidentState:Ie,assignedTo:be,attorneyPaid:Ae,attorneySentDate:Fe,writeOff:Le,noMRI:De,noPT:Me,noFirstAppointment:Pe,hot:je,documentsUploaded:we,attorneyReview:Ne,escalatedReview:Oe,inActive:xe,criteria1712:Ee,documentUploadedDate:Te,patientDischargedGatheringRecordsDate:Re,resubmitted:Be,caseProgressStatusId:Ge,firmCaseManager:Je,adverseInsuranceStatusId:ze,createdBy:Qe,renegotiatePayOffDate:Ye}=i;this.legalCasestore.updateLegalCaseEffect({id:a,name:f,accidentTypeId:l,patientId:p,medLevelId:d,firmId:h,attorneyId:m,agentId:c,caseStatusId:n,caseTypeId:u,patientTreatmentStatusId:v,dateOfLoss:_,caseStatusDate:I,caseStatusOther:S,paralegal:D,paralegalContact:N,caseNoteSummary:T,policyLimit:G,attorneyFee:J,referringPhysician:z,noMoreTreatment:Q,medpay:Y,fileNumber:Ce,caseNumber:$e,accidentState:Ie,assignedTo:be,attorneyPaid:Ae,attorneySentDate:Fe,writeOff:Le,noMRI:De,noPT:Me,noFirstAppointment:Pe,hot:je,documentsUploaded:we,attorneyReview:Ne,escalatedReview:Oe,inActive:xe,criteria1712:Ee,documentUploadedDate:Te,patientDischargedGatheringRecordsDate:Re,resubmitted:Be,caseProgressStatusId:Ge,firmCaseManager:Je,adverseInsuranceStatusId:ze,createdBy:Qe,renegotiatePayOffDate:Ye}),setTimeout(()=>{this.legalCasestore.loadLegalCasesUpdatesEffect()},300)}}).unsubscribe()}setLegalCaseId(t){this.setSelectedLegalCaseId(t),this.legalCasestore.loadLegalCaseEffect(t)}getInitialState(){return{query:"",loading:!1,selectedLegalCaseId:""}}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(P.d),e.LFG(dt.I),e.LFG(e.zs3))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();function Rt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"ui-formly-json-form",1),e.NdJ("formIsReady",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onResize())}),e.qZA()}if(2&o){const t=r.ngIf,s=e.oxw();e.Q6J("showSubmitButton",!1)("componentStore",s.store)("model",s.model)("formData",s.getFormData(t))}}let Bt=(()=>{class o extends A{constructor(t){super(),this.store=t,this.pageName="Statuses",this.portalName="Attorney",this.model={},this.selectedAttorneyId$=this.store.selectedAttorneyId$,this.vm$=this.store.vm$,this.store.attorneyOptions$.subscribe(s=>{console.log(s)}),this.subscriber=this.store.selectedAttorneyId$.subscribe(s=>{this.model.attorneyId=s})}getFormData(t){return Object.assign(Object.assign({},t),{portalName:this.portalName,pageName:this.pageName,attorneys:this.store.attorneyOptions$,colDefs:["name","state"],gridData:this.store.$gridData,masterColDefs:["id","name"],formModel:{caseStatusId:"clgx9gpsy000cqf012j0q3mv6"}})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(mt))},o.\u0275cmp=e.Xpm({type:o,selectors:[["case-clinical-satuses"]],features:[e._Bn([mt,P.d]),e.qOj],decls:2,vars:3,consts:[["class","w-full h-full","formName","page_attorney_statuses",3,"showSubmitButton","componentStore","model","formData","formIsReady",4,"ngIf"],["formName","page_attorney_statuses",1,"w-full","h-full",3,"showSubmitButton","componentStore","model","formData","formIsReady"]],template:function(t,s){1&t&&(e.YNc(0,Rt,1,4,"ui-formly-json-form",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.vm$))},dependencies:[y.O5,L.M,y.Ov]}),o})(),ht=(()=>{class o extends F{constructor(t,s,i,n,a){super(a),this.data=t,this.formService=s,this.loading=i,this.toast=n,this.loading$=this.select(f=>f.loading),this.taskItems$=this.select(this.attorneyOptions$,this.selectedAttorneyId$,(f,l)=>{var p;const d=[];return f&&(null===(p=JSON.parse(JSON.stringify(f)))||void 0===p||p.forEach(h=>{var m;(h.id===l||"all"===l)&&"all"!==h.id&&(null===(m=h.legalCases)||void 0===m||m.forEach(c=>{var u;null===(u=c.taskItems)||void 0===u||u.forEach(v=>{d.push(Object.assign(Object.assign({},v),{attorneyId:h.id,legalCaseId:c.id}))})}))})),d}),this.vm$=this.select(this.loading$,this.user$,this.taskItems$,(f,l,p)=>({loading:f,user:l,taskItems:p}))}getInitialState(){return{query:"",loading:!1}}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(x.q),e.LFG(k.o),e.LFG(H.c),e.LFG(O.F),e.LFG(e.zs3))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();const Gt=function(o){return{attorneyId:o}};function Jt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"ui-formly-json-form",2),e.NdJ("formIsReady",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onResize())}),e.qZA()}if(2&o){const t=r.ngIf,s=e.oxw().ngIf,i=e.oxw();e.Q6J("showSubmitButton",!1)("componentStore",i.store)("model",e.VKq(4,Gt,s))("formData",i.getFormData(t))}}function zt(o,r){if(1&o&&(e.ynx(0),e.YNc(1,Jt,1,6,"ui-formly-json-form",1),e.ALo(2,"async"),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.vm$))}}let Qt=(()=>{class o extends A{constructor(t){super(),this.store=t,this.pageName="Tasks",this.portalName="Attorney",this.selectedAttorneyId$=this.store.selectedAttorneyId$,this.vm$=this.store.vm$}getFormData(t){return console.log(t),Object.assign(Object.assign({},t),{portalName:this.portalName,pageName:this.pageName,attorneys:this.store.attorneyOptions$})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ht))},o.\u0275cmp=e.Xpm({type:o,selectors:[["case-clinical-tasks"]],features:[e._Bn([ht]),e.qOj],decls:2,vars:3,consts:[[4,"ngIf"],["class","w-full h-full","formName","page_attorney_tasks",3,"showSubmitButton","componentStore","model","formData","formIsReady",4,"ngIf"],["formName","page_attorney_tasks",1,"w-full","h-full",3,"showSubmitButton","componentStore","model","formData","formIsReady"]],template:function(t,s){1&t&&(e.YNc(0,zt,3,3,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.selectedAttorneyId$))},dependencies:[y.O5,L.M,y.Ov]}),o})();var ut=g(28816),B=g(30144);let ft=(()=>{class o extends F{constructor(t,s,i,n,a,f,l,p){super(p),this.authStore=t,this.data=s,this.formService=i,this.genderStore=n,this.loading=a,this.router=f,this.toast=l,this.loading$=this.select(d=>d.loading),this.profile$=this.data.me().pipe((0,$.w)(d=>{var h;return(0,b.of)(Object.assign(Object.assign({},d.data.me),{document:null!==(h=d.data.me)&&void 0!==h&&h.avatarUrl?{name:"ProfileImage.png",attachment:d.data.me.avatarUrl}:void 0}))})),this.me$=this.profile$,this.vm$=this.select(this.loading$,this.user$,(d,h)=>({loading:d,user:h})),this.model$=this.select(this.me$,this.selectedAttorneyId$,(d,h)=>Object.assign(Object.assign({},d),{attorneyId:h})),this.updateUserProfileEffect=this.effect(d=>d.pipe((0,C.b)(()=>{this.patchState({loading:!0})}),(0,$.w)(h=>{const{firstName:m,lastName:c,cellPhone:u,dateOfBirth:v,line1:_,document:I,line2:S,city:D,state:N,postalCode:T}=h;return this.data.accountUpdateProfile({input:{firstName:m,lastName:c,phone:u,dateOfBirth:v,line1:_,document:I,line2:S,city:D,state:N,postalCode:T}}).pipe((0,M._b)(()=>{this.toast.success("Successfully updated profile",{duration:3e3}),this.authStore.meEffect(),this.patchState({loading:!1})},()=>{this.toast.error("Failed to update profile",{duration:3e3}),this.patchState({loading:!1})}))})))}getInitialState(){return{query:"",loading:!1}}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(U.Q),e.LFG(x.q),e.LFG(k.o),e.LFG(ut._),e.LFG(H.c),e.LFG(B.F0),e.LFG(O.F),e.LFG(e.zs3))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();function Yt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"ui-formly-json-form",2),e.NdJ("save",function(i){e.CHM(t);const n=e.oxw(2);return e.KtG(n.store.updateUserProfileEffect(i))})("formIsReady",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onResize())}),e.qZA()}if(2&o){const t=r.ngIf,s=e.oxw().ngIf,i=e.oxw();e.Q6J("showSubmitButton",!1)("componentStore",i.store)("model",s)("formData",i.getFormData(t))("resetForm",!1)}}function Zt(o,r){if(1&o&&(e.ynx(0),e.YNc(1,Yt,1,5,"ui-formly-json-form",1),e.ALo(2,"async"),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.vm$))}}let kt=(()=>{class o extends A{constructor(t){super(),this.store=t,this.pageName="Profile",this.portalName="Attorney",this.model$=this.store.model$,this.model={},this.vm$=this.store.vm$}getFormData(t){return Object.assign(Object.assign({},t),{portalName:this.portalName,pageName:this.pageName,attorneys:this.store.attorneyOptions$})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ft))},o.\u0275cmp=e.Xpm({type:o,selectors:[["case-clinical-profile"]],features:[e._Bn([ft,ut._]),e.qOj],decls:2,vars:3,consts:[[4,"ngIf"],["class","w-full h-full","formName","page_attorney_profile",3,"showSubmitButton","componentStore","model","formData","resetForm","save","formIsReady",4,"ngIf"],["formName","page_attorney_profile",1,"w-full","h-full",3,"showSubmitButton","componentStore","model","formData","resetForm","save","formIsReady"]],template:function(t,s){1&t&&(e.YNc(0,Zt,3,3,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.model$))},dependencies:[y.O5,L.M,y.Ov]}),o})(),pt=(()=>{class o extends F{constructor(t,s,i,n,a,f,l,p){super(p),this.data=t,this.datePipe=s,this.formService=i,this.loading=n,this.route=a,this.router=f,this.toast=l,this.loading$=this.select(d=>d.loading),this.updatePasswordEffect=this.effect(d=>d.pipe((0,C.b)(h=>{this.patchState({loading:!0})}),(0,$.w)(h=>{const m={currentPassword:h?.oldPassword,password:h?.newPassword,verified:h?.passConfirm};return console.log(h),this.data.accountUpdatePassword({input:m}).pipe((0,M._b)(c=>{this.toast.success("Successfully updated Password",{duration:3e3}),this.patchState({loading:!1})},c=>{this.toast.error("Failed to update Password",{duration:3e3}),this.patchState({loading:!1})}))}))),this.vm$=this.select(this.loading$,this.user$,(d,h)=>({loading:d,user:h}))}getInitialState(){return{query:"",loading:!1}}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(x.q),e.LFG(y.uU),e.LFG(k.o),e.LFG(H.c),e.LFG(B.gz),e.LFG(B.F0),e.LFG(O.F),e.LFG(e.zs3))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();const Ht=function(o){return{attorneyId:o}};function Ut(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"ui-formly-json-form",2),e.NdJ("save",function(i){e.CHM(t);const n=e.oxw(2);return e.KtG(n.store.updatePasswordEffect(i))})("formIsReady",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onResize())}),e.qZA()}if(2&o){const t=r.ngIf,s=e.oxw().ngIf,i=e.oxw();e.Q6J("showSubmitButton",!1)("componentStore",i.store)("model",e.VKq(4,Ht,s))("formData",i.getFormData(t))}}function qt(o,r){if(1&o&&(e.ynx(0),e.YNc(1,Ut,1,6,"ui-formly-json-form",1),e.ALo(2,"async"),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.vm$))}}let Kt=(()=>{class o extends A{constructor(t){super(),this.store=t,this.pageName="ChangePassword",this.portalName="Attorney",this.selectedAttorneyId$=this.store.selectedAttorneyId$,this.vm$=this.store.vm$}getFormData(t){return Object.assign(Object.assign({},t),{portalName:this.portalName,pageName:this.pageName,attorneys:this.store.attorneyOptions$})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(pt))},o.\u0275cmp=e.Xpm({type:o,selectors:[["case-clinical-change-password"]],features:[e._Bn([pt]),e.qOj],decls:2,vars:3,consts:[[4,"ngIf"],["class","w-full h-full","formName","page_attorney_change_password",3,"showSubmitButton","componentStore","model","formData","save","formIsReady",4,"ngIf"],["formName","page_attorney_change_password",1,"w-full","h-full",3,"showSubmitButton","componentStore","model","formData","save","formIsReady"]],template:function(t,s){1&t&&(e.YNc(0,qt,3,3,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.selectedAttorneyId$))},dependencies:[y.O5,L.M,y.Ov]}),o})(),gt=(()=>{class o extends F{constructor(t,s,i){super(i),this.data=t,this.datePipe=s,this.locationAvalabilityId="",this.loading$=this.select(n=>n.loading),this.tag$=this.select(n=>n.tag),this.read$=this.select(n=>n.read),this.notifications$=this.select(n=>n.notifications),this.paging$=this.select(n=>n.paging),this.setTag=this.updater((n,a)=>Object.assign(Object.assign({},n),{tag:a})),this.setRead=this.updater((n,a)=>Object.assign(Object.assign({},n),{read:a})),this.vm$=this.select(this.loading$,this.user$,this.notifications$,(n,a,f)=>({loading:n,user:a,notifications:f})),this.setStatusWatch=this.effect(n=>n.pipe((0,C.b)(a=>{this.patchState({loading:!0})}),(0,$.w)(a=>this.data.updateReadStatus({notificationId:a}).pipe((0,M._b)(f=>{this.patchState({loading:!1})},f=>{this.patchState({loading:!1})}))))),this.loadNotificationsEffect=this.effect(n=>n.pipe((0,C.b)(()=>{this.patchState({loading:!0})}),(0,j.M)(this.tag$,this.read$,this.paging$),(0,$.w)(([,a,f,l])=>(console.log({tag:a,read:f,paging:l}),this.data.userNovuNotifications({input:{tag:a,read:f,limit:l?.limit,skip:l?.skip}}).pipe((0,M._b)(p=>{var d,h,m,c;const u=null===(d=p.data.notifications)||void 0===d?void 0:d.map(v=>Object.assign(Object.assign({},v),{formatRelativeTime:(0,Z.SY)(new Date(v.createdAt))}));this.patchState({paging:{limit:null===(h=p.data.count)||void 0===h?void 0:h.limit,skip:null===(m=p.data.count)||void 0===m?void 0:m.skip,total:null===(c=p.data.count)||void 0===c?void 0:c.total},loading:!1,notifications:u??[]})},p=>{console.log(p),this.patchState({loading:!1})})))))),this.setSkip=this.updater((n,a)=>Object.assign(Object.assign({},n),{paging:Object.assign(Object.assign({},n.paging),{skip:a})})),this.setLimit=this.updater((n,a)=>Object.assign(Object.assign({},n),{paging:Object.assign(Object.assign({},n.paging),{limit:a})})),this.setLimit(10),this.setSkip(0)}skipDidChange(t){this.setSkip(t),this.loadNotificationsEffect()}tagQueryDidChange(t){this.setTag(t),this.loadNotificationsEffect()}readFilterDidChange(t){console.log(t),this.setRead("read"===t),this.loadNotificationsEffect()}getInitialState(){return{query:"",loading:!1,notifications:[],tag:"",read:!1,paging:{skip:0,limit:10}}}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(x.q),e.LFG(y.uU),e.LFG(e.zs3))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();const Vt=function(o){return{attorneyId:o}};function Xt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"ui-formly-json-form",2),e.NdJ("formIsReady",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onResize())}),e.qZA()}if(2&o){const t=r.ngIf,s=e.oxw().ngIf,i=e.oxw();e.Q6J("showSubmitButton",!1)("componentStore",i.store)("model",e.VKq(4,Vt,s))("formData",i.getFormData(t))}}function Wt(o,r){if(1&o&&(e.ynx(0),e.YNc(1,Xt,1,6,"ui-formly-json-form",1),e.ALo(2,"async"),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.vm$))}}let te=(()=>{class o extends A{constructor(t,s){super(),this.store=t,this.authStore=s,this.pageName="Notifications",this.portalName="Attorney",this.model={},this.selectedAttorneyId$=this.store.selectedAttorneyId$,this.subscriberId=void 0,this.vm$=this.store.vm$,this.subscriber=this.store.selectedAttorneyId$.subscribe(i=>{this.model.AttorneyId=i})}ngOnDestroy(){var t;null===(t=this.subscriber)||void 0===t||t.unsubscribe()}getFormData(t){return Object.assign(Object.assign({},t),{portalName:this.portalName,pageName:this.pageName,attorneys:this.store.attorneyOptions$,paging:this.store.paging$})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(gt),e.Y36(U.Q))},o.\u0275cmp=e.Xpm({type:o,selectors:[["case-clinical-notifications"]],features:[e._Bn([gt]),e.qOj],decls:2,vars:3,consts:[[4,"ngIf"],["class","w-full h-full","formName","page_attorney_notifications",3,"showSubmitButton","componentStore","model","formData","formIsReady",4,"ngIf"],["formName","page_attorney_notifications",1,"w-full","h-full",3,"showSubmitButton","componentStore","model","formData","formIsReady"]],template:function(t,s){1&t&&(e.YNc(0,Wt,3,3,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.selectedAttorneyId$))},dependencies:[y.O5,L.M,y.Ov]}),o})();var ee=g(23387),oe=g(63808),se=g(91728),ie=g(27503),ne=g(19859);let vt=(()=>{class o extends F{constructor(t,s,i,n,a,f,l){var p;if(super(l),this.appointmentstore=t,this.documentStore=s,this.route=i,this.toast=n,this.legalCaseStore=a,this.providerLocationStore=f,this.loading$=this.select(d=>d.loading),this.legalCases$=this.legalCaseStore.legalCases$,this.providerLocation$=this.providerLocationStore.formattedItem$.pipe((0,C.b)(d=>console.log(d))),this.attachment$=this.documentStore.item$.pipe((0,C.b)(d=>{d&&!d.attachment&&this.toast.error("Cannot find attachment file!",{duration:2e3})})),this.vm$=this.select(this.loading$,this.user$,this.providerLocation$,(d,h,m)=>{var c;return{loading:d,user:h,providerLocation:m,clinicalProvider:m?.clinicalProvider,businessHours:null===(c=m?.clinicalProvider)||void 0===c?void 0:c.businessHours}}),this.loadLegalCasesEffect=this.effect(d=>d.pipe((0,C.b)(()=>{this.patchState({loading:!0})}),(0,j.M)(this.attorneyId$),(0,$.w)(([,h])=>(this.legalCaseStore.setAttorneyId(h),this.legalCaseStore.loadLegalCasesEffect(),(0,b.of)(!0))))),this.patchState({query:"",loading:!1}),this.route.snapshot.paramMap.has("clinicalProviderLocationId")){const d=null!==(p=this.route.snapshot.paramMap.get("clinicalProviderLocationId"))&&void 0!==p?p:"";this.providerLocationStore.loadClinicalProviderLocationEffect(d)}this.loadLegalCasesEffect()}loadImageDetail(t){this.documentStore.loadDocumentEffect(t)}setAddAppointmentModalController(t){this.addAppointmentModalController=t}openAddAppointmentDialog(t){var s,i;null===(s=this.addAppointmentModalController)||void 0===s||s.open({clinicalProviderId:t?.clinicalProviderId,locationId:null===(i=t.location)||void 0===i?void 0:i.id,provider:t.clinicalProvider,location:t.location},{legalCases:this.legalCases$},this)}saveAppointment(t){const s=this.appointmentstore.actionResult$.subscribe(h=>{var m;if(h){const{done:c}=h;c&&(null===(m=this.addAppointmentModalController)||void 0===m||m.close(),s.unsubscribe())}}),{appointmentDateAndTime:i,clinicalProviderId:n,legalCaseId:a,locationId:f,name:l,patientId:p,start:d}=t;this.appointmentstore.createAppointmentEffect({appointmentDateAndTime:i,clinicalProviderId:n,legalCaseId:a,locationId:f,name:l,patientId:p,start:d})}getInitialState(){return{query:"",loading:!1}}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(w.L6),e.LFG(R.F),e.LFG(B.gz),e.LFG(O.F),e.LFG(P.d),e.LFG(q.j),e.LFG(e.zs3))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();var W=g(94929);function ae(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"ui-formly-json-form",1),e.NdJ("formIsReady",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onResize())}),e.qZA(),e.BQk()}if(2&o){const t=r.ngIf,s=e.oxw();e.xp6(1),e.Q6J("showSubmitButton",!1)("componentStore",s.store)("formData",s.getFormData(t))}}let re=(()=>{class o extends A{constructor(t){super(),this.store=t,this.pageName="Doctor-Detail",this.portalName="Attorney",this.selectedAttorneyId$=this.store.selectedAttorneyId$,this.vm$=this.store.vm$}getFormData(t){return Object.assign(Object.assign({},t),{portalName:this.portalName,pageName:this.pageName,previewImage:this.store.attachment$})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(vt))},o.\u0275cmp=e.Xpm({type:o,selectors:[["case-clinical-doctor-details"]],features:[e._Bn([vt,W.D,q.j,it.J,R.F,P.d]),e.qOj],decls:2,vars:3,consts:[[4,"ngIf"],["formName","page_attorney_doctor_detail",1,"w-full","h-full",3,"showSubmitButton","componentStore","formData","formIsReady"]],template:function(t,s){1&t&&(e.YNc(0,ae,2,3,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.vm$))},dependencies:[y.O5,L.M,y.Ov]}),o})();var le=g(46277);let yt=(()=>{class o extends F{constructor(t,s){super(t),this.formlySettingStore=s,this.loading$=this.select(i=>i.loading),this.formlySetting$=this.formlySettingStore.formlySetting$,this.vm$=this.select(this.loading$,this.user$,(i,n)=>({loading:i,user:n}))}loadFormlySetting(){this.formlySettingStore.loadFormlySettingsEffect()}updateFormlySetting(t){if(t?.id){const{id:s,selectCurrency:i,selectDateFormat:n,selectLanguage:a,timeFormat:f}=t;this.formlySettingStore.updateFormlySettingsEffect({id:s,selectCurrency:i,timeFormat:f,selectDateFormat:n,selectLanguage:a})}else{const{selectCurrency:s,selectDateFormat:i,selectLanguage:n,timeFormat:a}=t;this.formlySettingStore.createFormlySettingsEffect({selectCurrency:s,selectDateFormat:i,timeFormat:a,selectLanguage:n})}}getInitialState(){return{query:"",loading:!1}}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(e.zs3),e.LFG(le.h))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();var ce=g(77579),_t=g(82722);function de(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"ui-formly-json-form",1),e.NdJ("formIsReady",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.formIsReady())})("save",function(i){e.CHM(t);const n=e.oxw();return e.KtG(n.save(i))}),e.qZA()}if(2&o){const t=r.ngIf,s=e.oxw();e.Q6J("showSubmitButton",!1)("model",s.model)("formData",s.getFormData(t))}}let me=(()=>{class o extends A{constructor(t){super(),this.store=t,this.pageName="Setting",this.portalName="Attorney",this._unsubscribeAll=new ce.x,this.vm$=this.store.vm$,this.model={},this.selectedAttorneyId$=this.store.selectedAttorneyId$,this.store.formlySetting$.pipe((0,_t.R)(this._unsubscribeAll)).subscribe(s=>{console.log(s.value),this.model=Object.assign(Object.assign({},this.model),s.value)}),this.store.selectedAttorneyId$.pipe((0,_t.R)(this._unsubscribeAll)).subscribe(s=>{this.model.attorneyId=s})}ngOnDestroy(){this._unsubscribeAll.complete()}formIsReady(){this.onResize(),this.store.loadFormlySetting()}getFormData(t){return Object.assign(Object.assign({},t),{pageName:this.pageName,portalName:this.portalName,attorneys:this.store.attorneyOptions$})}save(t){console.log(t),this.store.updateFormlySetting(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(yt))},o.\u0275cmp=e.Xpm({type:o,selectors:[["case-clinical-setting"]],features:[e._Bn([yt]),e.qOj],decls:2,vars:3,consts:[["class","w-full h-full","formName","page_attorney_setting",3,"showSubmitButton","model","formData","formIsReady","save",4,"ngIf"],["formName","page_attorney_setting",1,"w-full","h-full",3,"showSubmitButton","model","formData","formIsReady","save"]],template:function(t,s){1&t&&(e.YNc(0,de,1,3,"ui-formly-json-form",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.vm$))},dependencies:[y.O5,L.M,y.Ov]}),o})(),St=(()=>{class o extends F{constructor(t,s,i,n,a){super(a),this.data=t,this.documentStore=s,this.providerStore=i,this.toast=n,this.loading$=this.select(f=>f.loading),this.doctors$=this.providerStore.clinicalProviders$.pipe((0,$.w)(f=>(0,b.of)(f.map(l=>{var p,d,h,m,c,u,v,_;let I=0;return null===(p=l?.clinicalProviderSpecialties)||void 0===p||p.map(({})=>{I++}),Object.assign(Object.assign({},l),{mainLocation:null===(h=null===(d=l.clinicalProviderLocations)||void 0===d?void 0:d.at(0))||void 0===h?void 0:h.location,mainSpecialty:null===(u=null===(c=null===(m=l.clinicalProviderSpecialties)||void 0===m?void 0:m.at(0))||void 0===c?void 0:c.specialty)||void 0===u?void 0:u.name,locations:null===(v=l?.clinicalProviderLocations)||void 0===v?void 0:v.map(({location:S})=>{var D;return{id:S?.id,name:S?.name,document:null===(D=S?.locationImages)||void 0===D?void 0:D.at(0)}}),services:l?.services,specialitesCount:I-3,specialties:null===(_=l?.clinicalProviderSpecialties)||void 0===_?void 0:_.slice(0,3),recommendPercent:0})})))),this.attachment$=this.documentStore.item$.pipe((0,C.b)(f=>{f&&!f.attachment&&this.toast.error("Cannot find attachment file!",{duration:2e3})})),this.vm$=this.select(this.loading$,this.doctors$,this.user$,(f,l,p)=>({loading:f,doctors:l,user:p})),this.updateFavoriteProviderEffect=this.effect(f=>f.pipe((0,C.b)(()=>{this.patchState({loading:!0})}),(0,$.w)(({clinicalProviderId:l})=>this.data.userRemoveFromFavorites({clinicalProviderId:l}).pipe((0,M._b)(p=>{var d;this.toast.success("Removed from favorites",{duration:2e3}),this.providerStore.removeClinicalProvider(null===(d=p.data)||void 0===d?void 0:d.updated)},p=>{this.toast.error(p.graphQLErrors[0].message)}))))),this.providerStore.setFavorites(!0),this.providerStore.loadClinicalProvidersEffect()}loadImageDetail(t){this.documentStore.loadDocumentEffect(t)}getInitialState(){return{query:"",loading:!1}}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(x.q),e.LFG(R.F),e.LFG(W.D),e.LFG(O.F),e.LFG(e.zs3))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();var he=g(32944);const ue=function(o){return{attorneyId:o}};function fe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"ui-formly-json-form",2),e.NdJ("formIsReady",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onResize())}),e.qZA()}if(2&o){const t=r.ngIf,s=e.oxw().ngIf,i=e.oxw();e.Q6J("showSubmitButton",!1)("componentStore",i.store)("model",e.VKq(4,ue,s))("formData",i.getFormData(t))}}function pe(o,r){if(1&o&&(e.ynx(0),e.YNc(1,fe,1,6,"ui-formly-json-form",1),e.ALo(2,"async"),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.vm$))}}let ge=(()=>{class o extends A{constructor(t){super(),this.store=t,this.pageName="Favorites",this.portalName="Attorney",this.vm$=this.store.vm$,this.selectedAttorneyId$=this.store.selectedAttorneyId$,this.model={}}getFormData(t){return Object.assign(Object.assign({},t),{pageName:this.pageName,portalName:this.portalName,attorneys:this.store.attorneyOptions$,previewImage:this.store.attachment$})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(St))},o.\u0275cmp=e.Xpm({type:o,selectors:[["case-clinical-favorite-doctors"]],features:[e._Bn([St,R.F,he.m,W.D]),e.qOj],decls:2,vars:3,consts:[[4,"ngIf"],["class","w-full h-full","formName","page_attorney_favorites",3,"showSubmitButton","componentStore","model","formData","formIsReady",4,"ngIf"],["formName","page_attorney_favorites",1,"w-full","h-full",3,"showSubmitButton","componentStore","model","formData","formIsReady"]],template:function(t,s){1&t&&(e.YNc(0,pe,3,3,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.selectedAttorneyId$))},dependencies:[y.O5,L.M,y.Ov]}),o})();var ve=g(78858);let Ct=(()=>{class o extends F{constructor(t,s,i){var n;if(super(t),this.route=s,this.legalCaseStore=i,this.loading$=this.select(a=>a.loading),this.legalCase$=this.legalCaseStore.item$,this.vm$=this.select(this.loading$,this.user$,this.legalCase$,(a,f,l)=>({loading:a,user:f,legalCase:l})),this.route.snapshot.paramMap.has("memberId")){const a=null!==(n=this.route.snapshot.paramMap.get("memberId"))&&void 0!==n?n:"";this.legalCaseStore.loadLegalCaseEffect(a)}}getInitialState(){return{query:"",loading:!1}}setCaseInfoModalCtrl(t){this.caseInfoModalCtrl=t}openCaseInfoModal(){var t;null===(t=this.caseInfoModalCtrl)||void 0===t||t.open({},{},this)}setHealthInsuranceModalCtrl(t){this.HealthInsuranceModalCtrl=t}openHealthInsuranceModal(){var t;null===(t=this.HealthInsuranceModalCtrl)||void 0===t||t.open({},{},this)}setAccidentModalCtrl(t){this.AccidentModalCtrl=t}openAccidentModal(){var t;null===(t=this.AccidentModalCtrl)||void 0===t||t.open({},{},this)}setProductLiabilityModalCtrl(t){this.ProductLiabilityModalCtrl=t}openProductLiabilityModal(){var t;null===(t=this.ProductLiabilityModalCtrl)||void 0===t||t.open({},{},this)}setWorkersCompensationModalCtrl(t){this.WorkersCompensationModalCtrl=t}openWorkersCompensationModal(){var t;null===(t=this.WorkersCompensationModalCtrl)||void 0===t||t.open({},{},this)}setMotorVehicleAccidentModalCtrl(t){this.MotorVehicleAccidentModalCtrl=t}openMotorVehicleAccidentModal(){var t;null===(t=this.MotorVehicleAccidentModalCtrl)||void 0===t||t.open({},{},this)}setInsuranceInformationModalCtrl(t){this.InsuranceInformationModalCtrl=t}openInsuranceInformationModal(){var t;null===(t=this.InsuranceInformationModalCtrl)||void 0===t||t.open({},{},this)}setInjuryModalCtrl(t){this.InjuryModalCtrl=t}openInjuryModal(){var t;null===(t=this.InjuryModalCtrl)||void 0===t||t.open({},{},this)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(e.zs3),e.LFG(B.gz),e.LFG(P.d))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();function ye(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"ui-formly-json-form",1),e.NdJ("formIsReady",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onResize())}),e.qZA()}if(2&o){const t=r.ngIf,s=e.oxw();e.Q6J("showSubmitButton",!1)("componentStore",s.store)("formData",s.getFormData(t.legalCase))}}let _e=(()=>{class o extends A{constructor(t){super(),this.store=t,this.pageName="Member Details",this.portalName="Attorney",this.vm$=this.store.vm$}getFormData(t){return Object.assign(Object.assign({},t),{portalName:this.portalName,pageName:this.pageName})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Ct))},o.\u0275cmp=e.Xpm({type:o,selectors:[["case-clinical-member-details"]],features:[e._Bn([P.d,Ct]),e.qOj],decls:2,vars:3,consts:[["class","w-full h-full","formName","page_attorney_member_details",3,"showSubmitButton","componentStore","formData","formIsReady",4,"ngIf"],["formName","page_attorney_member_details",1,"w-full","h-full",3,"showSubmitButton","componentStore","formData","formIsReady"]],template:function(t,s){1&t&&(e.YNc(0,ye,1,3,"ui-formly-json-form",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.vm$))},dependencies:[y.O5,L.M,y.Ov]}),o})(),Se=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[et,K.I,U.Q,w.L6,dt.I],imports:[y.ez,ee.m,ie.G,ne.t,oe.B,se.o,ve.i,B.Bz.forChild([{path:"",pathMatch:"full",redirectTo:"dashboard"},{path:"dashboard",component:At},{path:"appointments",component:Lt},{path:"tasks",component:Qt},{path:"profile",component:kt},{path:"change-password",component:Kt},{path:"invoices",component:Tt},{path:"members",children:[{path:"",component:Nt},{path:":memberId",children:[{path:"details",component:_e},{path:"",pathMatch:"full",redirectTo:"details"}]}]},{path:"statuses",component:Bt},{path:"favorites",component:ge},{path:"notifications",children:[{path:"",component:te}]},{path:"setting",component:me},{path:"providers",children:[{path:"",component:Mt},{path:":clinicalProviderLocationId",children:[{path:"details",component:re},{path:"",pathMatch:"full",redirectTo:"details"}]}]}])]}),o})()}}]);