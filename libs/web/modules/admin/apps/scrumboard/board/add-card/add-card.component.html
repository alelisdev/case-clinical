<div
    class="p-3 pt-0"
    [class.h-13]="!formVisible">
    <div class="relative flex w-full h-full rounded-lg">
        <button
            class="absolute inset-0 justify-center w-full px-5 py-6 rounded-lg border-1 border-dashed border-gray-300"
            [ngClass]="{'opacity-0 pointer-events-none': formVisible}"
            mat-button
            (click)="toggleFormVisibility()"
            disableRipple>
            <mat-icon
                class="icon-size-6"
                [svgIcon]="'heroicons_outline:plus'"></mat-icon>
            <span class="ml-1 text-secondary text-lg font-semibold">{{buttonTitle}}</span>
        </button>
        <form
            class="flex flex-col items-start w-full"
            [ngClass]="{'opacity-0': !formVisible}"
            [formGroup]="form">
            <div class="flex w-full p-5 rounded-lg shadow bg-card">
                <textarea
                    class="w-full text-lg font-medium leading-6 h-10 rounded-md"
                    [spellcheck]="'off'"
                    [formControlName]="'title'"
                    [placeholder]="'Enter card title...'"
                    (keydown.enter)="save()"
                    cdkTextareaAutosize
                    #titleInput
                    #titleAutosize="cdkTextareaAutosize">
                </textarea>
            </div>
            <div class="flex items-center mt-2">
                <button
                    class="h-8 min-h-8 text-white"
                    mat-flat-button
                    [type]="'button'"
                    [color]="'primary'"
                    (click)="save()">
                    Add card
                </button>
                <button
                    class="h-8 min-h-8 text-white ml-3 bg-red-500"
                    mat-flat-button
                    [type]="'button'"
                    [color]="'warning'"
                    (click)="toggleFormVisibility()">
                    Cancel
                </button>
            </div>
        </form>
    </div>
</div>
